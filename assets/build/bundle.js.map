{
  "version": 3,
  "sources": [
    "../../../../../usr/local/lib/node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/js/components/cameras/camera.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/js/components/lights/track-camera-lights.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/js/core/manifestToPoem.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/js/core/poem.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/js/core/routing.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/js/core/ui.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/js/demos/levels/intro.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/js/demos/physics/physics-box.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/js/demos/physics/physics-load-level.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/js/demos/physics/physics-sphere.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/js/demos/physics/physics.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/js/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/js/renderers/basic-renderer.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/js/renderers/utils/create-renderer.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/js/renderers/utils/resize-handler.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/js/renderers/utils/resize-renderer-fn.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/js/sound/mute.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/js/utils/ThreeConsole.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/js/utils/device-orientation-quat.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/js/utils/sync-physics-body.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/js/vendor/DeviceOrientationControls.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/js/vendor/OrbitControls.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/manifests/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/manifests/physics.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/cannon/build/cannon.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/crossroads/dist/crossroads.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/crossroads/node_modules/signals/dist/signals.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/es6-promise/dist/es6-promise.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/hasher/dist/js/hasher.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/hasher/node_modules/signals/dist/signals.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/localforage/node_modules/promise/core.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/localforage/node_modules/promise/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/localforage/node_modules/promise/node_modules/asap/asap.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/localforage/src/drivers/indexeddb.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/localforage/src/drivers/localstorage.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/localforage/src/drivers/websql.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/localforage/src/localforage.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/localforage/src/utils/serializer.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-loop/lib/clock.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-loop/lib/loop.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-loop/node_modules/lodash.assign/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-loop/node_modules/lodash.assign/node_modules/lodash._baseassign/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-loop/node_modules/lodash.assign/node_modules/lodash._baseassign/node_modules/lodash._basecopy/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-loop/node_modules/lodash.assign/node_modules/lodash._createassigner/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-loop/node_modules/lodash.assign/node_modules/lodash._createassigner/node_modules/lodash._bindcallback/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-loop/node_modules/lodash.assign/node_modules/lodash._createassigner/node_modules/lodash._isiterateecall/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-loop/node_modules/lodash.assign/node_modules/lodash._createassigner/node_modules/lodash.restparam/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-loop/node_modules/lodash.assign/node_modules/lodash.keys/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-loop/node_modules/lodash.assign/node_modules/lodash.keys/node_modules/lodash._getnative/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-loop/node_modules/lodash.assign/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-loop/node_modules/lodash.assign/node_modules/lodash.keys/node_modules/lodash.isarray/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-loop/node_modules/raf/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-loop/node_modules/raf/node_modules/performance-now/lib/performance-now.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-manifests/lib/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-manifests/node_modules/lodash.assign/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-manifests/node_modules/lodash.assign/node_modules/lodash._baseassign/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-manifests/node_modules/lodash.assign/node_modules/lodash._baseassign/node_modules/lodash._basecopy/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-manifests/node_modules/lodash.assign/node_modules/lodash._createassigner/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-manifests/node_modules/lodash.assign/node_modules/lodash._createassigner/node_modules/lodash._bindcallback/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-manifests/node_modules/lodash.assign/node_modules/lodash._createassigner/node_modules/lodash._isiterateecall/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-manifests/node_modules/lodash.assign/node_modules/lodash._createassigner/node_modules/lodash.restparam/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-manifests/node_modules/lodash.assign/node_modules/lodash.keys/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-manifests/node_modules/lodash.assign/node_modules/lodash.keys/node_modules/lodash._getnative/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-manifests/node_modules/lodash.assign/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-manifests/node_modules/lodash.assign/node_modules/lodash.keys/node_modules/lodash.isarray/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-manifests/node_modules/lodash.foreach/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-manifests/node_modules/lodash.foreach/node_modules/lodash._arrayeach/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-manifests/node_modules/lodash.foreach/node_modules/lodash._baseeach/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-manifests/node_modules/lodash.foreach/node_modules/lodash._baseeach/node_modules/lodash.keys/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-manifests/node_modules/lodash.foreach/node_modules/lodash._baseeach/node_modules/lodash.keys/node_modules/lodash._getnative/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-manifests/node_modules/lodash.foreach/node_modules/lodash._baseeach/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-manifests/node_modules/lodash.foreach/node_modules/lodash._bindcallback/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-manifests/node_modules/lodash.foreach/node_modules/lodash.isarray/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-manifests/node_modules/lodash.isobject/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-menu/lib/colors.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-menu/lib/menu.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-menu/node_modules/class-list/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-menu/node_modules/class-list/node_modules/indexof/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-menu/node_modules/insert-css/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-menu/node_modules/lodash/dist/lodash.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-mute/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-mute/node_modules/class-list/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-mute/node_modules/class-list/node_modules/indexof/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-mute/node_modules/extend/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-mute/node_modules/insert-css/index.js",
    "/Users/gregtatum/Google Drive/greg-sites/blob/node_modules/poem-mute/ui.js",
    "/usr/local/lib/node_modules/browserify/node_modules/buffer/index.js",
    "/usr/local/lib/node_modules/browserify/node_modules/buffer/node_modules/base64-js/lib/b64.js",
    "/usr/local/lib/node_modules/browserify/node_modules/buffer/node_modules/ieee754/index.js",
    "/usr/local/lib/node_modules/browserify/node_modules/buffer/node_modules/is-array/index.js",
    "/usr/local/lib/node_modules/browserify/node_modules/events/events.js",
    "/usr/local/lib/node_modules/browserify/node_modules/process/browser.js"
  ],
  "names": [],
  "mappings": "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nBA,CHmBC,ACXA,CAAC,AERA,GHmBG,CAAC,ACXA,CAAC,CAAC,EDWE,CAAC,CAAE,CAAC,IGnBG,EAAG;ADKxD,AERF,CJwBC,CAAC,EIxBE,MFQM,EAAG,AGHb,MDLkB,GAAG,ACKZ,ODLmB,CAAC,CFQN,CGHJ,GAElB,GAAI,CHC0B,CGC9B,CHDgC,IAAI,EAAG,CERO,CAAC,CAAC,MCSjC,QAAQ,GAAI,OAAQ,SAAU,GAC5C,EAAO,EAAE,QAGV,EAAK,QAAQ,GAAG,QAAS,WACpB,GAAO,EAAK,UAGjB,EAAK,QAAQ,GAAG,OAAQ,WACnB,GAAO,EAAK,SApBlB,GAAI,UAAW,QAAQ,aACnB,QAAU,QAAQ,aAClB,KAAO,QAAQ,iBACf,eAAiB,QAAQ,mBAE7B,QAAO,KAAO,KAsBd,OAAO,QAAU,SAAkB,GAElC,GAAI,GAAO,SAAU,GACpB,IAAK,mBACL,OAAS,KAAK,IAGf,UAAU;AJnBV,ACLyC,ACHzC,KFQI,AERA,KDG4C,CCHtC,GAAG,CAAC,CFQC,AERA,GFQG,GERG,CFQC,AERA,EDGyC,CAAE,EDKtC,CAAC,KCL6C,EAAE,GDKrC,CAAE,ICL2C,CAAE,CAAC,EDKtC,EAAE,CAAC,EAAE,CAAC,CAAE,CAAC;ADa1D,ACZE,AERA,ACJF,ACJA,GHUyF,CENrF,ACJA,EL4BE,CAAC,AGpBA,EAAG,GFQG,AGZD,ACJA,CJgBE,CDYA,CIxBC,ACJA,EL4BE,AGpBC,IFQI,CAAC,AGZD,ACJA,CL4BC,AIxBA,ACJA,CL4BC,CCZE,CAAC,CAAC,GAAG,EAAE,EIhBC,CJgBE,AIhBD,CAAC,CJgBE,CAAC,IAAI,CAAC,CAAC;ACL3C,ACFA,ACJF,ACJA,IDII,ACJA,OAAO,CFQC,EAAG,AERD,EHUE,CCFE,ACJD,CFME,AENF,EFMI,CGVA,CAAC,WAAW,CAAC,CAAC;AL6BnC,ACZC,AERC,AERF,EHUE,CAAC,CAAC,AGVA,CJgBC,CDYC,ACZA,CDYC,CK5BC,GJgBG,AERA,AERA,CJgBC,AKlBZ,CHUc,CAAC,CFQA,CDYC,ACZC,EIhBC,CL4BC,AK5BA,CCFZ,GLkBiB,CAAE,CAAC,IKhB1B,KDAiC,CAAC,CAAC,ACA3B,GAAG,GAAG,GACd,iBACG,GAAG,IAAI,GAAG,MACV,GAAG,IAAI,GAAG,MACV,GAAG,IAAI,GAAG,MACV,GAAG,IAAI,GAAG,MACV,GAAG,IAAI,GAAG,MACV,GAAG,IAAI,GAAG,MACV,GAAG,IAAI,GAAG,MACV,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,EAAE,OACV,EAAE,KAAK,EAAE,OACT,EAAE,KAAK,EAAE,MAEZ,SACG,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,OACX,GAAG,KAAK,GAAG,MACX,GAAG,IAAI,GAAG,MACV,GAAG,IAAI,GAAG,MACV,GAAG,IAAI,EAAE,MACT,EAAE,IAAI,EAAE,MACR,EAAE,IAAI,EAAE;AH1DV,ACJF,ACJA,IDII,ACJA,IFQI,EAAG,CCJA,GDII,ACJD,ICJI,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;AL6BhD,ACZA,ACNA,AIdD,EHYE,EAAE,CFQC,CAAC,AKpBA,CNgCC,AMhCA,ENgCG,AElBD,CAAC,EDME,ACNA,CDMC,ACNA,CCFC,AGZA,CHYE,CAAA,CGZC,ELoBE,ACNA,CDMC,CCNC,EDME,CAAE,GDYJ,IElBU,CAAC,CDME,CAAE,ACND,CDME;ADanC,ACZD,ACNC,AEND,ACJD,KJgBK,CDYC,ACZA,AGZA,ACJA,CL4BC,AK5BA,CHUC,AENC,CFMA,EGVE,CJgBC,CDYC,ACZA,ACNA,CFkBC,AK5BA,EHUE,CAAC,CAAC,AGVA,CJgBC,AIhBA,CL4BC,ACZA,GDYG,ACZA,ACNA,AENJ,CHYM,ACND,GEND,EJwBM,AIxBJ,CJwBK,GCZI,CAAE,CAAC,GGZH,EJwBM,AIxBH,GJwBM,MAAM,CAAC,WAAW,CAAC;AAC5D,ACZD,AERA,AGZA,EJcC,CAAC,CAAC,CDMC,AERA,CHoBC,ACZA,AKpBA,CNgCC,CMhCC,CAAC,EHYE,AGZA,CLoBC,AERA,AIVZ,CP8Ba,ACZA,AKpBD,CNgCE,CMhCA,EAAC,CHYG,AGZF,CLoBG,AKpBF,CLoBG,AERC,CIVZ,ENkBc,CAAE,UMlBH,CNkBc,CDYA,ACZE,AMlBV,CNkBW,CDYD,CAAC,AO5BtC,GAAI,GAAO,GAAI,OAAM,KACpB,GAAI,OAAM,YAAY,EAAO,KAAK,GAAI,EAAO,KAAK,GAAI,EAAO,KAAK,IAClE,GAAI,OAAM,mBACT,MAAO,UAOT,OAHA,GAAK,YAAa,EAClB,EAAK,eAAgB,EAEd,EAGR,QAAS,gBAAgB,EAAM,EAAQ,GAEtC,GAAI,GAAW,GAAI,QAAO,SAEtB,EAAO,GAAI,QAAO,MACrB,KAAM,EAAO,KACb,SAAU,GAgBX,OAdA,GAAK,SAAU,GAAI,QAAO,IAAI,GAAI,QAAO,KACxC,EAAO,KAAK,GAAK,EAAG,EAAO,KAAK,GAAK,EAAG,EAAO,KAAK,GAAK,KAE1D,EAAK,SAAS,IAAK,EAAO,SAAS,GAAI,EAAO,SAAS,GAAI,EAAO,SAAS,IAC3E,EAAK,WAAW,aAAc,EAAO,MAAM,GAAI,EAAO,MAAM,GAAI,EAAO,MAAM,GAAI,OAEjF,EAAK,MAAM,IAAK,GAChB,EAAK,MAAM,IAAK,GAEhB,EAAK,KAAO,EAGZ,kBAAmB,EAAM,EAAK,QAEvB,EAGR,QAAS,WAAW,GAGnB,GAAI,GAAO,kBAAmB,EAAM,EAAK,KAEzC,OAAO,YACN,KAlDF,GAAI,mBAAoB,QAAQ,iCAC5B,OAAS,QAAQ,UACjB,MAAQ,QAAQ,kBAoDpB,QAAO,QAAU,SAAqB,EAAM,GAG3C,GAAI,GAAS,EAAE,QACd,MAAO,IAAK,GAAI,KAChB,KAAO,EACP,UAAY,EAAE,KAAK,GACnB,OAAS,EAAE,EAAE,IACX,GAEC,EAAO,YAAa,EAAM,EACnB,gBAAgB,EAAM,EAAQ;AJlDxC,ACJA,ACJF,ACJC,CLqBA,ACNA,CFiBC,ACXA,ACNA,KCHK,CAAC,CERC,EFQE,GAAG,AGZA,CFQC,CERC,CDIC,ACHf,CHWgB,ACJA,ACJC,ACHhB,CFOgB,AEPf,CFOgB,CEPd,CDGiB,CFQA,AGXhB,CHWiB,AERE,ACHlB,CFOiB,AEPhB,CFOkB,CDIA,ACJC,AEPlB,CHYP,ACL0B,AEPlB,EAAE,EFOoB,AEPnB,CFOqB,AEPpB,CHYN,AGZO,CHYN,AGZO,EACf,CAAC,CAAC,CHWW,CGXT,CHYH,ACNyC,CAAE,AENvC,CFMyC,AENxC,CFMwC,AENvC,EAAC,CAAC,EAAE,EAAC,CAAC,CAAC,CAAC,EHYC,AGXhB,CAAC,CAAC,CHWiB,CGXf,EAAC,CAAC,CAAC,CHWkB,CAAC,AGXlB,CAAC,EAAE,EAAC,CAAC,CAAC,CAAC,EHWqB,AGVpC,CAAC,CHWA,AGXC,EAAE,EAAC,CAAC,CAAC,EAAC,CAAC,EAAE,EAAC,CAAC,CHWG,AGXF,CAAC,EHWI,AGVnB,CAAC,CAAC,EAAE,EHUqB,AGVpB,CHUqB,AGVpB,CAAC,EAAC,CAAC,EAAE,EAAC,CHUuB,AGVtB,CHWZ,AGXa,CHWb,AGXc,EACf,CAAC,CAAC,EAAE,EAAC,CAAC,CAAC,EAAC,CAAC,EAAE,EAAC,CAAC,CAAC,CAAC,EACf,CAAC,CAAC,EAAE,EAAC,CAAC,CAAC,EAAC,CAAC,EAAE,EAAC,CAAC,CAAC,CAAC,EACf,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,CAAC,EAAC,EAAE,CAAC,CAAC,EAChB,CAAC,CAAC,CAAC,EAAC,EAAE,CAAC,EAAC,CAAC,CAAC,EAAC,EAAE,CAAC,CAAC,EACf,CAAC,CAAC,CAAC,EAAC,EAAE,CAAC,EAAC,CAAC,CAAC,EAAC,EAAE,CAAC,CAAC,CACf;AACD,ACrCD,EJoBE,EIpBE,EDqCE,EAAE,CACN,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,ACtCS,EDsCP,CCtCU,CDsCT,EAAE,CAAC,CAAC,EACjB,ACvC6B,CDuC5B,ACvC6B,CDuC5B,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CCxCqD,CDwCpD,ACxCqD,CDwCpD,ACxCoD,EDwClD,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EACjB,CAAC,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,CAAC,EAAE,EAAC,CAAC,CAAC,CAAC,EAChB,CAAC,CAAC,EAAE,EAAC,CAAC,CAAC,EAAC,CAAC,EAAE,EAAC,CAAC,CAAC,CAAC,EACf,CAAC,CAAC,EAAE,EAAC,CAAC,CAAC,EAAC,CAAC,EAAE,EAAC,CAAC,CAAC,CAAC,EACf,CAAC,CAAC,EAAE,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EACd,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EACb,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CACb;ANjCD,AEjBD,AEPE,ACJD,AERD,CJqBC,AGiDA,CAAA,EJnDG,AKnBA,CFQC,GHWG,CGXC,CAAC,AERA,CLmBC,EKnBE,GPoCG,AIxBA,CAAC,CJwBE,EEjBf,AKnBgB,CHYC,AGZA,CHYE,EFOf,CAAa,CEPM,EAAE,CFOJ,AKnBI,CAAC,CLmBF,AKnBE,MHYQ,CAAE,CAAC,IJwBZ,GAAG,EAAG;AACjC,AEjBD,AKnBD,IAAI,EPoCE,CAAC,CEjBC,CKnBC,GAAG,ACIZ,CRgCa,CAAC,CEjBC,CAAC,CFiBC,EOpCE,CPoCC,AEjBA,AKnBA,CLmBE,AMfb,ERgCc,CAAA,CEjBG,CAAE,CAAC,SMfL,CDJa,CAAC,CAAA,ACKrC,MAAO,UAAU,GAChB,MAAO,GAAI,GAIb,QAAS,aAAa,EAAO,GAE5B,MAAO,GAAE,IAAK,EAAO,SAAS,GAC7B,QACE,EAAI,GAAG,GAAK,EAAO,EAAI,GAAG,GAAK,EAAO,EAAI,GAAG,GAAK,IAClD,EAAI,GAAG,GAAK,EAAO,EAAI,GAAG,GAAK,EAAO,EAAI,GAAG,GAAK,MAKtD,QAAS,aAAa,EAAK,GAE1B,GAAI,KACF,EAAI,GAAG,GAAK,EAAI,GAAG,IAAM,GACzB,EAAI,GAAG,GAAK,EAAI,GAAG,IAAM,EAC1B,GAGG,GACH,EAAI,GAAG,GAAK,EAAI,GAAG,GACnB,EAAI,GAAG,GAAK,EAAI,GAAG,IAGhB,EAAY,KAAK,MAAO,EAAU,GAAI,EAAU,IAChD,EAAS,KAAK,KAAM,EAAU,GAAK,EAAU,GAAK,EAAU,GAAK,EAAU,GAE/E,QACC,MAAO,EAAS,EAAI,EAAe,IAAR,EAAsB,EAAR,GACzC,SAAW,EACX,OAAS,EAAE,EAAE,IAzCf,GAAI,mBAAoB,QAAQ,iCAC5B,OAAS,QAAQ,UACjB,MAAQ,QAAQ,mBAChB,UAAY,QAAQ,iBACpB,aAAe,QAAQ,mBAyC3B,QAAO,QAAU,SAAqB,EAAM,GAE3C,GAAI,GAAQ,GACR,EAAQ,EAAE,IAAK,MAAM,MAAO,cAAe,IAE3C,EAAQ,EAAE,IAAK,YAAa,MAAM,MAAO,GAAS,SAAU,GAC/D,UAAW,EAAM,YAAa,EAAK,MAEhC,EAAS,aAAc,GAC1B,MAAQ,GAKT,OAFA,GAAK,QAAQ,MAAM,SAAS,IAAK,EAAM,GAAI,EAAM,GAAI,EAAM,KAG1D,MAAO,EACP,OAAQ;ARtBR,AGfF,ACTE,ACJD,CHWA,CAAC,IFiBI,CAAC,EGfE,ECTE,EJwBE,CAAC,CK5BC,CAAC,IDII,CAAE,ECJC,CAAC,EAAE,CAAE,CFaA,ACTC,CDSC,CCTC,GDSG,AEbA,EFaG,AEbD,CL4BA,CIxBE,CJwBA,CAAA,AIxBE,MCJM,CAAC,EAAG;ADK/C,ACJD,AERF,ACJA,ERwCE,EQxCE,EHYE,GAAG,AERA,CFQC,CAAC,EDIE,CAAC,ECJE,CAAC,EDIE,CAAE,AGZD,CAAE,ACJD,GAAG,CDIE,EHYE,AGZA,CHYE,CAAC,EIhBA,CAAC,CDIE,EAAG,4BCJ0B,CAAC,CAAA;ANwBhE,ACEC,AKzBD,CRwCC,CAAC,AK5BA,CDIC,ACJA,CAAC,AGZA,CLyBC,CDFC,CAAC,GMvBG,GAAG,CNuBC,GAAG,GMvBG,CAAC,ELyBE,GAAG,CAAC,CAAC,CKzBC,CAAC,CLyBC,AKzBD,CLyBG,IAAI,EAAE,UAAU,SAAS,EAAG;ADD5D,ACEC,AIrBD,ACJD,IAAI,CNuBC,AKnBA,ELmBG,ECEC,AIrBA,ACJA,CLyBC,CDFE,ACED,CIrBC,ACJA,ACCZ,IFGgB,GJqBG,AKzBA,CLyBE,AKzBD,CDIC,AEHZ,CFGa,IAAI,CACxB,EJoB4B,CAAE,CIpB1B,EJoB6B,CMxBb,EFIX,AEJiB,CFIhB,ACLyB,CAAC,CAAA,ACGrC,GNsB2C,AMtBvC,CNsBwC,EMtBjC,GFEW,AEFP,CFEQ,CJoB4B,GAAG,EIpBzB,AEFR,CFES,IAAI,AEDjC,CFCkC,CJoB4B,AIpB3B,CJoB2B,AIpB1B,AEDhC,EFCkC,KED5B,CFCkC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,EED/B,EFCmC,AED5B,CFC6B,CAAC,CAAC,CAAC,EACrE,CEF6C,GFEzC,AEDJ,GAAI,EFCK,CAAC,IEDA,aFCiB,CAAC,KEA3B,MAAO,WAMT,OAHA,GAAK,YAAa,EAClB,EAAK,eAAgB,EAEd,EAGR,QAAS,gBAAgB,EAAM,EAAQ,GAEtC,GAAI,GAAW,GAAI,QAAO,SAEtB,EAAO,GAAI,QAAO,MACrB,KAAM,EAAO,KACb,SAAU,GAaX,OAXA,GAAK,SAAU,GAAI,QAAO,OAAQ,EAAO,SACzC,EAAK,cAAgB,IACrB,EAAK,SAAS,IACb,EAAO,MAAM,GAAI,EAAO,MAAM,GAAI,EAAO,MAAM,IAGhD,EAAK,MAAM,IAAK,GAChB,EAAK,MAAM,IAAK,GAEhB,EAAK,KAAO,EAEL,EAGR,QAAS,WAAW,GAGnB,GAAI,GAAO,kBAAmB,EAAM,EAAK,KAEzC,OAAO,YACN,KAIF,QAAS,YAAY,EAAQ,GAE5B,MAAO,YACN,EAAK,SAAS,IACb,EAAO,MAAM,GAAI,EAAO,MAAM,GAAI,EAAO,MAAM,IAEhD,EAAK,SAAS,IAAI,EAAE,EAAE,IAvDxB,GAAI,mBAAoB,QAAQ,iCAC5B,OAAS,QAAQ,SA0DrB,QAAO,QAAU,SAAqB,EAAM,GAE3C,GAAI,GAAS,EAAE,QACd,OAAQ,GACR,KAAO,EACP,OAAS,EAAE,IAAI,IACb,GAEC,EAAO,YAAa,EAAM,GAC1B,EAAO,eAAgB,EAAM,EAAQ,EAMzC,OAJA,GAAE,UAAU,GAAG,wBAAyB,WAAY,EAAQ,IAE5D,EAAK,QAAQ,GAAI,SAAU,UAAW,IAE/B;APhDP,AEPC,ACJD,AENE,ACNH,ELyBE,CAAC,CAAA,AKzBC,CNuBC,AGXA,CAAC,CHWE,AKjBA,EAAE,ELiBE,CEPA,CAAC,ACJA,AGZA,CHYC,EAAE,AGZA,CHYC,AENC,IHUG,CAAE,CIhBA,CHYC,AGZA,CJgBE,CCJA,CDIG,OAAO,CAAC,GCJA,CGZE,CAAC,CAAA,QJgBW,CAAE,CAAC;AFQrD,ACEA,ACTC,ACJA,AGZF,ACJA,EFUG,CAAC,CACF,ACPE,ACJA,CN6BC,AIlBH,CFKI,EHWE,EAAG,AGXD,EDIE,ACJC,CFaA,ACTA,GDSG,AEbC,AGZD,CLyBC,AEbC,CHWC,ACED,CKzBC,EJgBE,AKpBA,CLoBE,ACJA,EFaC,AEbC,AIhBD,CN6BC,AEbC,CGZA,CAAC,IJgBK,AKpBD,CAAC,CLoBE,OAAO,CAAC,EDSC,EAAE,AKzBA,CAAC,CAAA,MJgBQ,CAAE,CDSD,ACTE,QKpBM,CN6BC,AM7BA,CAAA,CN6BG;AACjE,AM7BF,CP2BC,CAAC,AGXA,CAAC,CAAC,AIhBA,KN6BK,CAAC,AM7BA,CN6BC,CAAC,CM7BC,OAAO,CAAC,EN6BE,CAAE,KM7BI,CAAC,CAAA,EN6BI,CAAE,CAAA;ACRlC,AGTD,ACPD,ELyBE,CAAC,CAAA,CIlBE,CAAC,GCPG,GJgBG,AMjBZ,CNiBa,GGTG,GAAG,EHSE,AMjBZ,CNiBc,AIhBD,CDOC,ACPC,CDOD,EHSI,EAAE,AIhBA,EAAG,EEDZ,GAEnB,ENeqC,CMfjC,GAAQ,GAAI,OAAM,UAAW,INegC,GAAG,EMdpE,GAAM,SAAS,IAAK,EAAG,IAAK,GAE5B,EAAM,YAAa,EAEnB,EAAM,iBAAmB,GACzB,EAAM,gBAAkB,IACxB,EAAM,gBAAkB,GACxB,EAAM,YAAa,EAEnB,EAAM,YAAc,MACpB,EAAM,eAAiB,GAEvB,EAAM,eAAiB,KACvB,EAAM,gBAAkB,KAExB,EAAK,MAAM,IAAK,GAKjB,QAAS,cAAc,EAAM,EAAO,GAEnC,GAAI,GAAO,GAAI,OAAM,WACjB,EAAiB,GAAI,OAAM,OAC/B,GAAE,QAAQ,GAAI,oBAAqB,SAAS,GAE3C,GAAI,GAAQ,EAAE,aAEd,6BAA6B,EAAM,GAEnC,EAAe,KAAM,GAAU,gBAAiB,GAChD,EAAM,QAAQ,KAAM,EAAe,EAAG,EAAe,GAAI,EAAe,KAK1E,QAAS,uBAAuB,GAK/B,GAAI,GAAO,GAAI,OAAM,QAErB,GAAK,MAAM,IAAK,EAEhB,IAAI,GAAS,EAAK,OAAO,MAKzB,OAHA,GAAK,MAAM,OAAQ,GACnB,EAAK,IAAK,GAEH,EAGR,QAAS,2BAA2B,EAAM,GAEzC,GAAI,GAAW,GAAI,2BAA2B,EAO9C,OALA,GAAS,QAAS,EAClB,EAAS,SAET,EAAS,sBAAsB,aAAc,GAAI,OAAM,MAAgB,GAAV,KAAK,GAAS,EAAE,IAEtE,EAGR,QAAS,qBAAqB,EAAM,GAEnC,GAAI,GAAW,GAAI,eAAe,EAAK,OAAO,OAAQ,EAAK,OAE3D,OAAO,GA7ER,GAAI,QAAS,QAAQ,UACjB,4BAA8B,QAAQ,uCACtC,0BAA4B,QAAQ,0CACpC,cAAgB,QAAQ,6BA6E5B,QAAO,QAAU,SAAsB,EAAM,GAE5C,GAAI,GAAU,GAAI,OAAM,OAExB,GAAK,SAAS,kBAAmB,EACjC,EAAK,SAAS,cAAgB,MAAM,YAEpC,IAAI,GAAQ,EAAK,MAAQ,GAAI,QAAO,KACpC,GAAM,QAAQ,IAAI,EAAQ,EAAE,EAAQ,EAAE,EAAQ,GAC9C,EAAM,WAAa,GAAI,QAAO,cAAe,EAE7C,IAAI,GAAsB,sBAAuB,GAC7C,EAAsB,0BAA2B,EAAM,GACvD,EAAsB,oBAAqB,EAAM,EAoBrD,OAlBA,GAAK,QAAQ,GAAG,SAAU,SAAS,GAClC,EAAM,KAAM,EAAE,GAAW,IAAP,EAAE,IAEpB,EAAc,SACd,EAAoB,SAEpB,EAAM,SAAS,KAAM,EAAK,MAAM,OAAO,SAAqB,IAAX,EAAE,QAEnD,EAAQ,IAAI,EAAE,IAAI,GAClB,EAAQ,gBAAiB,EAAoB,uBAE7C,EAAM,QAAQ,IAAI,EAAQ,EAAE,EAAQ,EAAE,MAQtC,MAAO,EACP,MAAO;AN5FN,ACJF,AELA,ACPA,ACJD,KJgBK,AELA,CFKC,AELA,ECPE,CJgBC,AKpBA,CLoBC,GCJG,CAAC,EAAE,CAAC,CGZC,CDOC,ACPA,CCJC,CLoBC,AIhBC,ACJA,CLoBA,AGTA,CFKC,CDIC,CAAC,ACJA,AIhBC,CLoBA,AGTA,CAAA,AEXE,MAAM,EAAG,EJgBD;AFcnC,AEbC,AGZA,AERF,GNwBG,CAAC,AMxBA,CNwBC,CCJC,EFaE,CAAC,AKzBA,CHYC,AGZA,AERA,EPiCE,AEbC,CFaC,AKzBD,AERA,GLoBI,CAAC,CGZA,CAAA,CERE,CPiCE,AEbA,AKpBD,CPiCG,CAAC,AEbD,CAAC,GFaI,CAC3B,COlC2B,CAAC,CAAA,SPkCjB;AACV,AInBF,AEXA,ACJD,ELoBE,AGZA,CHYC,AGZD,CHYE,AKpBA,CDIC,CN8BE,CAAC,CInBA,CEXC,GFWG,AEXA,CFWA,CJmBG,CAAC,CM9BA,GN8BI,CAAC,CM9BA,CAAC,IAAI,CACxB,GN6B6B,CAAC,AM7B1B,ACLyB,CPkCC,EOlCE,EDKvB,CAAC,ICL6B,CAAC,cDKX,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,EAC/C,GCN6E,CDMzE,ACN0E,CAAA,IDMrE,CAAC,iBAAiB,CAAC;AN6B3B,ACVD,AKlBC,ACNH,CLqBC,AENA,ACPA,GERG,EPkCG,CAAC,AM5BA,CLkBA,CAAC,AKlBC,EN4BE,CAAC,AQpCb,KRoCkB,AM5BA,EN4BE,CAAA,ACVA,CAAC,AO1Bb,GP0BgB,CAAC,IMxBI,GAAG,ENwBE,CAAC,CAAC,GMxBG,CAAC,KCDxC,QAAQ,eAAe,UAEvB,EDDgF,CAAC,CAAA,ACC7E,WAAY,QAAQ,gBAEpB,QAAU,QAAQ,kBAClB,GAAK,QAAQ,aAAc,UAE/B,SAAQ,MACP,QAAQ,eACR;APiBC,AMxBF,EPkCG,AM5BA,CAAC,CN6BF,AM5BA,ACPE,CDOF,GLiBM,CAAC,EDWA,CAAC,GAAG,CAAC,ACXE,CAAC,AMxBA,GPmCC,ACXE,AMxBA,CPmCD,ACXE,MMxBM,CPmCD,AOnCE,CPmCD,CACzB,ACZ4B,CDY5B,ACZ6B,CAAC,wBMxBwB,CAAC,CAAC;ANyBxD,AGTF,ACPA,ACDC,AEXD,CRwCC,IM7BI,CAAC,CEXC,CP4BC,AO5BA,CP4BC,AGTA,ACPA,IJgBI,EAAE,CAAC,AKjBA,GAAG,CDCC,CAAE,EDOC,AERA,CFQE,AERF,EDCI,EDOE,ACPA,EDOE,AInBD,CAAC,CAAC,CHYE,EAAG,CDOA,EAAE,IAAI,EAAG;AEP7C,ACPD,ACJA,EP6BE,GKlBG,CAAC,CEXC,CAAC,CDIC,SAAS,CDOC,ACPC,ECJC,CFWC,AEXA,CDIE,ACJD,EDII,CDOD,CAAA,IEXK,EAAE,CAAC;ARyClC,AEfA,AENC,ACPA,KDOI,CJqBC,AEfA,CFeC,AEfA,CGbC,CAAC,CAAC,EIVV,CLiBa,ACPA,CL4BC,AEfA,AGbC,EDOC,CJqBC,AEfA,EGbG,CDOA,CCPE,AIVb,KTsCiB,AEfA,AENA,CAAC,ICPI,EHaE,CAAE,AGbD,CDOC,CJqBC,AK5BA,AIVZ,CTsCc,AIrBD,CAAA,AKjBP,GAG7B,EPoB2C,COpBvC,CTmCyC,AEfC,EFeC,ASnClC,EAAE,UAAW,CTmCkC,EAAG,ASjC3D,EAAW,eAAgB,EAAM,EAQrC,OANA,eAAe,EAAM,iBAAkB,EAAU,EAAK,OAAO,SAE7D,EAAK,QAAQ,GAAI,OAAQ,WACxB,EAAS,OAAQ,EAAK,MAAO,EAAK,OAAO,UAGnC,EAjBR,GAAI,kBAAmB,QAAQ,8BAC3B,cAAgB,QAAQ,0BACxB,eAAiB,QAAQ,0BAkB7B,QAAO,QAAU;ARYhB,AIjBC,ACDD,ACPA,ACJD,IAAI,CDIC,GDOG,CDCC,CACN,AETO,CFSN,CCFQ,CAAA,ACPC,ACJA,CHaN,CJgBQ,AIhBP,CAAC,AGbO,CP6BE,AIhBR,AETO,CFSN,CAAC,CAAC,EETS,CFSN,AETO,ACJA,CAAC,IHaH,EAAE,EETS,CFSN,AETQ,CFSP,CAAC,CAAC,CAAC,CAAC,AGbO,CHaN,AGbO,CAAC,CDIE,CFSP,AETS,CNyBf,AMzBgB,IFSL,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EACzD,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CACzD,CAAA;AL0BF,AEfA,AENA,AGfA,AERD,CHeC,CDIC,CAAC,CAAA,AInBC,CT4CC,AEfA,AENA,CGfC,CAAC,ELqBE,AENA,EJqBE,CEfC,AENA,EJqBE,CAAC,AOpCA,CPoCC,AIrBA,AGfA,GAAG,CLqBC,AKrBC,AERD,CP6BE,AKrBA,CPoCA,AIrBA,CJqBC,AIrBA,AGfC,AERD,GFQI,CHeA,CAAC,AGfC,CAAC,CLqBC,AKrBC,AERF,CFQG,AERF,CP6BE,2BO7B0B,CAAC,CAAA;AT6C1D,ACXA,ACJA,AENA,AInBF,ACJA,CJmBC,GGfG,ACJA,CP6BC,CDIC,AGVA,CHUC,ACJA,CFeC,AIrBA,EJqBG,CCXA,AO7BA,CP6BE,CAAE,CDWA,AIrBD,AInBA,CJmBC,EKvBE,ELuBE,CKvBC,CDIC,CAAC,GNyBG,EO7BE,CAAC,CRiCG,EAAE,OO7BK,CP6BG,AO7BF,CP6BI,AO7BH,CP6BK,CAAC,UQjCM,CAAC,CAAA;AT6CnD,AEfA,AENA,AERF,ACPC,ACJD,ACJA,IDII,ACJA,CT4CC,COpCC,ACJA,CRwCE,AOpCD,CLqBC,CIdC,AEXA,CNyBE,AEND,CJqBE,CIrBA,AMzBZ,ER+Be,CAAC,CMzBA,CNyBE,AKrBD,ACJA,CCJC,ELuBE,AGfA,AGVb,CDEc,EHeE,CAAE,ACPD,CAAC,GDOI,AEXD,ACJA,ACFX,CFMY,ACJA,CHeE,AEXA,MFWM,CIjBK,CJiBH,CEXC,AENQ,CFMN,CAAC,CFWA,AIf1C,EJe6C,CIfzC,GAAS,EAAE,IDAsC,CAAC,CAAA,ECCrD,WAAa,QACb,UAAW,GACT,GAEC,EAAW,GAAI,OAAM,aAczB,OAZA,GAAS,cAAe,EAAK,OAC7B,EAAS,cAAe,EAAO,YAE3B,EAAO,WACV,SAAS,eAAgB,aAAc,YAAa,EAAS,YAC7D,EAAK,OAAS,EAAS,WAEvB,EAAK,QAAQ,GAAI,UAAW,WAC3B,EAAS,WAAW,YAIf;AV0BN,ACXA,AIdF,EHUE,AENA,CFMC,AENA,CFMC,AEND,KCJM,CLyBC,EAAG,IAAI,ACXD,CAAC,GIdG,CJcC,AIdC,CJcC,EIdE,EAAE,KAAK,EAAG,EJcC,CAAE,CAAC;AGTtC,AERA,ACPA,ACJD,ACJA,ACJA,EVgDE,ACVA,EDUE,CIrBC,AERA,CFQC,AGfA,AGZA,CHYC,ACJA,AERA,CFQC,CCJC,GT4CG,CAAC,AM7BA,AEXA,CJmBC,AIlBb,AETa,CN2BE,CERA,CInBC,EVgDE,AIrBC,CJqBA,AM7BA,CN6BA,AQvCZ,CAAC,ACLa,CFQC,AERC,ELuBE,CAAC,AERD,ACPA,AGZA,CJmBC,AGfC,CFQA,CHeE,AGfD,AERC,CLuBC,IAAI,CERA,AEVb,CAAC,CFUc,CAAA,AETpC,CCNuC,CLuBC,AM3BD,CN2BE,AKvBC,ACJD,IN2BI,AM3BA,CN4B5C,CIlBQ,AEVsC,CFW/C,CAAC,GJiBM,CAAC,IAAI,AM5B6C,CN4B5C,CAAC,AM5B8C,CN4B7C,GAAG,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAC1D,CAAC,CAAC,CAAA;AFKH,AEJA,ACNA,AEXA,KHiBI,ACNA,CDMC,AGjBA,CAAC,ELqBE,CAAE,CGVA,GHUI,AEJD,ACNA,CHUG,AEJF,ACLb,CHSgB,AGTf,EDKe,CAAE,ACLd,CAAC,CAAC,CAAC,AEZa,CFYZ,CAAC,CDKe,ACLd,AEZa,CHiBE,ECLZ,CEZc,CAAC,CFYZ,CAAC,CAAC,CDKe,ACLd,CDKe,ACLd,CDKe,ACLd,CDKe,ACLd,CAAA,CDKgB,ECLZ,CAAC,EAC3B,CDI4C,ACJ3C,CDI4C,ECJzC,CAAC,CAAC,CAAC,CAAC,CAAC,CDI4C,ACJ3C,CDI4C,CAAC,CAAC,ACJ3C,EDI6C,CCJ1C,CAAC,CAAC,CAAC,CAAC,CDI4C,ACJ3C,CDI4C,ACJ3C,CAAA,GAAI,CAAC,EAC3B,CDGyE,ACHxE,CDGyE,ACF1E,CDE2E,ACF3E,CDE4E,CAAE,CAAA;AJoB/E,ACVA,AGTA,AEVA,ACPA,AGZA,CRkCA,CAAC,GFcG,AInBA,AEVA,AInBA,CN6BC,AGjBA,CAAC,EPoCE,AM7BA,EInBE,CVgDC,AM7BA,AKrBZ,CVwCa,CDUC,AUhDA,CVgDA,ACVE,AStCD,CN6BC,AEVA,AInBA,CN6BC,GO/BV,ELqBe,ACPA,AGZA,CJmBC,AInBA,EHYE,EDOE,ACPA,CDOC,ACPA,AIdX,CP+BY,CAAE,MAAM,CHSX,AGTY,AO/BM,EAAM,GP+BP,AO7B1C,CP6B2C,CAAC,AO7B1C,CP6B2C,CHSX,CGTa,CHSV,IUtC3B,CP6B2C,CAAC,CO7BzC,IP6B8C,CAAC,CAAC,CAAC,EAAE,AO7BzC,GACvB,EAAK,CP4BiE,CAAC,KAAK,CAAC,AO5BhE,CP4BiE,CAAC,CO5B/D,CP4BiE,KAAK,CAAE,CAAA,EO5B7D,WAC1B,EAAE,QAAQ,IAAI,SAAU,KAEzB;AX6CA,AKrBA,ACRC,ACPD,AERA,ACJC,KVgDG,AKrBA,AIvBA,CHeC,ACPA,CAAC,CDOC,CN6BC,ES5CE,CT4CC,AUhDA,EL2BE,ACRA,AGfA,ACJC,CJmBA,AGfA,CAAC,CJuBC,AEfA,CFgBf,CCTiB,CCPC,CFgBf,CLoBiB,AKpBhB,AIxBgB,ACJC,CL4BhB,AIxBgB,CT4CC,AKpBhB,AEhBgB,CPoCA,AKpBf,AEhBgB,AERA,CJwBf,CAAC,AIxBgB,GJwBb,GAAG,CAAC,CAAC,CAAC,CAAC,AIxBgB,CJwBf,AIxBgB,CJwBf,AIxBe,EJyBpC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CACrB,CAAA;ALmBD,ACVC,AGTD,AEVC,AInBA,ACJF,KXoDK,AInBA,CHSC,AGTA,AOjCA,CV0CC,AU1CA,GLuBG,AInBA,CTsCC,AGTA,CJmBC,ACVC,AGTD,AEVA,AInBC,CTsCE,CU1CD,CXoDC,AInBA,CAAE,AM7BA,CCJA,EXoDE,CAAC,AInBC,AEVD,CFUG,CAAA,IOjCG,CXoDC,CAAA,CCVI,EAAE,QAAQ,GAAC,AU1CA,CAAE,IAAI,EAAE,GV0CE,GAAC,AU1CG,EAAG,OV0CG,CAAE,CAAE,CAAC;AGRlE,ACCA,AElBA,AERA,EHeC,AInBA,CJmBC,CAAA,AInBC,CN6BC,ACCA,AI1BA,CLyBC,AGjBA,CAAC,IHiBI,CAAC,CKzBC,CJ0BC,AK9BA,CN6BC,AM7BA,CN6BE,AKzBD,ACJD,CL8BE,AElBA,GHiBI,AGjBD,CHiBG,ACCF,AElBA,CHiBE,ACCD,KAAK,CAAE,EElBC,AERA,CFQC,AERC,IAAI,EJ0BE,AI1BA,CJ0BC,CAAC,CAAC,EAAE,CI1BC,CAAE,CAAA,MJ0BM,CAAC,CAAC,CAAC,CAAE,CAAA;ALmBxD,ACVC,AIRD,ACXA,ACPA,AIhBA,EAAC,CAAC,EXoDE,AKlBA,ACXA,CLmBC,AKnBA,ACPA,CAAC,EIhBE,CXoDC,AWpDA,CNkCC,AMlCA,CCFX,CZsDa,AWpDA,CNkCC,ACXA,AKvBA,CLuBE,CLmBA,CDUC,CKlBC,CJQC,AIRA,ACXC,CMzBb,CLkBc,CPoCC,AWpDA,CXoDC,AKlBA,CAAE,AElBD,AIhBA,CLuBE,CAAC,CCPA,CPoCC,AOpCA,AKlBX,EZsDa,AWpDA,CXoDA,AWpDC,CLuBE,AKvBF,CV0CE,AIRC,ACXC,CLmBD,AIRC,CAAC,CAAC,COpCO,CX4CN,CAAE,AIRA,ACXC,AMzBa,CNyBZ,EMvBzC,INuB+C,CAAE,CLmBD,AIRA,ACXG,AMvB5C,CX0C2C,AIRD,ACXE,CLmBA,AIRD,CAAC,GAAG,MOhCrD,EAAO,CPgCuD,CAAC,CAAC,CAAC,GAAG,AOhCpD,OAAO,EPgCsD,CAAC,CAAC,CAAC,CAAE,CAAA,IOhC9C,OAAO,YAC3C,EAAO,yBACP,EAAS,QACR,OAAO,WACP,OAAO;AZ+CT,AInBA,AEVA,AGfA,ACJA,ACJA,KXoDI,AInBA,AEVA,AInBA,ACJA,CPiCC,AEVA,AKvBA,IPiCI,CJmBC,EInBE,AM7BA,ACJA,CXoDC,AS5CA,AERA,CFQE,CCJA,ACJA,CPiCC,AOjCA,CXoDC,AInBD,CEVE,AGfC,CCJA,CDIE,CHeA,EN6BE,CAAE,AUhDD,CJmBC,AInBA,ACJA,CLuBA,CKvBE,GXoDI,CAAC,KS5CK,CT4CC,AS5CC,CCJD,CVgDE,AWpDF,CDIE,CAAA,GVgDK,CS5CE,CT4CA,CS5CE,IAAI,CAAC,CT4CA,CAAE,CAAA,GS5CI,CAAC,MAAM,CAAE,CAAE,CAAA;ARmCtE,AIRD,ACXA,ACPA,AIhBC,ACJF,GDIG,CAAC,CLuBC,CLmBC,AKnBA,ACPA,AKpBA,CX8CC,AM1BA,AKpBA,CPsCC,EMlCE,CAAC,CAAC,ELuBE,AM3BA,CN2BC,AKvBA,CAAC,CV0CC,AW9CA,CN2BC,CLmBE,AKlBlB,ECRmB,GAAG,AIhBA,CLwBhB,CAAC,AKxBiB,ACJA,ELoBE,CAAC,EDQf,CAAC,AKxBiB,CLwBhB,AKxBiB,CLwBhB,AKxBgB,ELwBd,MAAM,AM5BiB,CN4BhB,AM5BkB,KN4Bb,CAAC,CAAC,CAAC,AM5BkB,EN4BhB,AM5BkB,MN4BZ,AM5BkB,CN4BjB,CM5BoB,IN4Bf,CAAC,CAAC,CAAC,CACjD,CAAA;AN4BD,ACVE,AIRD,AElBD,AERA,ACJA,ECJC,CAAC,CAAA,CFQE,CJ0BC,AElBA,AERA,CFQC,CFkBC,CAAC,AK9BA,CAAC,CVgDC,CAAE,CS5CA,CAAC,CJ0BC,CI1BC,CT4CE,ACVD,AQlCC,CRkCA,AIRA,CLkBE,AKlBD,GJQG,AIRA,AElBA,CN0BE,AQlCA,ACJD,CAAE,CVgDC,AOpCD,AERC,CT4CC,CKlBA,CK9BE,CVgDC,AKlBD,AElBA,AGZC,CHYA,CPoCE,GKlBE,AK9BC,CAAE,CTsCA,AStCA,CVgDC,ACVC,AIRF,AI1BA,CT4CE,ACVC,GIRC,EAAE,CLkBE,CAAC,GKlBE,GAAG,CAAC,CLkBE,AKlBD,CLkBE,CAAC,CAAE,CAAA;AIlBzD,ACCC,ACTD,AGjBC,ACJD,ACJA,ACJA,GX8CE,EKjBE,CAAC,CKzBC,CCJC,CFQC,ACJA,CNkCC,AI1BA,ACJA,ACJD,CLyBE,AGjBA,CJ0BE,ACTD,AO/BZ,GP+Be,CAAE,AO/Bb,CJca,AGZA,CRqCC,ACCC,AI1BA,CLyBC,CERC,CAAE,CAAA,AGjBA,CLyBC,AKzBA,ACJD,CAAE,CN6BC,CSvCX,EJcc,CLyBC,CAAC,AKzBA,ACJA,CAAC,AERD,GRqCI,AKzBA,AGZD,ACFX,CTuCc,AKzBD,ELyBG,CAAA,GKzBG,ACJA,CDIC,ACJC,CAAA,IGTxC,CJa6C,CAAE,CAAA,EIbxC,UACX,QAAO,UAAY,KACnB,OAAO,iBAAmB,KAAK,QAG/B,OAAO,QAAU;ARmCf,ACTD,ACTA,CIhBA,CV2CC,AQnCA,AERD,CFQE,CAAA,CHiBE,ACTA,CDSC,ACTA,CFkBC,EAAG,CAAC,CAAC,ACTD,ACTA,CDSC,ACTA,CFkBC,CAAC,CCTC,ACTA,CFkBA,ACTE,ACTA,IDSI,CAAE,ACTD,CDSC,ACTC,CAAC,EFkBD,CAAC;ADAxB,AM7BA,AERC,ACJF,ER0CE,CAAA,CQ1CE,CHYC,GN6BG,AQrCA,CAAC,EFQE,CN6BC,AM7BA,AGZA,CTyCA,EQrCG,ACJA,GDIG,EFQE,EAAG,AGZD,CAAC,CDIC,CAAC,SCJS,CDIC,ACJA,CAAC,EDIE,MAAM,CAAC,WAAW,CAAA;AZyDvD,AM3BA,AGjBA,ACJC,AERA,ACJF,CZmDC,AGVA,ACCA,AEjBA,CN0BC,EYnDE,CPiCC,CAAC,EGjBE,AGZA,ACJA,CDIC,CN6BC,AIrBA,CAAC,AGZA,EPiCE,CN2BC,CAAC,CS5CC,CHiBC,AGjBD,CHiBC,CN2BE,Aa5DA,Cb4DE,Ca5DA,CAAC,GHYG,CVgDE,AUhDA,EVgDE,CAAC,CAAC,CYxDA,EAAE,CAAA,GZwDK,AUhDA,CVgDE,AUhDA,CAAC,WAAW,CAAE,MVgDK,EAAE,AUhDC,CAAC,GVgDE,CAAE,CAAE,CAAA,IUhDI,CAAE,CAAA;AACzE,AERA,ACJF,CJgBC,KCJK,AGZA,CHYC,AGZA,GDIG,CAAC,CENX,CJca,GAAG,AGZA,EDIE,CACf,ACLgB,ECFV,EDEc,CHYC,AGZA,CHYC,AEPhB,CAAC,IEPQ,EAAO,GJcU,AIZlC,CJYkC,AEPf,EACjB,GEN2B,GFMrB,CAAC,WAAW,CAClB,AEPS,CFOT,EELM,KAAK,MAAO,KAAK,IAAI,GAAI,GAAiB,GAAU,KAAK,IAAI,GAAI,GAIjE,EAMT,MAAM,SAEL,OAAS,SAAU,EAAc,GAEhC,GACI,EAGH,GADG,YAAwB,OAAM,SAAW,YAAwB,OAAM,SAAY,YAAwB,OAAM,SAC3G,GAEF,EAGR,QAAQ,MACP,EAAE,IAAK,EAAM,SAAU,GACtB,MAAO,GAAE,IAAK,EAAO,UAAW,SAAU,GACzC,MAAO,SAAS,EAAG,SAOvB,KAAO,SAAU,GAEhB,GACI,EAGH,GADG,YAAsB,OAAM,OACtB,GAEF,EAGR,QAAQ,MACP,EAAE,IAAK,EAAM,SAAU,GACtB,OAAQ,EAAK,EAAG,EAAK,EAAG,EAAK,OAMhC,OAAS,SAAU,EAAkB,GAEpC,GAAI,GAAG,EAAG,EAAI,EAAK,CAWnB,KATA,KACA,EAAI,EAGH,EADG,YAA4B,OAAM,QAC/B,EAAiB,SAEjB,EAGF,EAAE,EAAG,EAAI,EAAI,OAAQ,IAEf,IAAN,GACH,EAAQ,SAGT,EAAK,QAAS,EAAI,GAAI,GAEtB,EAAQ,KAAK,MAAM,EAAI,GAAK,GAAG,KAAM,GAErC,IACA,GAAK,EAED,EAAI,KAAO,KACd,QAAQ,MAAO,GACf,OAOH,WAAa,WAEZ,GAAI,GAAQ,GAAI,OAAM,MAElB,EAAc,SAAS,GAC1B,MAAO,GAAI,KAAK,IAGb,EAAY,SAAU,GACzB,MAAO,UAAS,GACf,MAAO,SAAQ,EAAG,IAIpB,OAAO,UAAU,EAAY,GAE5B,EAAM,kBAAmB,EAEzB,IAAI,GAAQ,EAAW,GACnB,EAAW,EAAM,UAAU,MAAM,EAAE,EAEvC,SAAQ,OACP,WAAY,EAAE,IAAK,EAAW,UAAW,GACzC,SAAY,EAAE,IAAK,EAAU,GAC7B,YAAe,EAAE,IAChB,EAAE,IAAI,EAAU,GAChB,SAMJ,MAAQ,WAEP,GAAI,GAAa,GAAI,OAAM,WAEvB,EAAc,SAAS,GAC1B,MAAO,GAAI,KAAK,IAGb,EAAY,SAAU,GACzB,MAAO,UAAS,GACf,MAAO,SAAQ,EAAG,IAIpB,OAAO,UAAU,EAAO,GAEvB,EAAW,aAAc,EAEzB,IAAI,GAAQ,EAAW,GACnB,EAAW,EAAM,UAAU,MAAM,EAAE,EAEvC,SAAQ,OACP,WAAY,EAAE,IAAK,EAAW,UAAW,GACzC,SAAY,EAAE,IAAK,EAAU,GAC7B,YAAe,EAAE,IAChB,EAAE,IAAI,EAAU,GAChB,UAOL,OAAO,cAAgB,MAAM,QAAQ,OACrC,OAAO,cAAgB,MAAM,QAAQ,OACrC,OAAO,YAAc,MAAM,QAAQ,KACnC,OAAO,kBAAoB,MAAM,QAAQ,WACzC,OAAO,aAAe,MAAM,QAAQ,MAEpC,OAAO,QAAU,MAAM;AdnGtB,ACTD,AGVA,ACCA,ACTC,ACRD,AMzBA,EDOE,CAAA,GX4CI,AITA,AQ1CA,CZmDC,AITA,AQ1CA,CPiCC,CFQC,AGhBA,GDQG,CAAA,CN2BE,ACTA,AITA,CLkBC,EAAE,ACTA,AITA,CLkBE,AInBD,CAAE,EGhBC,CAAE,CHgBC,ASzCD,CZmDC,CAAC,AGVE,CJmBA,AKlBD,AEjBC,AMzBD,Eb4DG,AOnCA,EMzBC,CAAC,ENyBG,EAAE,CFiBA,CAAE,CQ1CA,CAAC,Cb4DC,CKlBE,CEjBC,CFiBC,CEjBE,IFiBG,EAAG;ALmBlD,AS5CF,ACJE,AIhBF,CRqCC,AM1BA,CAAA,IZqDK,AS5CA,ACJA,CVgDC,AS5CA,ACJA,EIhBE,EdgEE,EAAE,CAAA,AS5CC,ACJA,CAAC,CIhBC,CLoBC,ACJA,AIhBC,CJgBC,IIhBI,EAAE,GJgBG,EAAE,CDIA,CAAA,MKpBQ,EAAG,EJgBA;AViDvC,AKlBD,AEjBA,AGbE,KL8BE,AEjBA,IPmCI,AOnCA,CPmCC,AKlBA,CK9BC,CHaC,AGbA,CL8BC,CLkBC,CAAC,AKlBA,CAAC,AEjBA,KAAK,CAAC,AGbA,CAAC,CVgDC,CAAC,CAAA,GUhDI,EAAE,CHaC,AGbD,EHaG,CAAA;AHiBjC,ACCA,ACTD,ACRC,AMzBD,ACJC,EdgEC,CAAC,AUhDA,CVgDA,AUhDC,CN6BC,ACCA,AEjBA,AGbD,AIhBC,CDIC,CAAC,ETyCE,AERA,CDSC,EDDE,AU7CA,ACFZ,CVgDa,CAAC,AQ1CA,CR0CC,CUhDX,CFMa,CR0CC,ACTA,CDSE,ACTA,ACRD,EMzBE,CNyBC,AMzBA,CPiCE,CDSC,CAAC,ACTC,AQrCF,CP6BC,AQ/BX,GX+Cc,CAAE,ACCA,AS9CD,CP6BC,AQ/BX,CVgDa,AEjBD,EHgBG,AW/CV,EX+CY,CW7CrC,CDAsC,CP6BC,CHgBE,AU7CA,CV6CC,AGhBD,CAAA,GHgBK,ACCA,AU9CvC,CX6CyC,ACCA,CDDA,ICCK,CAAE,CAAE,AU9CxC,CV8CwC,QU9CF,EAAY,GAEjE,GAAI,GAAK,EAAM,KAAQ,EAAM,KAAQ,SAAW,EAC5C,EAAK,EAAM,MAAQ,EAAM,MAAQ,SAAW,EAC5C,EAAK,EAAM,MAAQ,EAAM,MAAQ,SAAW,EAE5C,EAAK,KAAK,IAAK,EAAG,GAClB,EAAK,KAAK,IAAK,EAAG,GAClB,EAAK,KAAK,IAAK,EAAG,GAClB,EAAK,KAAK,IAAK,EAAG,GAClB,EAAK,KAAK,IAAK,EAAG,GAClB,EAAK,KAAK,IAAK,EAAG,GAElB,EAAI,EAAK,EAAK,EAAK,EAAK,EAAK,EAC7B,EAAI,EAAK,EAAK,EAAK,EAAK,EAAK,EAC7B,EAAI,EAAK,EAAK,EAAK,EAAK,EAAK,EAC7B,EAAI,EAAK,EAAK,EAAK,EAAK,EAAK,CAEjC,OAAO,GAAW,IAAK,EAAG,EAAG,EAAG;ARYjC,EAAC,AGbA,CHaC,MAAM,CAAC,CAAC,EAAE,CAAE,mBAAmB,EAAE,UAAS,CAAC,EAAE;APoC/C,AInBA,ACCA,AS9CC,ACJF,IAAI,CVkDC,GLkBG,AInBA,CJmBC,AchEA,CdgEC,AKlBA,EUlDE,CVkDC,AS9CA,CT8CC,AS9CA,CT8CC,AUlDA,CfoEC,CAAE,AInBD,CCCC,CAAE,AS9CD,ACJA,CDIE,ACJD,CfoEE,CepEA,CfoEE,CchEC,CAAC,ACJD,GDII,ACJD,CXiDC,AU7CC,ACJD,CVkDE,CAAE,AS9CD,CV6CA,CU7CE,GT8CI,CAAC,KAAK,EAAE,ES9CC,CAAC,ET8CG,CAAE,AS9CF,ET8CI,GS9CC,CAAE,GAAG,GT8CI,CS9CA,CAAC,CT8CE,EAAG,AS9CF,CAAC,EAAE,EAAE,aAAa,CAAC,CAAC;AdiEvF,AInBA,ACCA,ACTD,ACRC,AGbD,EIfC,GRoCG,CFQC,AGhBA,EHgBE,AM7BA,AIfA,Cd+DC,AInBD,AERC,EN2BG,AKlBD,AEjBA,CFiBE,ACTD,ECRE,CAAC,CFiBE,AEjBD,AGbA,CAAA,CVgDG,AKlBA,WAAW,ACTD,ACRA,CFiBG,ACTD,ACRD,GFiBK,CCTA,CDSE,CCTA,IDSK,ACTD,CDSG,ACTF,CDSI,CAAA,ECTA,CAAE,CAAA;AN4B9C,AepEF,CLqBC,CN4BC,ACCA,AK7BD,CN4BC,ACCC,CAAA,EUlDG,CAAC,CfoEC,EAAG,EgBtEX,EhBsEe,AepED,GAAG,GCFV,MDEmB,ECFT,SAA4B,EAAM,GAElD,MAAO,KDA6C,CAAE,MCCrD,EAAK,EDD0D,EAAE,KAAK,ACCxD,EDD2D,GCCrD,EAAK,UACzB,EAAK,WAAW,KAAM,EAAK;AhBmE3B,AKlBD,ACTA,ACRC,AO5BA,CV4CD,ICCI,ELkBE,CM3BC,CN2BE,Ac/DD,ET6CE,GLkBI,AKlBD,AS7CA,CAAC,ERoCE,SDSS,CAAE,ECTC,ACRA,CAAE,CFiBC,CCTA,CDSE,CEjBC,EAAE,KAAK,CAAE,CAAA;APoC1C,AKlBA,ACTA,ASzCA,ACJF,EFUE,IRmCI,ASzCA,ACJA,ChBwEC,AKlBA,AWtDA,CV6CC,ASzCA,CfoEE,AKlBA,ACTF,ESzCG,GfoEI,AKlBA,AWtDD,EDIE,CAAC,ACJA,IDII,GAAI,ECJC,GDII,CAAC,IAAI,GAAI,MCJI,CAAE,CDIE,GAAG,ACJD,CDIE,CAAC,ACJD,IAAI,EAAG;AhByExD,AInBF,AGhBE,AQjCA,CDOD,CT2CC,ACTA,CDSC,ACTD,CDSC,EDDG,AWjDA,CXiDC,CJmBC,AepEA,EfoEG,CepEA,GXiDG,EJmBG,AOnCD,AQjCA,CXiDC,AGhBA,AQjCA,IRiCI,CAAE,AQjCD,GAAG,CXiDC,GGhBI,CAAE,AQjCF,CRiCG,AQjCF,KXiDK,AWjDA,CXiDE,EWjDC,EXiDG,EAAE,GGhBI,CAAE,AQjCH,CXiDE,EAAG,AWjDF,CRiCI,AQjCH,CRiCK,AQjCJ,CRiCI;APoCtD,AOnCA,AQjCA,ACJD,CV6CA,KN2BK,AepEA,CRiCC,CPmCE,AOnCD,AQjCA,ACJA,ChBwEE,CAAC,CepEA,CEeX,GVkBe,CAAC,AQjCA,CAAC,ERiCE,CAAE,ASrCF,CTqCG,AUlBb,CjBqDc,AepED,CfoEE,EepEC,KAAK,CAAC,IRiCK,CAAC,AQjCD,CRiCE,EAAE,AQjCD,QAAQ,GAAG,CAAC,CAAC,CRiCE,AUlBd,CVkBe,CAAC,CUjBvD,CViByD,CAAC,cAAc,CAAC,CAAC,AUjBtD,CViBwD,CAAA,AUb7E,QAAS,kBACR,OAAQ,OAAO,OAAO,aAAe,OAAO,OAAO,gBAClD,IAAK,oBACJ,MAAO,GAAG,KACN,sBACJ,MAAO,GAAI,KACP,qBACJ,MAAO,IAAI,KACP,mBACJ,MAAO,GAMT,MAAO,QAAO,aAAe,EAG9B,QAAS,kCACR,kBAAoB,iBA3BrB,GAAI,sBACC,kBAAoB,OAAO,aAAe,CAK/C,QAAO,iBAAiB,oBAAqB,gCAAgC,GAuB7E,OAAO,iBAAiB,oBAAqB,gCAAgC,GAG7E,MAAM,0BAA4B,SAAS,GAE1C,KAAK,OAAS,EAEd,KAAK,OAAO,SAAS,QAAQ,OAE7B,KAAK,QAAS,EAEd,KAAK,cAAgB,EACrB,KAAK,UAAY,KACjB,KAAK,WAAY,EACjB,KAAK,aAAc,EAEnB,KAAK,MAAQ,EACb,KAAK,KAAO,GACZ,KAAK,MAAQ,EACb,KAAK,OAAS,EAEd,KAAK,gBAAkB,GAAI,OAAM,WACjC,KAAK,sBAAwB,GAAI,OAAM,UAEvC,IAAI,GAAa,GAAI,OAAM,WACvB,EAAiB,GAAI,OAAM,WAE3B,EAAc,GAAI,OAAM,QACxB,EAAc,GAAI,OAAM,QACxB,EAAY,GAAI,OAAM,MAAM,EAAG,EAAG,EAAG,OACrC,EAAiB,GAAI,OAAM,WAE3B,EAAM,GAAI,OAAM,QAAQ,EAAG,EAAG,GAC9B,EAAK,GAAI,OAAM,QAAQ,EAAG,EAAG,GAC7B,EAAK,GAAI,OAAM,QAAQ,EAAG,EAAG,GAC7B,EAAQ,GAAI,OAAM,MAClB,EAAK,GAAI,OAAM,WACf,EAAK,GAAI,OAAM,YAAa,KAAK,KAAK,IAAM,EAAG,EAAG,KAAK,KAAK,IAGhE,MAAK,OAAS,SAAU,GAEvB,MAAO,UAAS,GAEX,KAAK,SAST,KAAK,MAAQ,kBAAkB,MAC9B,MAAM,KAAK,SAAS,kBAAkB,OAAS,EAChD,KAAK,KAAO,kBAAkB,KAC7B,MAAM,KAAK,SAAS,kBAAkB,MAAQ,GAC/C,KAAK,MAAQ,kBAAkB,MAC9B,MAAM,KAAK,SAAS,kBAAkB,OAAS,EAChD,KAAK,OAAS,kBACb,MAAM,KAAK,SAAS,mBAAqB,EAM1C,EAAM,IAAI,KAAK,KAAM,KAAK,OAAS,KAAK,MAAO,OAE/C,EAAW,aAAa,GACxB,EAAe,MAAM,EAAY,IAG7B,KAAK,UAAW,KAAK,sBAAsB,KAAK,GAC/C,KAAK,sBAAsB,KAAK,GAGrC,KAAK,sBAAsB,SAAS,GAGpC,KAAK,sBAAsB,SAAS,EAAG,iBAAiB,GAAO,KAAK,SAEpE,KAAK,OAAO,WAAW,KAAK,KAAK,iBACjC,KAAK,OAAO,WAAW,SAAS,KAAK,uBAEjC,KAAK,cAER,EACE,IAAI,EAAG,EAAG,IACV,gBAAgB,KAAK,OAAO,WAAY,OACxC,UAAU,KAAK,cAAgB,IAEjC,KAAK,OAAO,SAAS,IAAI,IAItB,KAAK,WAA4B,IAAf,KAAK,QAE1B,KAAK,WAAY,EAEjB,KAAK,cAQR,KAAK,MAAQ,WAEZ,EACE,IAAI,EAAG,EAAG,IACV,gBAAiB,EAAe,KAAK,KAAK,uBAAuB,UAAW,OAE9E,EAAU,kBACT,EAAe,sBACd,EAAY,OAAO,EAAa,EAAI,KAItC,EAAU,IAAI,EAAG,EAAU,EAAG,GAC9B,KAAK,gBAAgB,aAAa,IAInC,KAAK,QAAU,WACd,KAAK,QAAS,GAGf,KAAK,WAAa,WACjB,KAAK,OAAQ,IAKf,OAAO,QAAU,MAAM;AjB1GrB,AIlBD,ACAA,AS3CD,AEXE,ETqCA,CAAC,CAAC,CHiBC,ACAA,AS3CA,Cd6DC,AKlBA,AS3CA,AEXA,CAAC,ChBwEE,GIlBE,CJkBE,CKlBA,AS3CA,CV2CC,ACAA,CDAC,AYtDA,CZsDC,AU3CA,AEXA,GXsDG,CAAC,AWtDA,CAAE,CZsDA,CAAC,EYtDG,CAAC,EXsDC,CAAC,GAAG,CAAE,CWtDC,CAAE,CAAA,EXsDE,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAE,CAAA;ALmB9D,AIlBA,AETF,ASzCE,ACJA,CTsCD,KHgBK,AWlDA,ACJA,ChBwEC,AgBxEA,CZsDC,AWlDA,CfoEE,AIlBD,AETA,ESzCE,CXkDC,CJkBE,CAAC,AIlBD,CWlDC,CXkDC,AWlDA,CCJC,CZsDC,AYtDA,ChBwEE,AM3BD,ASzCA,CTyCE,ASzCA,CXkDA,CAAC,AWlDC,ACJD,CAAE,EDIA,CTyCG,ASzCF,CAAE,ACJC,CV6CC,ASzCD,ACJC,IV6CI,EAAG,IU7CG,CAAE,CAAA;AhByEvC,AIlBA,ACAD,AS3CA,ACPC,ECJA,CAAA,GhBwEI,AIlBA,AWlDA,CDOC,Cd6DE,AIlBA,ACAD,AUlDA,CXkDE,AU3CA,ECPC,CfoEE,CAAC,EepEC,CAAC,CfoEE,EepEC,CAAE,EAAE,GDOH,ACPI,CAAC,CAAE,CAAC,SDOI,EAAE,aAAa,EAAG;AV4ChD,ACAA,ACTD,ACPD,AQlCE,CCJD,ChBwEC,AgBxED,ChBwEE,CAAA,EepEG,CVkDC,CCTC,ASzCA,CVkDC,AEhBA,CHgBC,CWlDC,CXkDE,AcrCb,CdqCc,CAAC,ACAD,CUlDC,CXkDC,AWlDA,CXkDC,EWlDE,AGab,CdqCc,AETD,ASzCE,EXkDA,AWlDE,CXkDD,CAAC,CWlDC,CAAC,CAAE,CAAC,ERkCE,CAAE,EWrBV,EXqBc,EAAG,KWrBN,EAAQ,GA4TxC,QAAS,KAER,MAAO,GAAI,KAAK,GAAK,GAAK,GAAK,EAAM,gBAItC,QAAS,KAER,MAAO,MAAK,IAAK,IAAM,EAAM,WAI9B,QAAS,GAAa,GAErB,GAAK,EAAM,WAAY,EAAvB,CAGA,GAFA,EAAM,iBAED,EAAM,SAAW,EAAM,aAAa,MAAQ,CAChD,GAAK,EAAM,YAAa,EAAO,MAE/B,GAAQ,EAAM,OAEd,EAAY,IAAK,EAAM,QAAS,EAAM,aAEhC,IAAK,EAAM,SAAW,EAAM,aAAa,KAAO,CACtD,GAAK,EAAM,UAAW,EAAO,MAE7B,GAAQ,EAAM,MAEd,EAAW,IAAK,EAAM,QAAS,EAAM,aAE/B,IAAK,EAAM,SAAW,EAAM,aAAa,IAAM,CACrD,GAAK,EAAM,SAAU,EAAO,MAE5B,GAAQ,EAAM,IAEd,EAAS,IAAK,EAAM,QAAS,EAAM,SAI/B,IAAU,EAAM,OACpB,SAAS,iBAAkB,YAAa,GAAa,GACrD,SAAS,iBAAkB,UAAW,GAAW,GACjD,EAAM,cAAe,KAKvB,QAAS,GAAa,GAErB,GAAK,EAAM,WAAY,EAAvB,CAEA,EAAM,gBAEN,IAAI,GAAU,EAAM,aAAe,SAAW,EAAM,WAAW,KAAO,EAAM,UAE5E,IAAK,IAAU,EAAM,OAAS,CAE7B,GAAK,EAAM,YAAa,EAAO,MAE/B,GAAU,IAAK,EAAM,QAAS,EAAM,SACpC,EAAY,WAAY,EAAW,GAGnC,EAAM,WAAY,EAAI,KAAK,GAAK,EAAY,EAAI,EAAQ,YAAc,EAAM,aAG5E,EAAM,SAAU,EAAI,KAAK,GAAK,EAAY,EAAI,EAAQ,aAAe,EAAM,aAE3E,EAAY,KAAM,OAEZ,IAAK,IAAU,EAAM,MAAQ,CAEnC,GAAK,EAAM,UAAW,EAAO,MAE7B,GAAS,IAAK,EAAM,QAAS,EAAM,SACnC,EAAW,WAAY,EAAU,GAE5B,EAAW,EAAI,EAEnB,EAAM,UAIN,EAAM,WAIP,EAAW,KAAM,OAEX,IAAK,IAAU,EAAM,IAAM,CAEjC,GAAK,EAAM,SAAU,EAAO,MAE5B,GAAO,IAAK,EAAM,QAAS,EAAM,SACjC,EAAS,WAAY,EAAQ,GAE7B,EAAM,IAAK,EAAS,EAAG,EAAS,GAEhC,EAAS,KAAM,GAIX,IAAU,EAAM,MAAO,EAAM,UAInC,QAAS,KAEH,EAAM,WAAY,IAEvB,SAAS,oBAAqB,YAAa,GAAa,GACxD,SAAS,oBAAqB,UAAW,GAAW,GACpD,EAAM,cAAe,GACrB,EAAQ,EAAM,MAIf,QAAS,GAAc,GAEtB,GAAK,EAAM,WAAY,GAAS,EAAM,UAAW,GAAQ,IAAU,EAAM,KAAzE,CAEA,EAAM,iBACN,EAAM,iBAEN,IAAI,GAAQ,CAEc,UAArB,EAAM,WAEV,EAAQ,EAAM,WAEc,SAAjB,EAAM,SAEjB,GAAU,EAAM,QAIZ,EAAQ,EAEZ,EAAM,WAIN,EAAM,UAIP,EAAM,SACN,EAAM,cAAe,GACrB,EAAM,cAAe,IAItB,QAAS,GAAW,GAEnB,GAAK,EAAM,WAAY,GAAS,EAAM,UAAW,GAAQ,EAAM,SAAU,EAEzE,OAAS,EAAM,SAEd,IAAK,GAAM,KAAK,GACf,EAAM,IAAK,EAAG,EAAM,aACpB,EAAM,QACN,MAAM,KAEF,GAAM,KAAK,OACf,EAAM,IAAK,GAAK,EAAM,aACtB,EAAM,QACN,MAAM,KAEF,GAAM,KAAK,KACf,EAAM,IAAK,EAAM,YAAa,GAC9B,EAAM,QACN,MAAM,KAEF,GAAM,KAAK,MACf,EAAM,KAAO,EAAM,YAAa,GAChC,EAAM,UAOT,QAAS,GAAY,GAEpB,GAAK,EAAM,WAAY,EAAvB,CAEA,OAAS,EAAM,QAAQ,QAEtB,IAAK,GAEJ,GAAK,EAAM,YAAa,EAAO,MAE/B,GAAQ,EAAM,aAEd,EAAY,IAAK,EAAM,QAAS,GAAI,MAAO,EAAM,QAAS,GAAI,MAC9D,MAAM,KAEF,GAEJ,GAAK,EAAM,UAAW,EAAO,MAE7B,GAAQ,EAAM,WAEd,IAAI,GAAK,EAAM,QAAS,GAAI,MAAQ,EAAM,QAAS,GAAI,MACnD,EAAK,EAAM,QAAS,GAAI,MAAQ,EAAM,QAAS,GAAI,MACnD,EAAW,KAAK,KAAM,EAAK,EAAK,EAAK,EACzC,GAAW,IAAK,EAAG,EACnB,MAAM,KAEF,GAEJ,GAAK,EAAM,SAAU,EAAO,MAE5B,GAAQ,EAAM,UAEd,EAAS,IAAK,EAAM,QAAS,GAAI,MAAO,EAAM,QAAS,GAAI,MAC3D,MAAM,SAIN,EAAQ,EAAM,KAIX,IAAU,EAAM,MAAO,EAAM,cAAe,IAIlD,QAAS,GAAW,GAEnB,GAAK,EAAM,WAAY,EAAvB,CAEA,EAAM,iBACN,EAAM,iBAEN,IAAI,GAAU,EAAM,aAAe,SAAW,EAAM,WAAW,KAAO,EAAM,UAE5E,QAAS,EAAM,QAAQ,QAEtB,IAAK,GAEJ,GAAK,EAAM,YAAa,EAAO,MAC/B,IAAK,IAAU,EAAM,aAAe,MAEpC,GAAU,IAAK,EAAM,QAAS,GAAI,MAAO,EAAM,QAAS,GAAI,OAC5D,EAAY,WAAY,EAAW,GAGnC,EAAM,WAAY,EAAI,KAAK,GAAK,EAAY,EAAI,EAAQ,YAAc,EAAM,aAE5E,EAAM,SAAU,EAAI,KAAK,GAAK,EAAY,EAAI,EAAQ,aAAe,EAAM,aAE3E,EAAY,KAAM,GAElB,EAAM,QACN,MAAM,KAEF,GAEJ,GAAK,EAAM,UAAW,EAAO,MAC7B,IAAK,IAAU,EAAM,YAAc,MAEnC,IAAI,GAAK,EAAM,QAAS,GAAI,MAAQ,EAAM,QAAS,GAAI,MACnD,EAAK,EAAM,QAAS,GAAI,MAAQ,EAAM,QAAS,GAAI,MACnD,EAAW,KAAK,KAAM,EAAK,EAAK,EAAK,EAEzC,GAAS,IAAK,EAAG,GACjB,EAAW,WAAY,EAAU,GAE5B,EAAW,EAAI,EAEnB,EAAM,WAIN,EAAM,UAIP,EAAW,KAAM,GAEjB,EAAM,QACN,MAAM,KAEF,GAEJ,GAAK,EAAM,SAAU,EAAO,MAC5B,IAAK,IAAU,EAAM,UAAY,MAEjC,GAAO,IAAK,EAAM,QAAS,GAAI,MAAO,EAAM,QAAS,GAAI,OACzD,EAAS,WAAY,EAAQ,GAE7B,EAAM,IAAK,EAAS,EAAG,EAAS,GAEhC,EAAS,KAAM,GAEf,EAAM,QACN,MAAM,SAIN,EAAQ,EAAM,OAMjB,QAAS,KAEH,EAAM,WAAY,IAEvB,EAAM,cAAe,GACrB,EAAQ,EAAM,MAnnBf,KAAK,OAAS,EACd,KAAK,WAA8B,SAAjB,EAA+B,EAAa,SAK9D,KAAK,SAAU,EAIf,KAAK,OAAS,GAAI,OAAM,QAGxB,KAAK,OAAS,KAAK,OAInB,KAAK,QAAS,EACd,KAAK,UAAY,EAGjB,KAAK,YAAc,EACnB,KAAK,YAAc,EAAA,EAGnB,KAAK,UAAW,EAChB,KAAK,YAAc,EAGnB,KAAK,OAAQ,EACb,KAAK,YAAc,EAGnB,KAAK,YAAa,EAClB,KAAK,gBAAkB,EAIvB,KAAK,cAAgB,EACrB,KAAK,cAAgB,KAAK,GAI1B,KAAK,kBAAoB,EAAA,GACzB,KAAK,gBAAkB,EAAA,EAGvB,KAAK,QAAS,EAGd,KAAK,MAAS,KAAM,GAAI,GAAI,GAAI,MAAO,GAAI,OAAQ,IAGnD,KAAK,cAAiB,MAAO,MAAM,MAAM,KAAM,KAAM,MAAM,MAAM,OAAQ,IAAK,MAAM,MAAM,MAK1F,IAmBI,GACA,EApBA,EAAQ,KAER,EAAM,KAEN,EAAc,GAAI,OAAM,QACxB,EAAY,GAAI,OAAM,QACtB,EAAc,GAAI,OAAM,QAExB,EAAW,GAAI,OAAM,QACrB,EAAS,GAAI,OAAM,QACnB,EAAW,GAAI,OAAM,QACrB,EAAY,GAAI,OAAM,QAEtB,EAAS,GAAI,OAAM,QAEnB,EAAa,GAAI,OAAM,QACvB,EAAW,GAAI,OAAM,QACrB,EAAa,GAAI,OAAM,QAIvB,EAAW,EACX,EAAa,EACb,EAAQ,EACR,EAAM,GAAI,OAAM,QAEhB,EAAe,GAAI,OAAM,QACzB,EAAiB,GAAI,OAAM,WAE3B,GAAU,KAAO,GAAI,OAAS,EAAG,MAAQ,EAAG,IAAM,EAAG,aAAe,EAAG,YAAc,EAAG,UAAY,GAEpG,EAAQ,EAAM,IAIlB,MAAK,QAAU,KAAK,OAAO,QAC3B,KAAK,UAAY,KAAK,OAAO,SAAS,OAItC,IAAI,IAAO,GAAI,OAAM,YAAa,mBAAoB,EAAO,GAAI,GAAI,OAAM,QAAS,EAAG,EAAG,IACtF,EAAc,EAAK,QAAQ,UAI3B,GAAgB,KAAM,UACtB,GAAe,KAAM,SACrB,GAAa,KAAM,MAEvB,MAAK,WAAa,SAAW,GAEb,SAAV,IAEJ,EAAQ,KAIT,GAAc,GAIf,KAAK,SAAW,SAAW,GAEX,SAAV,IAEJ,EAAQ,KAIT,GAAY,GAKb,KAAK,QAAU,SAAW,GAEzB,GAAI,GAAK,KAAK,OAAO,OAAO,QAG5B,GAAU,IAAK,EAAI,GAAK,EAAI,GAAK,EAAI,IACrC,EAAU,gBAAkB,GAE5B,EAAI,IAAK,IAKV,KAAK,MAAQ,SAAW,GAEvB,GAAI,GAAK,KAAK,OAAO,OAAO,QAG5B,GAAU,IAAK,EAAI,GAAK,EAAI,GAAK,EAAI,IACrC,EAAU,eAAgB,GAE1B,EAAI,IAAK,IAMV,KAAK,IAAM,SAAW,EAAQ,GAE7B,GAAI,GAAU,EAAM,aAAe,SAAW,EAAM,WAAW,KAAO,EAAM,UAE5E,IAA0B,SAArB,EAAM,OAAO,IAAoB,CAGrC,GAAI,GAAW,EAAM,OAAO,SACxB,EAAS,EAAS,QAAQ,IAAK,EAAM,QACrC,EAAiB,EAAO,QAG5B,IAAkB,KAAK,IAAK,EAAQ,OAAO,IAAM,EAAM,KAAK,GAAK,KAGjE,EAAM,QAAS,EAAI,EAAS,EAAiB,EAAQ,cACrD,EAAM,MAAO,EAAI,EAAS,EAAiB,EAAQ,kBAEnB,UAArB,EAAM,OAAO,KAGxB,EAAM,QAAS,GAAU,EAAM,OAAO,MAAQ,EAAM,OAAO,MAAQ,EAAQ,aAC3E,EAAM,MAAO,GAAU,EAAM,OAAO,IAAM,EAAM,OAAO,QAAU,EAAQ,eAKzE,QAAQ,KAAM,iFAMhB,KAAK,QAAU,SAAW,GAEL,SAAf,IAEJ,EAAa,KAId,GAAS,GAIV,KAAK,SAAW,SAAW,GAEN,SAAf,IAEJ,EAAa,KAId,GAAS,GAIV,KAAK,OAAS,WAEb,GAAI,GAAW,KAAK,OAAO,QAE3B,GAAO,KAAM,GAAW,IAAK,KAAK,QAGlC,EAAO,gBAAiB,GAIxB,EAAQ,KAAK,MAAO,EAAO,EAAG,EAAO,GAIrC,EAAM,KAAK,MAAO,KAAK,KAAM,EAAO,EAAI,EAAO,EAAI,EAAO,EAAI,EAAO,GAAK,EAAO,GAE5E,KAAK,YAAc,IAAU,EAAM,MAEvC,KAAK,WAAY,KAIlB,GAAS,EACT,GAAO,EAGP,EAAQ,KAAK,IAAK,KAAK,gBAAiB,KAAK,IAAK,KAAK,gBAAiB,IAGxE,EAAM,KAAK,IAAK,KAAK,cAAe,KAAK,IAAK,KAAK,cAAe,IAGlE,EAAM,KAAK,IAAK,EAAK,KAAK,IAAK,KAAK,GAAK,EAAK,GAE9C,IAAI,GAAS,EAAO,SAAW,CAG/B,GAAS,KAAK,IAAK,KAAK,YAAa,KAAK,IAAK,KAAK,YAAa,IAGjE,KAAK,OAAO,IAAK,GAEjB,EAAO,EAAI,EAAS,KAAK,IAAK,GAAQ,KAAK,IAAK,GAChD,EAAO,EAAI,EAAS,KAAK,IAAK,GAC9B,EAAO,EAAI,EAAS,KAAK,IAAK,GAAQ,KAAK,IAAK,GAGhD,EAAO,gBAAiB,GAExB,EAAS,KAAM,KAAK,QAAS,IAAK,GAElC,KAAK,OAAO,OAAQ,KAAK,QAEzB,EAAa,EACb,EAAW,EACX,EAAQ,EACR,EAAI,IAAK,EAAG,EAAG,IAMV,EAAa,kBAAmB,KAAK,OAAO,UAAa,GAAO,GAAK,EAAI,EAAe,IAAI,KAAK,OAAO,aAAe,KAE3H,KAAK,cAAe,GAEpB,EAAa,KAAM,KAAK,OAAO,UAC/B,EAAe,KAAM,KAAK,OAAO,cAOnC,KAAK,MAAQ,WAEZ,EAAQ,EAAM,KAEd,KAAK,OAAO,KAAM,KAAK,SACvB,KAAK,OAAO,SAAS,KAAM,KAAK,WAEhC,KAAK,UAIN,KAAK,cAAgB,WAEpB,MAAO,IAIR,KAAK,kBAAoB,WAExB,MAAO,IAiUR,KAAK,WAAW,iBAAkB,cAAe,SAAW,GAAU,EAAM,mBAAqB,GACjG,KAAK,WAAW,iBAAkB,YAAa,GAAa,GAC5D,KAAK,WAAW,iBAAkB,aAAc,GAAc,GAC9D,KAAK,WAAW,iBAAkB,iBAAkB,GAAc,GAElE,KAAK,WAAW,iBAAkB,aAAc,GAAY,GAC5D,KAAK,WAAW,iBAAkB,WAAY,GAAU,GACxD,KAAK,WAAW,iBAAkB,YAAa,GAAW,GAE1D,OAAO,iBAAkB,UAAW,GAAW,GAG/C,KAAK,UAIN,MAAM,cAAc,UAAY,OAAO,OAAQ,MAAM,gBAAgB,WACrE,MAAM,cAAc,UAAU,YAAc,MAAM,cAElD,OAAO,QAAU,MAAM;AdtmBrB,ACAA,ACTA,AQlCA,ACPA,CfoED,CAAA,IM3BK,AQlCA,ACPA,CXkDC,AETA,CDSC,AUlDA,CXkDE,CAAC,ACAD,CDAE,AWlDD,EXkDE,AU3CA,CV2CC,CETC,ASzCA,CXkDA,ACAC,ACTA,AQlCA,ACPA,CXkDA,CAAC,AU3CC,CRkCC,AQlCA,ACPA,CT0ChB,AS1CkB,EAAE,GAAC,CT0Cf,AS1CgB,CT0Cf,AS1CiB,CAAC,IT0Cb,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CACjD,CAAA;AACD,AQpCA,ACPA,EXkDA,ACAA,CAAA,CDAE,EEPE,AQpCA,ACPA,CT2CC,CS3CC,CXkDC,CAAC,AU3CA,CV2CA,AU3CC,ACPA,IT2CI,AS3CA,CT2CC,AS3CA,GT2CG,AS3CA,CT2CC,AS3CC,CT2CA,CS3CE,CT2CD,CAAC,CS3CC,CT2CA,AS3CC,CT2CA,AS3CE,CT2CD,AS3CE,CT2CF;AS1CxB,CVkDD,CAAA,ACPC,CAAA,GS3CI,EAAE,GAAG,IAAI,CAAC,GAAG,CAAE,EAAE,GAAC,CAAC,CAAE,CAAC;AXmD3B,AU3CC,CRoCD,IFOI,CU3CC,GV2CG,GAAG,AehEZ,MLqBkB,EKrBX,GfgEgB,CAAE,IAAI,Ce/D5B,Cf+D8B,AU3CD,KAAK,CV2CE,AU3CD,CV2CG,Ae/D5B,Cf+D4B,KU3CI,EKpBxB,ELoB4B,YAAY,YAAY,KAAK,CAAC,OAAO,IAAK,YAAY,YAAY,KAAK,CAAC,OAAO,EAAG;AV4ChI,AGhBA,AO3BE,ACPD,KXkDG,AGhBA,CQlCC,CDOC,ACPA,EXkDE,AGhBA,CO3BC,ACPA,CDOE,CV2CA,AGhBA,AQlCA,GAAG,CRkCC,CQlCC,GAAG,CRkCC,CAAC,AQlCA,CDOE,CAAE,CAAC,ACPF,CXkDC,CAAE,AWlDD,GRkCG,AQlCA,CXkDE,CGhBA,AQlCA,CXkDE,AGhBF,EQlCG,EAAE,CAAC,CXkDE,EAAE,IAAI,CAAE;AENhD,AS3CE,AIhBF,GLuBG,GRoCG,AS3CA,AIhBA,Cb2DC,AS3CA,AIhBA,ELuBE,CCPC,EAAE,ET2CE,Aa3DA,CJgBC,ET2CE,AS3CA,AIhBA,GJgBG,EAAE,GAAG,CT2CC,CS3CC,GAAG,EAAE,GAAG,CT2CC,CAAE,AS3CD,CAAC,GT2CI,EAAE,KAAK,EAAG;ACRnD,AO3BE,ACPD,AIhBD,KZkDI,CAAC,AQlCA,CDOC,ACPA,CIhBC,ELuBE,ACPA,AIhBC,CZkDA,CAAC,AQlCA,GRkCG,AQlCA,CRkCE,CQlCA,AIhBC,CAAC,EZkDE,AQlCD,CRkCG,CAAA,AO3BD,ACPA,CDOC,ECPE,EAAE,EIhBG,CJgBA,AIhBC,EJgBC,GAAG,EAAE,CAAC;AXgDU,AEJ/C,AS3CC,CIhBD,Cf+D+C,Ae/D/C,CLuBE,ERoCE,CS3CC,CAAC,GAAG,CT2CC,CS3CC,AKlBZ,Ed6Dc,CAAC,AS3CA,CT2CC,CS3CC,GAAG,AKlBb,Ed6De,AS3CA,CT2CC,ES3CE,EAAE,EKjB1B,CLiB6B,EAAE,EKjBxB,CLiB2B,EAAE,CAAC,MKhBrC,YAAc,kBACd,QACC,KAAQ,QAAQ,GAChB,WAED,YAEC,UAAa,WAAW,QAAQ,mCAChC,SAAY,WAAU,QAAQ,gCAE9B,OAAU,WAAU,QAAQ,2CAG5B,QAAW,WAAU,QAAQ;Ad+C7B,ACTD,CHeA,CAAA,GGfI,GDSG,EAAE,CCTC,CDSC,ECTE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAA;ADU9B,AQpCA,ACPA,AKpBF,Md+DM,Ac/DA,CAAC,Cd+DE,CAAC,AQpCD,ACPA,CDOC,IM3BI,CN2BC,CACZ,CAAC,AM5Ba,CN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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "\n\nvar Camera = function( properties, scene, poemEmitter ) {\n\t\n\tvar config = _.extend({\n\t\tfov : 50,\n\t\tnear : 3,\n\t\tfar : 10000,\n\t\taspectRatio : window.innerWidth / window.innerHeight\n\t}, properties);\n\t\n\tthis.object = new THREE.PerspectiveCamera(\n\t\tconfig.fov,\n\t\tconfig.aspect,\n\t\tconfig.near,\n\t\tconfig.far\n\t);\n\t\n\tthis.object.position.x = _.isNumber( properties.x ) ? properties.x : 0;\n\tthis.object.position.y = _.isNumber( properties.y ) ? properties.y : 0;\n\tthis.object.position.z = _.isNumber( properties.z ) ? properties.z : 500;\n\t\n\tscene.add( this.object );\n\t\n\tpoemEmitter.on( 'resize', this.resize.bind(this) );\n\t\n};\n\nmodule.exports = Camera;\n\nCamera.prototype = {\n\t\n\tresize : function() {\n\t\tthis.object.aspect = window.innerWidth / window.innerHeight;\n\t\tthis.object.updateProjectionMatrix();\n\t},\n\t\n\tsetAndUpdateFov : function( fov ) {\n\t\tthis.object.fov = fov\n\t\tthis.object.updateProjectionMatrix()\n\t}\n};",
    "module.exports = function trackCameraLights( poem, properties ) {\n\t\n\tthis.lights = [];\n\t\n\tvar ambient = new THREE.AmbientLight( 0x111111, 1, 0 );\n\t\tambient.position.set(0, 2000, 1000);\n\t\n\tvar front = new THREE.PointLight( 0xffffff, 0.3, 0 );\n\n\tvar rightFill = new THREE.PointLight( 0xffffff, 1, 0 );\n\t\trightFill.position.set(3000, 2000, 5000);\n\t\n\tvar rimBottom = new THREE.PointLight( 0xffffff, 1, 0 );\n\t\trimBottom.position.set(-1000, -1000, -1000);\n\t\t\n\tvar rimBackLeft = new THREE.PointLight( 0xffffff, 2, 0 );\n\t\trimBackLeft.position.set(-700, 500, -1000);\n\n\tpoem.scene.add( ambient );\n\t// poem.camera.object.add( front );\n\tpoem.camera.object.add( rightFill );\n\tpoem.camera.object.add( rimBottom );\n\tpoem.camera.object.add( rimBackLeft );\n\t\n};\n\n\n",
    "var createManifestLoader = require('poem-manifests');\nvar EventEmitter = require('events').EventEmitter;\n\nvar _emitter = new EventEmitter();\nvar _loader = null;\n\nvar init = function( createPoemGraph, manifests ) {\n\t\t\n\t_loader = createManifestLoader( manifests, {\n\t\temitter : _emitter,\n\t\tgetGraph : function( manifest, slug ) {\treturn createPoemGraph( manifest, _emitter ); },\n\t\tglobalManifest : {}\n\t});\n\t\n\t_emitter.on('load', function( e ) {\n\t\twindow.poem = e.graph;\n\t});\n\t\n};\n\nvar load = function( slug ) {\n\treturn _loader.load( slug );\n};\n\nmodule.exports = {\n\tinit : init,\n\tload : load,\n\temitter : _emitter\n};\n",
    "var Camera = require('../components/cameras/camera')\nvar CreateLoop = require('poem-loop')\n\nconst RATIO = _.isNumber( window.devicePixelRatio ) ? window.devicePixelRatio : 1\n\nfunction _createFog( scene, properties, cameraPositionZ ) {\n\n\tvar config = _.extend({\n\t\tcolor : 0x222222,\n\t\tnearFactor : 0.5,\n\t\tfarFactor : 2,\n\t\tenable : true\n\t}, properties )\n\n\tif( config.enable ) {\n\t\tscene.fog = new THREE.Fog(\n\t\t\tconfig.color,\n\t\t\tcameraPositionZ * config.nearFactor,\n\t\t\tcameraPositionZ * config.farFactor\n\t\t)\n\t}\n\n}\n\nfunction _startAfterPromises( poem ) {\n\t\n\tvar promisesUnfiltered = _.map( poem, function( component ) {\n\t\treturn _.isObject( component ) ? component.promise : undefined\n\t})\n\tvar promises = _.filter(promisesUnfiltered, function( component ) {\n\t\treturn !_.isUndefined( component )\n\t})\n\t\n\tPromise.all( promises ).then(\n\t\tfunction() {\n\t\t\tpoem.emitter.emit('promises')\n\t\t\tpoem.loop.start()\n\t\t},\n\t\tconsole.log.bind(console)\n\t)\n}\n\t\nmodule.exports = function createPoem( manifest, loaderEmitter ) {\n\n\tvar config = _.extend({\n\t\tcamera : null,\n\t\tfog : null,\n\t\trenderer : null\t\t\n\t}, manifest.config)\n\t\n\tvar poem = {}\n\tvar loop = CreateLoop()\n\tvar emitter = loop.emitter // Steal the emitter for the poem\n\t\n\tvar scene = new THREE.Scene()\n\tvar camera = new Camera( config.camera, scene, emitter )\n\t\n\t_createFog( scene, config.fog, camera.object.position.z )\n\t\n\t// Renderer( config.renderer, scene, camera.object, emitter )\n\t\n\tloaderEmitter.once( 'load', _.partial( _startAfterPromises, poem ) )\n\t\n\tloaderEmitter.on( 'unload', function() {\n\t\tloop.stop()\n\t\temitter.emit('destroy')\n\t})\n\t\n\treturn _.extend( poem, {\n\t\temitter : emitter,\n\t\tcanvas : null,\n\t\tscene : scene,\n\t\tratio : RATIO,\n\t\tcamera : camera,\n\t\t$div : $(\"#container\"),\n\t\tloop : loop,\n\t\tstart : loop.start,\n\t\tstop : loop.stop\n\t})\n}",
    "var crossroads = require('crossroads');\nvar hasher = require('hasher');\nvar manifestToPoem = require('./manifestToPoem');\n\nvar _baseUrl = '/blob';\nvar _defaultLevel\n\nvar routing = {\n\t\n\tstart : function( Poem, manifests ) {\n\t\t\n\t\t_defaultLevel = _.first( _.keys( manifests ) )\n\t\t\n\t\tmanifestToPoem.init( Poem, manifests );\n\t\t\n\t\tfunction parseHash( newHash, oldHash ){\n\t\t\tcrossroads.parse( newHash );\n\t\t}\n\t\t\n\t\tcrossroads.addRoute( '/',\t\trouting.showMainTitles );\n\t\tcrossroads.addRoute( '/{name}',\trouting.loadUpALevel );\n\t\n\t\tcrossroads.addRoute( /.*/, function reRouteToMainTitlesIfNoMatch() {\n\t\t\thasher.replaceHash('');\n\t\t});\n\t\n\t\thasher.initialized.add(parseHash); // parse initial hash\n\t\thasher.changed.add(parseHash); //parse hash changes\n\t\thasher.init(); //start listening for history change\n\t\t\n\t},\n\t\n\tshowMainTitles : function() {\n\n\t\t_gaq.push( [ '_trackPageview', _baseUrl ] );\n\t\n\t\tmanifestToPoem.load( _defaultLevel );\t\t\n\n\t},\n\n\tloadUpALevel : function( levelName ) {\n\n\t\t_gaq.push( [ '_trackPageview', _baseUrl+'/#level/'+levelName ] );\n\t\n\t\tvar levelFound = manifestToPoem.load( levelName );\n\t\n\t\tif( !levelFound ) {\n\t\t\tmanifestToPoem.load( _defaultLevel );\n\t\t}\n\t\t\n\t}\n\t\n};\n\nmodule.exports = routing;",
    "var poemMenu = require('poem-menu');\nvar\trouting\t= require('./routing');\nvar mute = require('../sound/mute');\nvar manifestToPoem = require('./manifestToPoem');\n\nwindow.mute = mute;\n\nfunction handlers( menu ) {\n\t\n\tvar poem;\n\n\tmanifestToPoem.emitter.on( 'load', function( e ) {\n\t\tpoem = e.graph;\n\t});\n\n\tmenu.emitter.on('close', function() {\n\t\tif( poem ) poem.start();\n\t});\n\n\tmenu.emitter.on('open', function() {\n\t\tif( poem ) poem.stop();\n\t});\n\t\n}\n\n//Start\n\nmodule.exports = function startUI( manifests ) {\n\t\n\tvar menu = poemMenu( manifests, {\n\t\ttop: \"Three.js Sandbox\",\n\t\tbottom : mute.el\n\t});\n\n\thandlers( menu );\n\t\n};",
    "module.exports = {\n\t\n\tstart: [19,48,0],\n\tboxesInverted: [\n\t\t[[17,3],[22,3]],\n\t\t[[13,4],[18,6]],\n\t\t[[21,6],[26,4]],\n\t\t[[17,8],[17,8]],\n\t\t[[19,8],[19,8]],\n\t\t[[21,8],[21,8]],\n\t\t[[23,8],[23,8]],\n\t\t[[18,10],[18,10]],\n\t\t[[20,10],[20,10]],\n\t\t[[22,10],[22,10]],\n\t\t[[19,12],[19,12]],\n\t\t[[21,12],[21,12]],\n\t\t[[20,14],[20,14]],\n\t\t[[21,16],[23,16]],\n\t\t[[23,18],[27,18]],\n\t\t[[15,18],[24,20]],\n\t\t[[14,20],[23,21]],\n\t\t[[19,23],[19,23]],\n\t\t[[21,23],[21,23]],\n\t\t[[20,25],[20,25]],\n\t\t[[19,27],[19,27]],\n\t\t[[21,27],[21,27]],\n\t\t[[20,30],[20,30]],\n\t\t[[19,33],[19,33]],\n\t\t[[21,33],[21,33]],\n\t\t[[20,35],[24,35]],\n\t\t[[20,35],[17,42]],\n\t\t[[17,42],[14,45]],\n\t\t[[14,45],[10,46]],\n\t\t[[10,46],[7,46]],\n\t\t[[7,46],[5,45]],\n\t\t[[0,44],[1,44]],\n\t],\n\tboxes: [\n\t\t[[17,47],[22,47]],\n\t\t[[13,46],[18,44]],\n\t\t[[21,44],[26,46]],\n\t\t[[17,42],[17,42]],\n\t\t[[19,42],[19,42]],\n\t\t[[21,42],[21,42]],\n\t\t[[23,42],[23,42]],\n\t\t[[18,40],[18,40]],\n\t\t[[20,40],[20,40]],\n\t\t[[22,40],[22,40]],\n\t\t[[19,38],[19,38]],\n\t\t[[21,38],[21,38]],\n\t\t[[20,36],[20,36]],\n\t\t[[21,34],[23,34]],\n\t\t[[23,32],[27,32]],\n\t\t[[15,32],[24,30]],\n\t\t[[14,30],[18,29]],\n\t\t[[19,27],[19,27]],\n\t\t[[21,27],[21,27]],\n\t\t[[20,25],[20,25]],\n\t\t[[19,23],[19,23]],\n\t\t[[21,23],[21,23]],\n\t\t[[20,20],[20,20]],\n\t\t[[19,17],[19,17]],\n\t\t[[21,17],[21,17]],\n\t\t[[20,15],[24,15]],\n\t\t[[20,15],[17,8]],\n\t\t[[17,8],[14,5]],\n\t\t[[14,5],[10,4]],\n\t\t[[10,4],[7,4]],\n\t\t[[7,4],[5,5]],\n\t\t[[0,6],[1,6]]\n\t]\n}",
    "var SyncPhysicsBodyFn = require('../../utils/sync-physics-body')\nvar Cannon = require('cannon')\nvar Boxes = require('../levels/intro')\n\nfunction _createMesh( poem, config ) {\n\t\n\tvar mesh = new THREE.Mesh(\n\t\tnew THREE.BoxGeometry(config.size[0], config.size[1], config.size[2]),\n\t\tnew THREE.MeshPhongMaterial({\n\t\t\tcolor: 0x3333cc\n\t\t})\n\t)\n\n\tmesh.castShadow = true\n\tmesh.receiveShadow = true\n\n\treturn mesh\n}\n\nfunction _createPhysics( poem, config, mesh ) {\n\t\n\tvar material = new Cannon.Material()\n\t\n\tvar body = new Cannon.Body({\n\t\tmass: config.mass,\n\t\tmaterial: material\n\t})\n\tbody.addShape( new Cannon.Box(new Cannon.Vec3(\n\t\tconfig.size[0] / 2, config.size[1] / 2, config.size[2] / 2\n\t)))\n\tbody.position.set( config.position[0], config.position[1], config.position[2] )\n\tbody.quaternion.setFromEuler( config.euler[0], config.euler[1], config.euler[2], 'XYZ' )\n\n\tpoem.scene.add( mesh )\n\tpoem.world.add( body )\n\t\n\tmesh.body = body\n\t\n\t//Sync at least once\n\tSyncPhysicsBodyFn( mesh, mesh.body )()\n\t\n\treturn body\n}\n\nfunction _updateFn( mesh ) {\n\t\n\t//Overkill at this point...\n\tvar sync = SyncPhysicsBodyFn( mesh, mesh.body )\n\t\n\treturn function updateSphere() {\n\t\tsync()\n\t}\n}\n\nmodule.exports = function initSphere( poem, props ) {\n\t\n\t\t\n\tvar config = _.extend({\n\t\tsize: [500, 10, 150],\n\t\tmass : 0,\n\t\tposition : [0,-100,0],\n\t\teuler : [0,0,0]\n\t}, props)\n\t\n\tvar mesh = _createMesh( poem, config )\n\tvar body = _createPhysics( poem, config, mesh )\n\t\n\t// poem.emitter.on( 'update', _updateFn( mesh ) )\n}",
    "var SyncPhysicsBodyFn = require('../../utils/sync-physics-body')\nvar Cannon = require('cannon')\nvar Level = require('../levels/intro')\nvar CreateBox = require('./physics-box')\nvar CreateSphere = require('./physics-sphere')\n\nfunction _timesScaleFn( scale ) {\n\treturn function( n ) {\n\t\treturn n * scale\n\t}\n}\n\nfunction _scaleBoxes( boxes, scale ) {\n\t\n\treturn _.map( boxes, function(box) {\n\t\treturn [\n\t\t\t[box[0][0] * scale, box[0][1] * scale, box[0][2] * scale],\n\t\t\t[box[1][0] * scale, box[1][1] * scale, box[1][2] * scale],\n\t\t]\n\t})\n}\n\nfunction _boxToProps( box, scale ) {\n\t\n\tvar center = [\n\t\t(box[0][0] + box[1][0]) / 2,\n\t\t(box[0][1] + box[1][1]) / 2,\n\t\t0\n\t]\n\t\n\tvar manhattan = [\n\t\tbox[1][0] - box[0][0],\n\t\tbox[1][1] - box[0][1],\t\t\t\n\t]\n\t\n\tvar rotationZ = Math.atan2( manhattan[1], manhattan[0] )\n\tvar length = Math.sqrt( manhattan[0] * manhattan[0] + manhattan[1] * manhattan[1] )\n\t\n\treturn {\n\t\tsize: [length + 1 * scale, scale * 0.25, scale * 2],\n\t\tposition : center,\n\t\teuler : [0,0,rotationZ]\n\t}\n}\n\nmodule.exports = function initSphere( poem, props ) {\n\t\n\tvar scale = 50;\n\tvar start = _.map( Level.start, _timesScaleFn( scale ) )\n\t\n\tvar boxes = _.map( _scaleBoxes( Level.boxes, scale ), function( box ) {\n\t\tCreateBox( poem, _boxToProps( box, scale ) )\n\t})\n\tvar sphere = CreateSphere( poem, {\n\t\tstart : start\n\t})\n\t\n\tpoem.physics.arrow.position.set( start[0], start[1], start[2] )\n\t\n\treturn {\n\t\tboxes: boxes,\n\t\tsphere: sphere\n\t}\n}",
    "var SyncPhysicsBodyFn = require('../../utils/sync-physics-body')\nvar Cannon = require('cannon')\n\nfunction _createMesh( poem, config ) {\n\t\n\tvar mesh = new THREE.Mesh(\n\t\tnew THREE.IcosahedronGeometry(config.radius, 3),\n\t\tnew THREE.MeshPhongMaterial({\n\t\t\tcolor: 0xcc3333\n\t\t})\n\t)\n\tmesh.castShadow = true\n\tmesh.receiveShadow = true\n\n\treturn mesh\n}\n\nfunction _createPhysics( poem, config, mesh ) {\n\t\n\tvar material = new Cannon.Material()\n\t\n\tvar body = new Cannon.Body({\n\t\tmass: config.mass,\n\t\tmaterial: material\n\t})\n\tbody.addShape( new Cannon.Sphere( config.radius ) )\n\tbody.linearDamping = 0.01\n\tbody.position.set(\n\t\tconfig.start[0], config.start[1], config.start[2]\n\t)\n\n\tpoem.scene.add( mesh )\n\tpoem.world.add( body )\n\t\n\tmesh.body = body\n\t\n\treturn body\n}\n\nfunction _updateFn( mesh ) {\n\t\n\t//Overkill at this point...\n\tvar sync = SyncPhysicsBodyFn( mesh, mesh.body )\n\t\n\treturn function updateSphere() {\n\t\tsync()\n\t}\n}\n\nfunction _restartFn( config, body ) {\n\t\n\treturn function() {\n\t\tbody.position.set(\n\t\t\tconfig.start[0], config.start[1], config.start[2]\n\t\t)\n\t\tbody.velocity.set(0,0,0)\n\t}\n}\n\nmodule.exports = function initSphere( poem, props ) {\n\t\n\tvar config = _.extend({\n\t\tradius: 10,\n\t\tmass : 5,\n\t\tstart : [0,100,0]\n\t}, props)\n\t\n\tvar mesh = _createMesh( poem, config )\n\tvar body = _createPhysics( poem, config, mesh )\n\t\n\t$('canvas').on('touchstart, mousedown', _restartFn( config, body ) )\n\t\n\tpoem.emitter.on( 'update', _updateFn( mesh ) )\n\t\n\treturn mesh\n}",
    "var Cannon = require('cannon')\nvar DeviceOrientationQuaternion = require('../../utils/device-orientation-quat')\nvar DeviceOrientationControls = require('../../vendor/DeviceOrientationControls')\nvar OrbitControls = require('../../vendor/OrbitControls');\n\nfunction _addLight( poem ) {\n\t\n\tvar light = new THREE.SpotLight( 0xffffff );\n\tlight.position.set( 0, 500, 0 );\n\n\tlight.castShadow = true;\n\n\tlight.shadowCameraNear = 20;\n\tlight.shadowCameraFar = 5000;\n\tlight.shadowCameraFov = 50;\n\tlight.onlyShadow = true;\n\n\tlight.shadowBias = -0.0000022;\n\tlight.shadowDarkness = 0.2;\n\n\tlight.shadowMapWidth = 2048;\n\tlight.shadowMapHeight = 2048;\n\n\tpoem.scene.add( light );\t\n\t// poem.scene.add( new THREE.SpotLightHelper( light ) )\n\t\n}\n\nfunction _orientation( poem, world, gravity ) {\n\t\n\tvar quat = new THREE.Quaternion()\n\tvar rotatedGravity = new THREE.Vector3()\n\t$(window).on( 'deviceorientation', function(e) {\n\t\t\n\t\tvar event = e.originalEvent;\n\t\t\n\t\tDeviceOrientationQuaternion( quat, event )\n\t\t\n\t\trotatedGravity.copy( gravity ).applyQuaternion( quat )\n\t\tworld.gravity.set( -rotatedGravity.x, rotatedGravity.y, -rotatedGravity.z )\n\t});\n\t\n}\n\nfunction _addArrowCameraHolder( poem ) {\n\t\n\t// var geometry = new THREE.CylinderGeometry( 5, 1, 20, 32 )\n\t// var material = new THREE.MeshPhongMaterial( {color: 0xffff00} )\n\t// var mesh = new THREE.Mesh( geometry, material )\n\tvar mesh = new THREE.Object3D()\n\t\n\tpoem.scene.add( mesh )\n\n\tvar camera = poem.camera.object\n\t\n\tpoem.scene.remove( camera )\n\tmesh.add( camera )\n\t\n\treturn mesh\n}\n\nfunction _setupOrientationControls( poem, mesh ) {\n\t\n\tvar controls = new DeviceOrientationControls( mesh )\n\t\t\n\tcontrols.freeze = false\n\tcontrols.update()\n\t\n\tcontrols.orientationQuaternion.setFromEuler( new THREE.Euler(Math.PI * 0.5,0,0) )\n\t\n\treturn controls\n}\n\nfunction _setupMouseControls( poem, object3d ) {\n\t\n\tvar controls = new OrbitControls( poem.camera.object, poem.canvas )\n\t\n\treturn controls\n}\n\nmodule.exports = function initPhysics( poem, props ) {\n\t\n\tvar gravity = new THREE.Vector3()\n\t\n\tpoem.renderer.shadowMapEnabled = true;\n\tpoem.renderer.shadowMapType = THREE.PCFShadowMap;\n\t\n\tvar world = poem.world = new Cannon.World()\n\tworld.gravity.set(gravity.x,gravity.y,gravity.z)\n\tworld.broadphase = new Cannon.SAPBroadphase( world )\n\t\n\tvar arrow               = _addArrowCameraHolder( poem )\n\tvar orientationControls = _setupOrientationControls( poem, arrow )\n\tvar mouseControls       = _setupMouseControls( poem, arrow )\n\n\tpoem.emitter.on('update', function(e) {\n\t\tworld.step( 1/60, e.dt * 1000 )\n\t\t\n\t\tmouseControls.update()\n\t\torientationControls.update()\n\t\t\n\t\tarrow.position.lerp( poem.level.sphere.position, e.unitDt * 0.05 )\n\t\t\n\t\tgravity.set(0,-10,0)\n\t\tgravity.applyQuaternion( orientationControls.orientationQuaternion )\n\t\t\n\t\tworld.gravity.set(gravity.x,gravity.y,0)\n\t})\n\t\n\t// _addLight( poem )\n\t// _orientation( poem, world, gravity )\n\t\n\t\n\treturn {\n\t\tworld: world,\n\t\tarrow: arrow\n\t}\n}",
    "require('./utils/ThreeConsole');\nrequire('es6-promise').polyfill();\n\nvar manifests = require('../manifests');\n\nvar routing = require('./core/routing');\nvar ui = require('./core/ui')( manifests );\n\nrouting.start(\n\trequire('./core/poem'),\n\tmanifests\n);",
    "var ResizeRendererFn = require('./utils/resize-renderer-fn')\nvar ResizeHandler = require('./utils/resize-handler')\nvar CreateRenderer = require('./utils/create-renderer')\n\nfunction handleNewPoem( poem, properties ) {\n\t\n\t//No config at this level, see createRenderer for more props\n\tvar config = _.extend({}, properties)\n\t\n\tvar renderer = CreateRenderer( poem, config )\n\t\n\tResizeHandler( poem, ResizeRendererFn( renderer, poem.camera.object ) )\n\t\n\tpoem.emitter.on( 'draw', function() {\n\t\trenderer.render( poem.scene, poem.camera.object )\n\t})\n\t\t\t\n\treturn renderer\n}\n\nmodule.exports = handleNewPoem",
    "module.exports = function createRenderer( poem, properties ) {\n\n\tvar config = _.extend({\n\t\tclearColor : 0x222222,\n\t\taddToDom : true\n\t}, properties)\n\t\n\tvar renderer = new THREE.WebGLRenderer()\n\t\n\trenderer.setPixelRatio( poem.ratio )\n\trenderer.setClearColor( config.clearColor )\n\t\n\tif( config.addToDom ) {\n\t\tdocument.getElementById( 'container' ).appendChild( renderer.domElement )\n\t\tpoem.canvas = renderer.domElement\n\t\t\n\t\tpoem.emitter.on( 'destroy', function() {\n\t\t\trenderer.domElement.remove()\n\t\t})\n\t}\n\t\n\treturn renderer\n\t\n}",
    "module.exports = function SetResizeHandler( poem, resize ) {\n\t\n\t$(window).on('resize', resize)\n\tpoem.emitter.on('destroy', function() {\n\t\t$(window).off('resize', resize)\n\t})\n\tresize()\n}\n",
    "module.exports = function resizeRendererFn( renderer, camera ) {\n\n\treturn function resizeRenderer() {\n\n\t\tcamera.aspect = window.innerWidth / window.innerHeight\n\t\tcamera.updateProjectionMatrix()\n\t\trenderer.setSize(\n\t\t\twindow.innerWidth,\n\t\t\twindow.innerHeight\n\t\t)\n\t}\n}",
    "var poemMute = require('poem-mute');\nvar mute = poemMute();\nwindow.mutePrime = mute;\nwindow.mutePrimeEmitter = mute.emitter;\n\n//Turn on a poem muter\nmodule.exports = mute;",
    "function roundTo( value, decimalPlaces ) {\n\t\n\tif( typeof decimalPlaces === \"number\" ) {\n\n\t\treturn Math.round( Math.pow(10, decimalPlaces) * value ) / Math.pow(10, decimalPlaces);\n\n\t} else {\n\t\t\n\t\treturn value;\n\t\t\n\t}\n\t\n}\n\nTHREE.Console = {\n\t\n\tvector : function( vectorOrList, decimalPlaces ) {\n\t\t\n\t\tvar results = [];\n\t\tvar list;\n\t\t\n\t\tif( vectorOrList instanceof THREE.Vector2 || vectorOrList instanceof THREE.Vector3  || vectorOrList instanceof THREE.Vector4 ) {\n\t\t\tlist = [ vectorOrList ];\n\t\t} else {\n\t\t\tlist = vectorOrList;\n\t\t}\n\t\t\n\t\tconsole.table(\n\t\t\t_.map( list, function( vector ) {\n\t\t\t\treturn _.map( vector.toArray(), function( x ) {\n\t\t\t\t\treturn roundTo( x, decimalPlaces );\n\t\t\t\t});\n\t\t\t})\n\t\t);\n\t\t\n\t},\n\t\n\tface : function( faceOrList ) {\n\t\t\n\t\tvar results = [];\n\t\tvar list;\n\t\t\n\t\tif( faceOrList instanceof THREE.Face3 ) {\n\t\t\tlist = [ faceOrList ];\n\t\t} else {\n\t\t\tlist = faceOrList;\n\t\t}\n\t\t\n\t\tconsole.table(\n\t\t\t_.map( list, function( face ) {\n\t\t\t\treturn [face.a, face.b, face.c];\n\t\t\t})\n\t\t);\n\t\t\n\t},\n\t\n\tmatrix : function( matrixOrElements, decimalPlaces ) {\n \n\t\tvar i, j, el, els, results;\n \n\t\tresults = [];\n\t\tj = 0;\n\t\t\n\t\tif( matrixOrElements instanceof THREE.Matrix4 ) {\n\t\t\tels = matrixOrElements.elements;\n\t\t} else {\n\t\t\tels = matrixOrElements;\n\t\t}\n \n\t\tfor( i=0; i < els.length; i++ ) {\n\t\t\n\t\t\tif( j === 0 ) {\n\t\t\t\tresults.push([]);\n\t\t\t}\n \n\t\t\tel = roundTo( els[i], decimalPlaces );\n \n\t\t\tresults[Math.floor(i / 4) % 4].push( el );\n \n\t\t\tj++;\n\t\t\tj %= 4;\n\t\t\n\t\t\tif( i % 16 === 15 ) {\n\t\t\t\tconsole.table( results );\n\t\t\t\tresults = [];\n\t\t\t}\n \n\t\t}\n \n\t},\n\t\n\tquaternion : (function() {\n\t\t\n\t\tvar euler = new THREE.Euler()\n\t\t\n\t\tvar radToUnitPi = function(n) {\n\t\t\treturn n / Math.PI\n\t\t}\n\t\t\n\t\tvar roundToFn = function( decimalPlaces ) {\n\t\t\treturn function(n) {\n\t\t\t\treturn roundTo(n, decimalPlaces)\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn function( quaternion, decimalPlaces ) {\n\t\t\t\n\t\t\teuler.setFromQuaternion( quaternion )\n\t\t\t\n\t\t\tvar round = roundToFn( decimalPlaces )\n\t\t\tvar eulerArr = euler.toArray().slice(0,3)\n\t\t\t\n\t\t\tconsole.table({\n\t\t\t\tquaternion: _.map( quaternion.toArray(), round ),\n\t\t\t\teulerRad  : _.map( eulerArr, round ),\n\t\t\t\teulerUnitPi  : _.map(\n\t\t\t\t\t_.map(eulerArr, radToUnitPi),\n\t\t\t\t\tround\n\t\t\t\t)\n\t\t\t})\n\t\t}\n\t})(),\n\t\n\teuler : (function() {\n\t\t\n\t\tvar quaternion = new THREE.Quaternion()\n\t\t\n\t\tvar radToUnitPi = function(n) {\n\t\t\treturn n / Math.PI\n\t\t}\n\t\t\n\t\tvar roundToFn = function( decimalPlaces ) {\n\t\t\treturn function(n) {\n\t\t\t\treturn roundTo(n, decimalPlaces)\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn function( euler, decimalPlaces ) {\n\t\t\t\n\t\t\tquaternion.setFromEuler( euler )\n\t\t\t\n\t\t\tvar round = roundToFn( decimalPlaces )\n\t\t\tvar eulerArr = euler.toArray().slice(0,3)\n\t\t\t\n\t\t\tconsole.table({\n\t\t\t\tquaternion: _.map( quaternion.toArray(), round ),\n\t\t\t\teulerRad  : _.map( eulerArr, round ),\n\t\t\t\teulerUnitPi  : _.map(\n\t\t\t\t\t_.map(eulerArr, radToUnitPi),\n\t\t\t\t\tround\n\t\t\t\t)\n\t\t\t})\n\t\t}\n\t})()\n};\n\nwindow.consoleMatrix = THREE.Console.matrix;\nwindow.consoleVector = THREE.Console.vector;\nwindow.consoleFace = THREE.Console.face;\nwindow.consoleQuaternion = THREE.Console.quaternion;\nwindow.consoleEuler = THREE.Console.euler;\n\nmodule.exports = THREE.Console;",
    "var degtorad = Math.PI / 180; // Degree-to-Radian conversion\n\nmodule.exports = function deviceOrientationQuaternion( quaternion, event ) {\n\n  var _x = event.beta  ? event.beta  * degtorad : 0; // beta value\n  var _y = event.gamma ? event.gamma * degtorad : 0; // gamma value\n  var _z = event.alpha ? event.alpha * degtorad : 0; // alpha value\n\n  var cX = Math.cos( _x/2 );\n  var cY = Math.cos( _y/2 );\n  var cZ = Math.cos( _z/2 );\n  var sX = Math.sin( _x/2 );\n  var sY = Math.sin( _y/2 );\n  var sZ = Math.sin( _z/2 );\n\n  var x = sX * cY * cZ - cX * sY * sZ;\n  var y = cX * sY * cZ + sX * cY * sZ;\n  var z = cX * cY * sZ + sX * sY * cZ;\n  var w = cX * cY * cZ - sX * sY * sZ;\n\n  return quaternion.set( x, y, z, w );\n}",
    "module.exports = function syncPhysicsBodyFn( mesh, body ) {\n\t\n\treturn function() {\n\t\tmesh.position.copy( body.position )\n\t\tmesh.quaternion.copy( body.quaternion )\n\t}\n}",
    "/* globals THREE */\n/**\n * DeviceOrientationControls - applies device orientation on object rotation\n *\n * @param {Object} object - instance of THREE.Object3D\n * @constructor\n *\n * @author richt / http://richt.me\n * @author WestLangley / http://github.com/WestLangley\n * @author jonobr1 / http://jonobr1.com\n * @author arodic / http://aleksandarrodic.com\n * @author doug / http://github.com/doug\n *\n * W3C Device Orientation control\n * (http://w3c.github.io/deviceorientation/spec-source-orientation.html)\n */\n\n\nvar deviceOrientation = {};\n\tvar screenOrientation = window.orientation || 0;\n\nfunction onDeviceOrientationChangeEvent(evt) {\n\tdeviceOrientation = evt;\n}\nwindow.addEventListener('deviceorientation', onDeviceOrientationChangeEvent, false);\n\nfunction getOrientation() {\n\tswitch (window.screen.orientation || window.screen.mozOrientation) {\n\t\tcase 'landscape-primary':\n\t\t\treturn 90;\n\t\tcase 'landscape-secondary':\n\t\t\treturn -90;\n\t\tcase 'portrait-secondary':\n\t\t\treturn 180;\n\t\tcase 'portrait-primary':\n\t\t\treturn 0;\n\t}\n\t// this returns 90 if width is greater then height\n\t// and window orientation is undefined OR 0\n\t// if (!window.orientation && window.innerWidth > window.innerHeight)\n\t//\t return 90;\n\treturn window.orientation || 0;\n}\n\nfunction onScreenOrientationChangeEvent() {\n\tscreenOrientation = getOrientation();\n}\nwindow.addEventListener('orientationchange', onScreenOrientationChangeEvent, false);\n\n\nTHREE.DeviceOrientationControls = function(object) {\n\n\tthis.object = object;\n\n\tthis.object.rotation.reorder('YXZ');\n\n\tthis.freeze = true;\n\n\tthis.movementSpeed = 1.0;\n\tthis.rollSpeed = 0.005;\n\tthis.autoAlign = true;\n\tthis.autoForward = false;\n\n\tthis.alpha = 0;\n\tthis.beta = 90;\n\tthis.gamma = 0;\n\tthis.orient = 0;\n\n\tthis.alignQuaternion = new THREE.Quaternion();\n\tthis.orientationQuaternion = new THREE.Quaternion();\n\n\tvar quaternion = new THREE.Quaternion();\n\tvar quaternionLerp = new THREE.Quaternion();\n\n\tvar tempVector3 = new THREE.Vector3();\n\tvar tempMatrix4 = new THREE.Matrix4();\n\tvar tempEuler = new THREE.Euler(0, 0, 0, 'YXZ');\n\tvar tempQuaternion = new THREE.Quaternion();\n\n\tvar zee = new THREE.Vector3(0, 0, 1);\n\tvar up = new THREE.Vector3(0, 1, 0);\n\tvar v0 = new THREE.Vector3(0, 0, 0);\n\tvar euler = new THREE.Euler();\n\tvar q0 = new THREE.Quaternion(); // - PI/2 around the x-axis\n\tvar q1 = new THREE.Quaternion(- Math.sqrt(0.5), 0, 0, Math.sqrt(0.5));\n\n\n\tthis.update = (function(delta) {\n\n\t\treturn function(delta) {\n\t\t\t// debugger\n\t\t\tif (this.freeze) return;\n\n\t\t\t// should not need this\n\t\t\t//var orientation = getOrientation();\n\t\t\t//if (orientation !== this.screenOrientation) {\n\t\t\t\t//this.screenOrientation = orientation;\n\t\t\t\t//this.autoAlign = true;\n\t\t\t//}\n\n\t\t\tthis.alpha = deviceOrientation.gamma ?\n\t\t\t\tTHREE.Math.degToRad(deviceOrientation.alpha) : 0; // Z\n\t\t\tthis.beta = deviceOrientation.beta ?\n\t\t\t\tTHREE.Math.degToRad(deviceOrientation.beta) : 90; // X'\n\t\t\tthis.gamma = deviceOrientation.gamma ?\n\t\t\t\tTHREE.Math.degToRad(deviceOrientation.gamma) : 0; // Y''\n\t\t\tthis.orient = screenOrientation ?\n\t\t\t\tTHREE.Math.degToRad(screenOrientation) : 0; // O\n\n\t\t\t// The angles alpha, beta and gamma\n\t\t\t// form a set of intrinsic Tait-Bryan angles of type Z-X'-Y''\n\n\t\t\t// 'ZXY' for the device, but 'YXZ' for us\n\t\t\teuler.set(this.beta, this.alpha, - this.gamma, 'YXZ');\n\n\t\t\tquaternion.setFromEuler(euler);\n\t\t\tquaternionLerp.slerp(quaternion, 0.5); // interpolate\n\n\t\t\t// orient the device\n\t\t\tif (this.autoAlign) this.orientationQuaternion.copy(quaternion); // interpolation breaks the auto alignment\n\t\t\telse this.orientationQuaternion.copy(quaternionLerp);\n\n\t\t\t// camera looks out the back of the device, not the top\n\t\t\tthis.orientationQuaternion.multiply(q1);\n\n\t\t\t// adjust for screen orientation\n\t\t\tthis.orientationQuaternion.multiply(q0.setFromAxisAngle(zee, - this.orient));\n\n\t\t\tthis.object.quaternion.copy(this.alignQuaternion);\n\t\t\tthis.object.quaternion.multiply(this.orientationQuaternion);\n\n\t\t\tif (this.autoForward) {\n\n\t\t\t\ttempVector3\n\t\t\t\t\t.set(0, 0, -1)\n\t\t\t\t\t.applyQuaternion(this.object.quaternion, 'ZXY')\n\t\t\t\t\t.setLength(this.movementSpeed / 50); // TODO: why 50 :S\n\n\t\t\t\tthis.object.position.add(tempVector3);\n\n\t\t\t}\n\n\t\t\tif (this.autoAlign && this.alpha !== 0) {\n\n\t\t\t\tthis.autoAlign = false;\n\n\t\t\t\tthis.align();\n\n\t\t\t}\n\n\t\t};\n\n\t})();\n\n\tthis.align = function() {\n\n\t\ttempVector3\n\t\t\t.set(0, 0, -1)\n\t\t\t.applyQuaternion( tempQuaternion.copy(this.orientationQuaternion).inverse(), 'ZXY' );\n\n\t\ttempEuler.setFromQuaternion(\n\t\t\ttempQuaternion.setFromRotationMatrix(\n\t\t\t\ttempMatrix4.lookAt(tempVector3, v0, up)\n\t\t )\n\t );\n\n\t\ttempEuler.set(0, tempEuler.y, 0);\n\t\tthis.alignQuaternion.setFromEuler(tempEuler);\n\n\t};\n\n\tthis.connect = function() {\n\t\tthis.freeze = false;\n\t};\n\n\tthis.disconnect = function() {\n\t\tthis.freze = true;\n\t};\n\n};\n\nmodule.exports = THREE.DeviceOrientationControls;",
    "/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n/*global THREE, console */\n\n// This set of controls performs orbiting, dollying (zooming), and panning. It maintains\n// the \"up\" direction as +Y, unlike the TrackballControls. Touch on tablet and phones is\n// supported.\n//\n//    Orbit - left mouse / touch: one finger move\n//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n//    Pan - right mouse, or arrow keys / touch: three finter swipe\n//\n// This is a drop-in replacement for (most) TrackballControls used in examples.\n// That is, include this js file and wherever you see:\n//    \tcontrols = new THREE.TrackballControls( camera );\n//      controls.target.z = 150;\n// Simple substitute \"OrbitControls\" and the control should work as-is.\n\nTHREE.OrbitControls = function ( object, domElement ) {\n\n\tthis.object = object;\n\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\n\t// API\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the control orbits around\n\t// and where it pans with respect to.\n\tthis.target = new THREE.Vector3();\n\n\t// center is old, deprecated; use \"target\" instead\n\tthis.center = this.target;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for\n\t// backwards compatibility\n\tthis.noZoom = false;\n\tthis.zoomSpeed = 1.0;\n\n\t// Limits to how far you can dolly in and out\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// Set to true to disable this control\n\tthis.noRotate = false;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to true to disable this control\n\tthis.noPan = false;\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\tthis.minAzimuthAngle = - Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to disable use of the keys\n\tthis.noKeys = false;\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n\t////////////\n\t// internals\n\n\tvar scope = this;\n\n\tvar EPS = 0.000001;\n\n\tvar rotateStart = new THREE.Vector2();\n\tvar rotateEnd = new THREE.Vector2();\n\tvar rotateDelta = new THREE.Vector2();\n\n\tvar panStart = new THREE.Vector2();\n\tvar panEnd = new THREE.Vector2();\n\tvar panDelta = new THREE.Vector2();\n\tvar panOffset = new THREE.Vector3();\n\n\tvar offset = new THREE.Vector3();\n\n\tvar dollyStart = new THREE.Vector2();\n\tvar dollyEnd = new THREE.Vector2();\n\tvar dollyDelta = new THREE.Vector2();\n\n\tvar theta;\n\tvar phi;\n\tvar phiDelta = 0;\n\tvar thetaDelta = 0;\n\tvar scale = 1;\n\tvar pan = new THREE.Vector3();\n\n\tvar lastPosition = new THREE.Vector3();\n\tvar lastQuaternion = new THREE.Quaternion();\n\n\tvar STATE = { NONE : -1, ROTATE : 0, DOLLY : 1, PAN : 2, TOUCH_ROTATE : 3, TOUCH_DOLLY : 4, TOUCH_PAN : 5 };\n\n\tvar state = STATE.NONE;\n\n\t// for reset\n\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\n\t// so camera.up is the orbit axis\n\n\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n\tvar quatInverse = quat.clone().inverse();\n\n\t// events\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start'};\n\tvar endEvent = { type: 'end'};\n\n\tthis.rotateLeft = function ( angle ) {\n\n\t\tif ( angle === undefined ) {\n\n\t\t\tangle = getAutoRotationAngle();\n\n\t\t}\n\n\t\tthetaDelta -= angle;\n\n\t};\n\n\tthis.rotateUp = function ( angle ) {\n\n\t\tif ( angle === undefined ) {\n\n\t\t\tangle = getAutoRotationAngle();\n\n\t\t}\n\n\t\tphiDelta -= angle;\n\n\t};\n\n\t// pass in distance in world space to move left\n\tthis.panLeft = function ( distance ) {\n\n\t\tvar te = this.object.matrix.elements;\n\n\t\t// get X column of matrix\n\t\tpanOffset.set( te[ 0 ], te[ 1 ], te[ 2 ] );\n\t\tpanOffset.multiplyScalar( - distance );\n\n\t\tpan.add( panOffset );\n\n\t};\n\n\t// pass in distance in world space to move up\n\tthis.panUp = function ( distance ) {\n\n\t\tvar te = this.object.matrix.elements;\n\n\t\t// get Y column of matrix\n\t\tpanOffset.set( te[ 4 ], te[ 5 ], te[ 6 ] );\n\t\tpanOffset.multiplyScalar( distance );\n\n\t\tpan.add( panOffset );\n\n\t};\n\n\t// pass in x,y of change desired in pixel space,\n\t// right and down are positive\n\tthis.pan = function ( deltaX, deltaY ) {\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\tif ( scope.object.fov !== undefined ) {\n\n\t\t\t// perspective\n\t\t\tvar position = scope.object.position;\n\t\t\tvar offset = position.clone().sub( scope.target );\n\t\t\tvar targetDistance = offset.length();\n\n\t\t\t// half of the fov is center to top of screen\n\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t// we actually don't use screenWidth, since perspective camera is fixed to screen height\n\t\t\tscope.panLeft( 2 * deltaX * targetDistance / element.clientHeight );\n\t\t\tscope.panUp( 2 * deltaY * targetDistance / element.clientHeight );\n\n\t\t} else if ( scope.object.top !== undefined ) {\n\n\t\t\t// orthographic\n\t\t\tscope.panLeft( deltaX * (scope.object.right - scope.object.left) / element.clientWidth );\n\t\t\tscope.panUp( deltaY * (scope.object.top - scope.object.bottom) / element.clientHeight );\n\n\t\t} else {\n\n\t\t\t// camera neither orthographic or perspective\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\n\t\t}\n\n\t};\n\n\tthis.dollyIn = function ( dollyScale ) {\n\n\t\tif ( dollyScale === undefined ) {\n\n\t\t\tdollyScale = getZoomScale();\n\n\t\t}\n\n\t\tscale /= dollyScale;\n\n\t};\n\n\tthis.dollyOut = function ( dollyScale ) {\n\n\t\tif ( dollyScale === undefined ) {\n\n\t\t\tdollyScale = getZoomScale();\n\n\t\t}\n\n\t\tscale *= dollyScale;\n\n\t};\n\n\tthis.update = function () {\n\n\t\tvar position = this.object.position;\n\n\t\toffset.copy( position ).sub( this.target );\n\n\t\t// rotate offset to \"y-axis-is-up\" space\n\t\toffset.applyQuaternion( quat );\n\n\t\t// angle from z-axis around y-axis\n\n\t\ttheta = Math.atan2( offset.x, offset.z );\n\n\t\t// angle from y-axis\n\n\t\tphi = Math.atan2( Math.sqrt( offset.x * offset.x + offset.z * offset.z ), offset.y );\n\n\t\tif ( this.autoRotate && state === STATE.NONE ) {\n\n\t\t\tthis.rotateLeft( getAutoRotationAngle() );\n\n\t\t}\n\n\t\ttheta += thetaDelta;\n\t\tphi += phiDelta;\n\n\t\t// restrict theta to be between desired limits\n\t\ttheta = Math.max( this.minAzimuthAngle, Math.min( this.maxAzimuthAngle, theta ) );\n\n\t\t// restrict phi to be between desired limits\n\t\tphi = Math.max( this.minPolarAngle, Math.min( this.maxPolarAngle, phi ) );\n\n\t\t// restrict phi to be betwee EPS and PI-EPS\n\t\tphi = Math.max( EPS, Math.min( Math.PI - EPS, phi ) );\n\n\t\tvar radius = offset.length() * scale;\n\n\t\t// restrict radius to be between desired limits\n\t\tradius = Math.max( this.minDistance, Math.min( this.maxDistance, radius ) );\n\n\t\t// move target to panned location\n\t\tthis.target.add( pan );\n\n\t\toffset.x = radius * Math.sin( phi ) * Math.sin( theta );\n\t\toffset.y = radius * Math.cos( phi );\n\t\toffset.z = radius * Math.sin( phi ) * Math.cos( theta );\n\n\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\toffset.applyQuaternion( quatInverse );\n\n\t\tposition.copy( this.target ).add( offset );\n\n\t\tthis.object.lookAt( this.target );\n\n\t\tthetaDelta = 0;\n\t\tphiDelta = 0;\n\t\tscale = 1;\n\t\tpan.set( 0, 0, 0 );\n\n\t\t// update condition is:\n\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\tif ( lastPosition.distanceToSquared( this.object.position ) > EPS || 8 * (1 - lastQuaternion.dot(this.object.quaternion)) > EPS ) {\n\n\t\t\tthis.dispatchEvent( changeEvent );\n\n\t\t\tlastPosition.copy( this.object.position );\n\t\t\tlastQuaternion.copy (this.object.quaternion );\n\n\t\t}\n\n\t};\n\n\n\tthis.reset = function () {\n\n\t\tstate = STATE.NONE;\n\n\t\tthis.target.copy( this.target0 );\n\t\tthis.object.position.copy( this.position0 );\n\n\t\tthis.update();\n\n\t};\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn phi;\n\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn theta;\n\n\t};\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t}\n\n\tfunction onMouseDown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tevent.preventDefault();\n\n\t\tif ( event.button === scope.mouseButtons.ORBIT ) {\n\t\t\tif ( scope.noRotate === true ) return;\n\n\t\t\tstate = STATE.ROTATE;\n\n\t\t\trotateStart.set( event.clientX, event.clientY );\n\n\t\t} else if ( event.button === scope.mouseButtons.ZOOM ) {\n\t\t\tif ( scope.noZoom === true ) return;\n\n\t\t\tstate = STATE.DOLLY;\n\n\t\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t\t} else if ( event.button === scope.mouseButtons.PAN ) {\n\t\t\tif ( scope.noPan === true ) return;\n\n\t\t\tstate = STATE.PAN;\n\n\t\t\tpanStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\t\t\tscope.dispatchEvent( startEvent );\n\t\t}\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\tif ( state === STATE.ROTATE ) {\n\n\t\t\tif ( scope.noRotate === true ) return;\n\n\t\t\trotateEnd.set( event.clientX, event.clientY );\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\t\t// rotating across whole screen goes 360 degrees around\n\t\t\tscope.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\tscope.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t} else if ( state === STATE.DOLLY ) {\n\n\t\t\tif ( scope.noZoom === true ) return;\n\n\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\tscope.dollyIn();\n\n\t\t\t} else {\n\n\t\t\t\tscope.dollyOut();\n\n\t\t\t}\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t} else if ( state === STATE.PAN ) {\n\n\t\t\tif ( scope.noPan === true ) return;\n\n\t\t\tpanEnd.set( event.clientX, event.clientY );\n\t\t\tpanDelta.subVectors( panEnd, panStart );\n\n\t\t\tscope.pan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) scope.update();\n\n\t}\n\n\tfunction onMouseUp( /* event */ ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\t\tscope.dispatchEvent( endEvent );\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( scope.enabled === false || scope.noZoom === true || state !== STATE.NONE ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tvar delta = 0;\n\n\t\tif ( event.wheelDelta !== undefined ) { // WebKit / Opera / Explorer 9\n\n\t\t\tdelta = event.wheelDelta;\n\n\t\t} else if ( event.detail !== undefined ) { // Firefox\n\n\t\t\tdelta = - event.detail;\n\n\t\t}\n\n\t\tif ( delta > 0 ) {\n\n\t\t\tscope.dollyOut();\n\n\t\t} else {\n\n\t\t\tscope.dollyIn();\n\n\t\t}\n\n\t\tscope.update();\n\t\tscope.dispatchEvent( startEvent );\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction onKeyDown( event ) {\n\n\t\tif ( scope.enabled === false || scope.noKeys === true || scope.noPan === true ) return;\n\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tscope.pan( 0, scope.keyPanSpeed );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tscope.pan( 0, - scope.keyPanSpeed );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tscope.pan( scope.keyPanSpeed, 0 );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tscope.pan( - scope.keyPanSpeed, 0 );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction touchstart( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\t// one-fingered touch: rotate\n\n\t\t\t\tif ( scope.noRotate === true ) return;\n\n\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\t// two-fingered touch: dolly\n\n\t\t\t\tif ( scope.noZoom === true ) return;\n\n\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\t\t\t\tdollyStart.set( 0, distance );\n\t\t\t\tbreak;\n\n\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\tif ( scope.noPan === true ) return;\n\n\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) scope.dispatchEvent( startEvent );\n\n\t}\n\n\tfunction touchmove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1: // one-fingered touch: rotate\n\n\t\t\t\tif ( scope.noRotate === true ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_ROTATE ) return;\n\n\t\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\t\t\t// rotating across whole screen goes 360 degrees around\n\t\t\t\tscope.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\t\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\t\tscope.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase 2: // two-fingered touch: dolly\n\n\t\t\t\tif ( scope.noZoom === true ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_DOLLY ) return;\n\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\t\tdollyEnd.set( 0, distance );\n\t\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\t\tscope.dollyOut();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tscope.dollyIn();\n\n\t\t\t\t}\n\n\t\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\tif ( scope.noPan === true ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_PAN ) return;\n\n\t\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\tpanDelta.subVectors( panEnd, panStart );\n\n\t\t\t\tscope.pan( panDelta.x, panDelta.y );\n\n\t\t\t\tpanStart.copy( panEnd );\n\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction touchend( /* event */ ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tscope.dispatchEvent( endEvent );\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tthis.domElement.addEventListener( 'contextmenu', function ( event ) { event.preventDefault(); }, false );\n\tthis.domElement.addEventListener( 'mousedown', onMouseDown, false );\n\tthis.domElement.addEventListener( 'mousewheel', onMouseWheel, false );\n\tthis.domElement.addEventListener( 'DOMMouseScroll', onMouseWheel, false ); // firefox\n\n\tthis.domElement.addEventListener( 'touchstart', touchstart, false );\n\tthis.domElement.addEventListener( 'touchend', touchend, false );\n\tthis.domElement.addEventListener( 'touchmove', touchmove, false );\n\n\twindow.addEventListener( 'keydown', onKeyDown, false );\n\n\t// force an update at start\n\tthis.update();\n\n};\n\nTHREE.OrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\nTHREE.OrbitControls.prototype.constructor = THREE.OrbitControls;\n\nmodule.exports = THREE.OrbitControls;",
    "module.exports = {\n\tphysics : require(\"./physics\"),\n}",
    "module.exports = {\n\tname : \"Physics\",\n\tdescription : \"Cannon.js Tests\",\n\tconfig : {\n\t\tfog : { enable: false },\n\t\tcamera : {},\n\t},\n\tcomponents : {\n\t\t// renderer : { function : require('../js/renderers/ssao-renderer') },\n\t\trenderer : { function : require('../js/renderers/basic-renderer') },\n\t\tphysics : { function: require('../js/demos/physics/physics') },\n\t\t// sphere : { function: require('../js/demos/physics/physics-sphere') },\n\t\tlevel : { function: require('../js/demos/physics/physics-load-level') },\n\t\t// controls : { construct: require(\"../js/components/cameras/orbit-controls\") },\n\t\t// grid : { construct: require(\"../js/components/grid\") },\n\t\tlights : { function: require('../js/components/lights/track-camera-lights') },\n\t}\n};",
    "/*\n * Copyright (c) 2015 cannon.js Authors\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use, copy,\n * modify, merge, publish, distribute, sublicense, and/or sell copies\n * of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&false)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.CANNON=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\nmodule.exports={\n  \"name\": \"cannon\",\n  \"version\": \"0.6.2\",\n  \"description\": \"A lightweight 3D physics engine written in JavaScript.\",\n  \"homepage\": \"https://github.com/schteppe/cannon.js\",\n  \"author\": \"Stefan Hedman <schteppe@gmail.com> (http://steffe.se)\",\n  \"keywords\": [\n    \"cannon.js\",\n    \"cannon\",\n    \"physics\",\n    \"engine\",\n    \"3d\"\n  ],\n  \"main\": \"./build/cannon.js\",\n  \"engines\": {\n    \"node\": \"*\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/schteppe/cannon.js.git\"\n  },\n  \"bugs\": {\n    \"url\": \"https://github.com/schteppe/cannon.js/issues\"\n  },\n  \"licenses\": [\n    {\n      \"type\": \"MIT\"\n    }\n  ],\n  \"devDependencies\": {\n    \"jshint\": \"latest\",\n    \"uglify-js\": \"latest\",\n    \"nodeunit\": \"^0.9.0\",\n    \"grunt\": \"~0.4.0\",\n    \"grunt-contrib-jshint\": \"~0.1.1\",\n    \"grunt-contrib-nodeunit\": \"^0.4.1\",\n    \"grunt-contrib-concat\": \"~0.1.3\",\n    \"grunt-contrib-uglify\": \"^0.5.1\",\n    \"grunt-browserify\": \"^2.1.4\",\n    \"grunt-contrib-yuidoc\": \"^0.5.2\",\n    \"browserify\": \"*\"\n  },\n  \"dependencies\": {}\n}\n\n},{}],2:[function(_dereq_,module,exports){\n// Export classes\nmodule.exports = {\n    version :                       _dereq_('../package.json').version,\n\n    AABB :                          _dereq_('./collision/AABB'),\n    ArrayCollisionMatrix :          _dereq_('./collision/ArrayCollisionMatrix'),\n    Body :                          _dereq_('./objects/Body'),\n    Box :                           _dereq_('./shapes/Box'),\n    Broadphase :                    _dereq_('./collision/Broadphase'),\n    Constraint :                    _dereq_('./constraints/Constraint'),\n    ContactEquation :               _dereq_('./equations/ContactEquation'),\n    Narrowphase :                   _dereq_('./world/Narrowphase'),\n    ConeTwistConstraint :           _dereq_('./constraints/ConeTwistConstraint'),\n    ContactMaterial :               _dereq_('./material/ContactMaterial'),\n    ConvexPolyhedron :              _dereq_('./shapes/ConvexPolyhedron'),\n    Cylinder :                      _dereq_('./shapes/Cylinder'),\n    DistanceConstraint :            _dereq_('./constraints/DistanceConstraint'),\n    Equation :                      _dereq_('./equations/Equation'),\n    EventTarget :                   _dereq_('./utils/EventTarget'),\n    FrictionEquation :              _dereq_('./equations/FrictionEquation'),\n    GSSolver :                      _dereq_('./solver/GSSolver'),\n    GridBroadphase :                _dereq_('./collision/GridBroadphase'),\n    Heightfield :                   _dereq_('./shapes/Heightfield'),\n    HingeConstraint :               _dereq_('./constraints/HingeConstraint'),\n    LockConstraint :                _dereq_('./constraints/LockConstraint'),\n    Mat3 :                          _dereq_('./math/Mat3'),\n    Material :                      _dereq_('./material/Material'),\n    NaiveBroadphase :               _dereq_('./collision/NaiveBroadphase'),\n    ObjectCollisionMatrix :         _dereq_('./collision/ObjectCollisionMatrix'),\n    Pool :                          _dereq_('./utils/Pool'),\n    Particle :                      _dereq_('./shapes/Particle'),\n    Plane :                         _dereq_('./shapes/Plane'),\n    PointToPointConstraint :        _dereq_('./constraints/PointToPointConstraint'),\n    Quaternion :                    _dereq_('./math/Quaternion'),\n    Ray :                           _dereq_('./collision/Ray'),\n    RaycastVehicle :                _dereq_('./objects/RaycastVehicle'),\n    RaycastResult :                 _dereq_('./collision/RaycastResult'),\n    RigidVehicle :                  _dereq_('./objects/RigidVehicle'),\n    RotationalEquation :            _dereq_('./equations/RotationalEquation'),\n    RotationalMotorEquation :       _dereq_('./equations/RotationalMotorEquation'),\n    SAPBroadphase :                 _dereq_('./collision/SAPBroadphase'),\n    SPHSystem :                     _dereq_('./objects/SPHSystem'),\n    Shape :                         _dereq_('./shapes/Shape'),\n    Solver :                        _dereq_('./solver/Solver'),\n    Sphere :                        _dereq_('./shapes/Sphere'),\n    SplitSolver :                   _dereq_('./solver/SplitSolver'),\n    Spring :                        _dereq_('./objects/Spring'),\n    Trimesh :                       _dereq_('./shapes/Trimesh'),\n    Vec3 :                          _dereq_('./math/Vec3'),\n    Vec3Pool :                      _dereq_('./utils/Vec3Pool'),\n    World :                         _dereq_('./world/World'),\n};\n\n},{\"../package.json\":1,\"./collision/AABB\":3,\"./collision/ArrayCollisionMatrix\":4,\"./collision/Broadphase\":5,\"./collision/GridBroadphase\":6,\"./collision/NaiveBroadphase\":7,\"./collision/ObjectCollisionMatrix\":8,\"./collision/Ray\":9,\"./collision/RaycastResult\":10,\"./collision/SAPBroadphase\":11,\"./constraints/ConeTwistConstraint\":12,\"./constraints/Constraint\":13,\"./constraints/DistanceConstraint\":14,\"./constraints/HingeConstraint\":15,\"./constraints/LockConstraint\":16,\"./constraints/PointToPointConstraint\":17,\"./equations/ContactEquation\":19,\"./equations/Equation\":20,\"./equations/FrictionEquation\":21,\"./equations/RotationalEquation\":22,\"./equations/RotationalMotorEquation\":23,\"./material/ContactMaterial\":24,\"./material/Material\":25,\"./math/Mat3\":27,\"./math/Quaternion\":28,\"./math/Vec3\":30,\"./objects/Body\":31,\"./objects/RaycastVehicle\":32,\"./objects/RigidVehicle\":33,\"./objects/SPHSystem\":34,\"./objects/Spring\":35,\"./shapes/Box\":37,\"./shapes/ConvexPolyhedron\":38,\"./shapes/Cylinder\":39,\"./shapes/Heightfield\":40,\"./shapes/Particle\":41,\"./shapes/Plane\":42,\"./shapes/Shape\":43,\"./shapes/Sphere\":44,\"./shapes/Trimesh\":45,\"./solver/GSSolver\":46,\"./solver/Solver\":47,\"./solver/SplitSolver\":48,\"./utils/EventTarget\":49,\"./utils/Pool\":51,\"./utils/Vec3Pool\":54,\"./world/Narrowphase\":55,\"./world/World\":56}],3:[function(_dereq_,module,exports){\nvar Vec3 = _dereq_('../math/Vec3');\nvar Utils = _dereq_('../utils/Utils');\n\nmodule.exports = AABB;\n\n/**\n * Axis aligned bounding box class.\n * @class AABB\n * @constructor\n * @param {Object} [options]\n * @param {Vec3}   [options.upperBound]\n * @param {Vec3}   [options.lowerBound]\n */\nfunction AABB(options){\n    options = options || {};\n\n    /**\n     * The lower bound of the bounding box.\n     * @property lowerBound\n     * @type {Vec3}\n     */\n    this.lowerBound = new Vec3();\n    if(options.lowerBound){\n        this.lowerBound.copy(options.lowerBound);\n    }\n\n    /**\n     * The upper bound of the bounding box.\n     * @property upperBound\n     * @type {Vec3}\n     */\n    this.upperBound = new Vec3();\n    if(options.upperBound){\n        this.upperBound.copy(options.upperBound);\n    }\n}\n\nvar tmp = new Vec3();\n\n/**\n * Set the AABB bounds from a set of points.\n * @method setFromPoints\n * @param {Array} points An array of Vec3's.\n * @param {Vec3} position\n * @param {Quaternion} quaternion\n * @param {number} skinSize\n * @return {AABB} The self object\n */\nAABB.prototype.setFromPoints = function(points, position, quaternion, skinSize){\n    var l = this.lowerBound,\n        u = this.upperBound,\n        q = quaternion;\n\n    // Set to the first point\n    l.copy(points[0]);\n    if(q){\n        q.vmult(l, l);\n    }\n    u.copy(l);\n\n    for(var i = 1; i<points.length; i++){\n        var p = points[i];\n\n        if(q){\n            q.vmult(p, tmp);\n            p = tmp;\n        }\n\n        if(p.x > u.x){ u.x = p.x; }\n        if(p.x < l.x){ l.x = p.x; }\n        if(p.y > u.y){ u.y = p.y; }\n        if(p.y < l.y){ l.y = p.y; }\n        if(p.z > u.z){ u.z = p.z; }\n        if(p.z < l.z){ l.z = p.z; }\n    }\n\n    // Add offset\n    if (position) {\n        position.vadd(l, l);\n        position.vadd(u, u);\n    }\n\n    if(skinSize){\n        l.x -= skinSize;\n        l.y -= skinSize;\n        l.z -= skinSize;\n        u.x += skinSize;\n        u.y += skinSize;\n        u.z += skinSize;\n    }\n\n    return this;\n};\n\n/**\n * Copy bounds from an AABB to this AABB\n * @method copy\n * @param  {AABB} aabb Source to copy from\n * @return {AABB} The this object, for chainability\n */\nAABB.prototype.copy = function(aabb){\n    this.lowerBound.copy(aabb.lowerBound);\n    this.upperBound.copy(aabb.upperBound);\n    return this;\n};\n\n/**\n * Clone an AABB\n * @method clone\n */\nAABB.prototype.clone = function(){\n    return new AABB().copy(this);\n};\n\n/**\n * Extend this AABB so that it covers the given AABB too.\n * @method extend\n * @param  {AABB} aabb\n */\nAABB.prototype.extend = function(aabb){\n    // Extend lower bound\n    var l = aabb.lowerBound.x;\n    if(this.lowerBound.x > l){\n        this.lowerBound.x = l;\n    }\n\n    // Upper\n    var u = aabb.upperBound.x;\n    if(this.upperBound.x < u){\n        this.upperBound.x = u;\n    }\n\n    // Extend lower bound\n    var l = aabb.lowerBound.y;\n    if(this.lowerBound.y > l){\n        this.lowerBound.y = l;\n    }\n\n    // Upper\n    var u = aabb.upperBound.y;\n    if(this.upperBound.y < u){\n        this.upperBound.y = u;\n    }\n\n    // Extend lower bound\n    var l = aabb.lowerBound.z;\n    if(this.lowerBound.z > l){\n        this.lowerBound.z = l;\n    }\n\n    // Upper\n    var u = aabb.upperBound.z;\n    if(this.upperBound.z < u){\n        this.upperBound.z = u;\n    }\n};\n\n/**\n * Returns true if the given AABB overlaps this AABB.\n * @method overlaps\n * @param  {AABB} aabb\n * @return {Boolean}\n */\nAABB.prototype.overlaps = function(aabb){\n    var l1 = this.lowerBound,\n        u1 = this.upperBound,\n        l2 = aabb.lowerBound,\n        u2 = aabb.upperBound;\n\n    //      l2        u2\n    //      |---------|\n    // |--------|\n    // l1       u1\n\n    return ((l2.x <= u1.x && u1.x <= u2.x) || (l1.x <= u2.x && u2.x <= u1.x)) &&\n           ((l2.y <= u1.y && u1.y <= u2.y) || (l1.y <= u2.y && u2.y <= u1.y)) &&\n           ((l2.z <= u1.z && u1.z <= u2.z) || (l1.z <= u2.z && u2.z <= u1.z));\n};\n\n/**\n * Returns true if the given AABB is fully contained in this AABB.\n * @method contains\n * @param {AABB} aabb\n * @return {Boolean}\n */\nAABB.prototype.contains = function(aabb){\n    var l1 = this.lowerBound,\n        u1 = this.upperBound,\n        l2 = aabb.lowerBound,\n        u2 = aabb.upperBound;\n\n    //      l2        u2\n    //      |---------|\n    // |---------------|\n    // l1              u1\n\n    return (\n        (l1.x <= l2.x && u1.x >= u2.x) &&\n        (l1.y <= l2.y && u1.y >= u2.y) &&\n        (l1.z <= l2.z && u1.z >= u2.z)\n    );\n};\n\n/**\n * @method getCorners\n * @param {Vec3} a\n * @param {Vec3} b\n * @param {Vec3} c\n * @param {Vec3} d\n * @param {Vec3} e\n * @param {Vec3} f\n * @param {Vec3} g\n * @param {Vec3} h\n */\nAABB.prototype.getCorners = function(a, b, c, d, e, f, g, h){\n    var l = this.lowerBound,\n        u = this.upperBound;\n\n    a.copy(l);\n    b.set( u.x, l.y, l.z );\n    c.set( u.x, u.y, l.z );\n    d.set( l.x, u.y, u.z );\n    e.set( u.x, l.y, l.z );\n    f.set( l.x, u.y, l.z );\n    g.set( l.x, l.y, u.z );\n    h.copy(u);\n};\n\nvar transformIntoFrame_corners = [\n    new Vec3(),\n    new Vec3(),\n    new Vec3(),\n    new Vec3(),\n    new Vec3(),\n    new Vec3(),\n    new Vec3(),\n    new Vec3()\n];\n\n/**\n * Get the representation of an AABB in another frame.\n * @method toLocalFrame\n * @param  {Transform} frame\n * @param  {AABB} target\n * @return {AABB} The \"target\" AABB object.\n */\nAABB.prototype.toLocalFrame = function(frame, target){\n\n    var corners = transformIntoFrame_corners;\n    var a = corners[0];\n    var b = corners[1];\n    var c = corners[2];\n    var d = corners[3];\n    var e = corners[4];\n    var f = corners[5];\n    var g = corners[6];\n    var h = corners[7];\n\n    // Get corners in current frame\n    this.getCorners(a, b, c, d, e, f, g, h);\n\n    // Transform them to new local frame\n    for(var i=0; i !== 8; i++){\n        var corner = corners[i];\n        frame.pointToLocal(corner, corner);\n    }\n\n    return target.setFromPoints(corners);\n};\n\n/**\n * Get the representation of an AABB in the global frame.\n * @method toWorldFrame\n * @param  {Transform} frame\n * @param  {AABB} target\n * @return {AABB} The \"target\" AABB object.\n */\nAABB.prototype.toWorldFrame = function(frame, target){\n\n    var corners = transformIntoFrame_corners;\n    var a = corners[0];\n    var b = corners[1];\n    var c = corners[2];\n    var d = corners[3];\n    var e = corners[4];\n    var f = corners[5];\n    var g = corners[6];\n    var h = corners[7];\n\n    // Get corners in current frame\n    this.getCorners(a, b, c, d, e, f, g, h);\n\n    // Transform them to new local frame\n    for(var i=0; i !== 8; i++){\n        var corner = corners[i];\n        frame.pointToWorld(corner, corner);\n    }\n\n    return target.setFromPoints(corners);\n};\n\n},{\"../math/Vec3\":30,\"../utils/Utils\":53}],4:[function(_dereq_,module,exports){\nmodule.exports = ArrayCollisionMatrix;\n\n/**\n * Collision \"matrix\". It's actually a triangular-shaped array of whether two bodies are touching this step, for reference next step\n * @class ArrayCollisionMatrix\n * @constructor\n */\nfunction ArrayCollisionMatrix() {\n\n    /**\n     * The matrix storage\n     * @property matrix\n     * @type {Array}\n     */\n\tthis.matrix = [];\n}\n\n/**\n * Get an element\n * @method get\n * @param  {Number} i\n * @param  {Number} j\n * @return {Number}\n */\nArrayCollisionMatrix.prototype.get = function(i, j) {\n\ti = i.index;\n\tj = j.index;\n    if (j > i) {\n        var temp = j;\n        j = i;\n        i = temp;\n    }\n\treturn this.matrix[(i*(i + 1)>>1) + j-1];\n};\n\n/**\n * Set an element\n * @method set\n * @param {Number} i\n * @param {Number} j\n * @param {Number} value\n */\nArrayCollisionMatrix.prototype.set = function(i, j, value) {\n\ti = i.index;\n\tj = j.index;\n    if (j > i) {\n        var temp = j;\n        j = i;\n        i = temp;\n    }\n\tthis.matrix[(i*(i + 1)>>1) + j-1] = value ? 1 : 0;\n};\n\n/**\n * Sets all elements to zero\n * @method reset\n */\nArrayCollisionMatrix.prototype.reset = function() {\n\tfor (var i=0, l=this.matrix.length; i!==l; i++) {\n\t\tthis.matrix[i]=0;\n\t}\n};\n\n/**\n * Sets the max number of objects\n * @method setNumObjects\n * @param {Number} n\n */\nArrayCollisionMatrix.prototype.setNumObjects = function(n) {\n\tthis.matrix.length = n*(n-1)>>1;\n};\n\n},{}],5:[function(_dereq_,module,exports){\nvar Body = _dereq_('../objects/Body');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar Shape = _dereq_('../shapes/Shape');\nvar Plane = _dereq_('../shapes/Plane');\n\nmodule.exports = Broadphase;\n\n/**\n * Base class for broadphase implementations\n * @class Broadphase\n * @constructor\n * @author schteppe\n */\nfunction Broadphase(){\n    /**\n    * The world to search for collisions in.\n    * @property world\n    * @type {World}\n    */\n    this.world = null;\n\n    /**\n     * If set to true, the broadphase uses bounding boxes for intersection test, else it uses bounding spheres.\n     * @property useBoundingBoxes\n     * @type {Boolean}\n     */\n    this.useBoundingBoxes = false;\n\n    /**\n     * Set to true if the objects in the world moved.\n     * @property {Boolean} dirty\n     */\n    this.dirty = true;\n}\n\n/**\n * Get the collision pairs from the world\n * @method collisionPairs\n * @param {World} world The world to search in\n * @param {Array} p1 Empty array to be filled with body objects\n * @param {Array} p2 Empty array to be filled with body objects\n */\nBroadphase.prototype.collisionPairs = function(world,p1,p2){\n    throw new Error(\"collisionPairs not implemented for this BroadPhase class!\");\n};\n\n/**\n * Check if a body pair needs to be intersection tested at all.\n * @method needBroadphaseCollision\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @return {bool}\n */\nvar Broadphase_needBroadphaseCollision_STATIC_OR_KINEMATIC = Body.STATIC | Body.KINEMATIC;\nBroadphase.prototype.needBroadphaseCollision = function(bodyA,bodyB){\n\n    // Check collision filter masks\n    if( (bodyA.collisionFilterGroup & bodyB.collisionFilterMask)===0 || (bodyB.collisionFilterGroup & bodyA.collisionFilterMask)===0){\n        return false;\n    }\n\n    // Check types\n    if(((bodyA.type & Broadphase_needBroadphaseCollision_STATIC_OR_KINEMATIC)!==0 || bodyA.sleepState === Body.SLEEPING) &&\n       ((bodyB.type & Broadphase_needBroadphaseCollision_STATIC_OR_KINEMATIC)!==0 || bodyB.sleepState === Body.SLEEPING)) {\n        // Both bodies are static, kinematic or sleeping. Skip.\n        return false;\n    }\n\n    return true;\n};\n\n/**\n * Check if the bounding volumes of two bodies intersect.\n * @method intersectionTest\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {array} pairs1\n * @param {array} pairs2\n  */\nBroadphase.prototype.intersectionTest = function(bodyA, bodyB, pairs1, pairs2){\n    if(this.useBoundingBoxes){\n        this.doBoundingBoxBroadphase(bodyA,bodyB,pairs1,pairs2);\n    } else {\n        this.doBoundingSphereBroadphase(bodyA,bodyB,pairs1,pairs2);\n    }\n};\n\n/**\n * Check if the bounding spheres of two bodies are intersecting.\n * @method doBoundingSphereBroadphase\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {Array} pairs1 bodyA is appended to this array if intersection\n * @param {Array} pairs2 bodyB is appended to this array if intersection\n */\nvar Broadphase_collisionPairs_r = new Vec3(), // Temp objects\n    Broadphase_collisionPairs_normal =  new Vec3(),\n    Broadphase_collisionPairs_quat =  new Quaternion(),\n    Broadphase_collisionPairs_relpos  =  new Vec3();\nBroadphase.prototype.doBoundingSphereBroadphase = function(bodyA,bodyB,pairs1,pairs2){\n    var r = Broadphase_collisionPairs_r;\n    bodyB.position.vsub(bodyA.position,r);\n    var boundingRadiusSum2 = Math.pow(bodyA.boundingRadius + bodyB.boundingRadius, 2);\n    var norm2 = r.norm2();\n    if(norm2 < boundingRadiusSum2){\n        pairs1.push(bodyA);\n        pairs2.push(bodyB);\n    }\n};\n\n/**\n * Check if the bounding boxes of two bodies are intersecting.\n * @method doBoundingBoxBroadphase\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {Array} pairs1\n * @param {Array} pairs2\n */\nBroadphase.prototype.doBoundingBoxBroadphase = function(bodyA,bodyB,pairs1,pairs2){\n    if(bodyA.aabbNeedsUpdate){\n        bodyA.computeAABB();\n    }\n    if(bodyB.aabbNeedsUpdate){\n        bodyB.computeAABB();\n    }\n\n    // Check AABB / AABB\n    if(bodyA.aabb.overlaps(bodyB.aabb)){\n        pairs1.push(bodyA);\n        pairs2.push(bodyB);\n    }\n};\n\n/**\n * Removes duplicate pairs from the pair arrays.\n * @method makePairsUnique\n * @param {Array} pairs1\n * @param {Array} pairs2\n */\nvar Broadphase_makePairsUnique_temp = { keys:[] },\n    Broadphase_makePairsUnique_p1 = [],\n    Broadphase_makePairsUnique_p2 = [];\nBroadphase.prototype.makePairsUnique = function(pairs1,pairs2){\n    var t = Broadphase_makePairsUnique_temp,\n        p1 = Broadphase_makePairsUnique_p1,\n        p2 = Broadphase_makePairsUnique_p2,\n        N = pairs1.length;\n\n    for(var i=0; i!==N; i++){\n        p1[i] = pairs1[i];\n        p2[i] = pairs2[i];\n    }\n\n    pairs1.length = 0;\n    pairs2.length = 0;\n\n    for(var i=0; i!==N; i++){\n        var id1 = p1[i].id,\n            id2 = p2[i].id;\n        var key = id1 < id2 ? id1+\",\"+id2 :  id2+\",\"+id1;\n        t[key] = i;\n        t.keys.push(key);\n    }\n\n    for(var i=0; i!==t.keys.length; i++){\n        var key = t.keys.pop(),\n            pairIndex = t[key];\n        pairs1.push(p1[pairIndex]);\n        pairs2.push(p2[pairIndex]);\n        delete t[key];\n    }\n};\n\n/**\n * To be implemented by subcasses\n * @method setWorld\n * @param {World} world\n */\nBroadphase.prototype.setWorld = function(world){\n};\n\n/**\n * Check if the bounding spheres of two bodies overlap.\n * @method boundingSphereCheck\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @return {boolean}\n */\nvar bsc_dist = new Vec3();\nBroadphase.boundingSphereCheck = function(bodyA,bodyB){\n    var dist = bsc_dist;\n    bodyA.position.vsub(bodyB.position,dist);\n    return Math.pow(bodyA.shape.boundingSphereRadius + bodyB.shape.boundingSphereRadius,2) > dist.norm2();\n};\n\n/**\n * Returns all the bodies within the AABB.\n * @method aabbQuery\n * @param  {World} world\n * @param  {AABB} aabb\n * @param  {array} result An array to store resulting bodies in.\n * @return {array}\n */\nBroadphase.prototype.aabbQuery = function(world, aabb, result){\n    console.warn('.aabbQuery is not implemented in this Broadphase subclass.');\n    return [];\n};\n},{\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../objects/Body\":31,\"../shapes/Plane\":42,\"../shapes/Shape\":43}],6:[function(_dereq_,module,exports){\nmodule.exports = GridBroadphase;\n\nvar Broadphase = _dereq_('./Broadphase');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Shape = _dereq_('../shapes/Shape');\n\n/**\n * Axis aligned uniform grid broadphase.\n * @class GridBroadphase\n * @constructor\n * @extends Broadphase\n * @todo Needs support for more than just planes and spheres.\n * @param {Vec3} aabbMin\n * @param {Vec3} aabbMax\n * @param {Number} nx Number of boxes along x\n * @param {Number} ny Number of boxes along y\n * @param {Number} nz Number of boxes along z\n */\nfunction GridBroadphase(aabbMin,aabbMax,nx,ny,nz){\n    Broadphase.apply(this);\n    this.nx = nx || 10;\n    this.ny = ny || 10;\n    this.nz = nz || 10;\n    this.aabbMin = aabbMin || new Vec3(100,100,100);\n    this.aabbMax = aabbMax || new Vec3(-100,-100,-100);\n\tvar nbins = this.nx * this.ny * this.nz;\n\tif (nbins <= 0) {\n\t\tthrow \"GridBroadphase: Each dimension's n must be >0\";\n\t}\n    this.bins = [];\n\tthis.binLengths = []; //Rather than continually resizing arrays (thrashing the memory), just record length and allow them to grow\n\tthis.bins.length = nbins;\n\tthis.binLengths.length = nbins;\n\tfor (var i=0;i<nbins;i++) {\n\t\tthis.bins[i]=[];\n\t\tthis.binLengths[i]=0;\n\t}\n}\nGridBroadphase.prototype = new Broadphase();\nGridBroadphase.prototype.constructor = GridBroadphase;\n\n/**\n * Get all the collision pairs in the physics world\n * @method collisionPairs\n * @param {World} world\n * @param {Array} pairs1\n * @param {Array} pairs2\n */\nvar GridBroadphase_collisionPairs_d = new Vec3();\nvar GridBroadphase_collisionPairs_binPos = new Vec3();\nGridBroadphase.prototype.collisionPairs = function(world,pairs1,pairs2){\n    var N = world.numObjects(),\n        bodies = world.bodies;\n\n    var max = this.aabbMax,\n        min = this.aabbMin,\n        nx = this.nx,\n        ny = this.ny,\n        nz = this.nz;\n\n\tvar xstep = ny*nz;\n\tvar ystep = nz;\n\tvar zstep = 1;\n\n    var xmax = max.x,\n        ymax = max.y,\n        zmax = max.z,\n        xmin = min.x,\n        ymin = min.y,\n        zmin = min.z;\n\n    var xmult = nx / (xmax-xmin),\n        ymult = ny / (ymax-ymin),\n        zmult = nz / (zmax-zmin);\n\n    var binsizeX = (xmax - xmin) / nx,\n        binsizeY = (ymax - ymin) / ny,\n        binsizeZ = (zmax - zmin) / nz;\n\n\tvar binRadius = Math.sqrt(binsizeX*binsizeX + binsizeY*binsizeY + binsizeZ*binsizeZ) * 0.5;\n\n    var types = Shape.types;\n    var SPHERE =            types.SPHERE,\n        PLANE =             types.PLANE,\n        BOX =               types.BOX,\n        COMPOUND =          types.COMPOUND,\n        CONVEXPOLYHEDRON =  types.CONVEXPOLYHEDRON;\n\n    var bins=this.bins,\n\t\tbinLengths=this.binLengths,\n        Nbins=this.bins.length;\n\n    // Reset bins\n    for(var i=0; i!==Nbins; i++){\n        binLengths[i] = 0;\n    }\n\n    var ceil = Math.ceil;\n\tvar min = Math.min;\n\tvar max = Math.max;\n\n\tfunction addBoxToBins(x0,y0,z0,x1,y1,z1,bi) {\n\t\tvar xoff0 = ((x0 - xmin) * xmult)|0,\n\t\t\tyoff0 = ((y0 - ymin) * ymult)|0,\n\t\t\tzoff0 = ((z0 - zmin) * zmult)|0,\n\t\t\txoff1 = ceil((x1 - xmin) * xmult),\n\t\t\tyoff1 = ceil((y1 - ymin) * ymult),\n\t\t\tzoff1 = ceil((z1 - zmin) * zmult);\n\n\t\tif (xoff0 < 0) { xoff0 = 0; } else if (xoff0 >= nx) { xoff0 = nx - 1; }\n\t\tif (yoff0 < 0) { yoff0 = 0; } else if (yoff0 >= ny) { yoff0 = ny - 1; }\n\t\tif (zoff0 < 0) { zoff0 = 0; } else if (zoff0 >= nz) { zoff0 = nz - 1; }\n\t\tif (xoff1 < 0) { xoff1 = 0; } else if (xoff1 >= nx) { xoff1 = nx - 1; }\n\t\tif (yoff1 < 0) { yoff1 = 0; } else if (yoff1 >= ny) { yoff1 = ny - 1; }\n\t\tif (zoff1 < 0) { zoff1 = 0; } else if (zoff1 >= nz) { zoff1 = nz - 1; }\n\n\t\txoff0 *= xstep;\n\t\tyoff0 *= ystep;\n\t\tzoff0 *= zstep;\n\t\txoff1 *= xstep;\n\t\tyoff1 *= ystep;\n\t\tzoff1 *= zstep;\n\n\t\tfor (var xoff = xoff0; xoff <= xoff1; xoff += xstep) {\n\t\t\tfor (var yoff = yoff0; yoff <= yoff1; yoff += ystep) {\n\t\t\t\tfor (var zoff = zoff0; zoff <= zoff1; zoff += zstep) {\n\t\t\t\t\tvar idx = xoff+yoff+zoff;\n\t\t\t\t\tbins[idx][binLengths[idx]++] = bi;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n    // Put all bodies into the bins\n    for(var i=0; i!==N; i++){\n        var bi = bodies[i];\n        var si = bi.shape;\n\n        switch(si.type){\n        case SPHERE:\n            // Put in bin\n            // check if overlap with other bins\n            var x = bi.position.x,\n                y = bi.position.y,\n                z = bi.position.z;\n            var r = si.radius;\n\n\t\t\taddBoxToBins(x-r, y-r, z-r, x+r, y+r, z+r, bi);\n            break;\n\n        case PLANE:\n            if(si.worldNormalNeedsUpdate){\n                si.computeWorldNormal(bi.quaternion);\n            }\n            var planeNormal = si.worldNormal;\n\n\t\t\t//Relative position from origin of plane object to the first bin\n\t\t\t//Incremented as we iterate through the bins\n\t\t\tvar xreset = xmin + binsizeX*0.5 - bi.position.x,\n\t\t\t\tyreset = ymin + binsizeY*0.5 - bi.position.y,\n\t\t\t\tzreset = zmin + binsizeZ*0.5 - bi.position.z;\n\n            var d = GridBroadphase_collisionPairs_d;\n\t\t\td.set(xreset, yreset, zreset);\n\n\t\t\tfor (var xi = 0, xoff = 0; xi !== nx; xi++, xoff += xstep, d.y = yreset, d.x += binsizeX) {\n\t\t\t\tfor (var yi = 0, yoff = 0; yi !== ny; yi++, yoff += ystep, d.z = zreset, d.y += binsizeY) {\n\t\t\t\t\tfor (var zi = 0, zoff = 0; zi !== nz; zi++, zoff += zstep, d.z += binsizeZ) {\n\t\t\t\t\t\tif (d.dot(planeNormal) < binRadius) {\n\t\t\t\t\t\t\tvar idx = xoff + yoff + zoff;\n\t\t\t\t\t\t\tbins[idx][binLengths[idx]++] = bi;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n            break;\n\n        default:\n\t\t\tif (bi.aabbNeedsUpdate) {\n\t\t\t\tbi.computeAABB();\n\t\t\t}\n\n\t\t\taddBoxToBins(\n\t\t\t\tbi.aabb.lowerBound.x,\n\t\t\t\tbi.aabb.lowerBound.y,\n\t\t\t\tbi.aabb.lowerBound.z,\n\t\t\t\tbi.aabb.upperBound.x,\n\t\t\t\tbi.aabb.upperBound.y,\n\t\t\t\tbi.aabb.upperBound.z,\n\t\t\t\tbi);\n            break;\n        }\n    }\n\n    // Check each bin\n    for(var i=0; i!==Nbins; i++){\n\t\tvar binLength = binLengths[i];\n\t\t//Skip bins with no potential collisions\n\t\tif (binLength > 1) {\n\t\t\tvar bin = bins[i];\n\n\t\t\t// Do N^2 broadphase inside\n\t\t\tfor(var xi=0; xi!==binLength; xi++){\n\t\t\t\tvar bi = bin[xi];\n\t\t\t\tfor(var yi=0; yi!==xi; yi++){\n\t\t\t\t\tvar bj = bin[yi];\n\t\t\t\t\tif(this.needBroadphaseCollision(bi,bj)){\n\t\t\t\t\t\tthis.intersectionTest(bi,bj,pairs1,pairs2);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n    }\n\n//\tfor (var zi = 0, zoff=0; zi < nz; zi++, zoff+= zstep) {\n//\t\tconsole.log(\"layer \"+zi);\n//\t\tfor (var yi = 0, yoff=0; yi < ny; yi++, yoff += ystep) {\n//\t\t\tvar row = '';\n//\t\t\tfor (var xi = 0, xoff=0; xi < nx; xi++, xoff += xstep) {\n//\t\t\t\tvar idx = xoff + yoff + zoff;\n//\t\t\t\trow += ' ' + binLengths[idx];\n//\t\t\t}\n//\t\t\tconsole.log(row);\n//\t\t}\n//\t}\n\n    this.makePairsUnique(pairs1,pairs2);\n};\n\n},{\"../math/Vec3\":30,\"../shapes/Shape\":43,\"./Broadphase\":5}],7:[function(_dereq_,module,exports){\nmodule.exports = NaiveBroadphase;\n\nvar Broadphase = _dereq_('./Broadphase');\nvar AABB = _dereq_('./AABB');\n\n/**\n * Naive broadphase implementation, used in lack of better ones.\n * @class NaiveBroadphase\n * @constructor\n * @description The naive broadphase looks at all possible pairs without restriction, therefore it has complexity N^2 (which is bad)\n * @extends Broadphase\n */\nfunction NaiveBroadphase(){\n    Broadphase.apply(this);\n}\nNaiveBroadphase.prototype = new Broadphase();\nNaiveBroadphase.prototype.constructor = NaiveBroadphase;\n\n/**\n * Get all the collision pairs in the physics world\n * @method collisionPairs\n * @param {World} world\n * @param {Array} pairs1\n * @param {Array} pairs2\n */\nNaiveBroadphase.prototype.collisionPairs = function(world,pairs1,pairs2){\n    var bodies = world.bodies,\n        n = bodies.length,\n        i,j,bi,bj;\n\n    // Naive N^2 ftw!\n    for(i=0; i!==n; i++){\n        for(j=0; j!==i; j++){\n\n            bi = bodies[i];\n            bj = bodies[j];\n\n            if(!this.needBroadphaseCollision(bi,bj)){\n                continue;\n            }\n\n            this.intersectionTest(bi,bj,pairs1,pairs2);\n        }\n    }\n};\n\nvar tmpAABB = new AABB();\n\n/**\n * Returns all the bodies within an AABB.\n * @method aabbQuery\n * @param  {World} world\n * @param  {AABB} aabb\n * @param {array} result An array to store resulting bodies in.\n * @return {array}\n */\nNaiveBroadphase.prototype.aabbQuery = function(world, aabb, result){\n    result = result || [];\n\n    for(var i = 0; i < world.bodies.length; i++){\n        var b = world.bodies[i];\n\n        if(b.aabbNeedsUpdate){\n            b.computeAABB();\n        }\n\n        // Ugly hack until Body gets aabb\n        if(b.aabb.overlaps(aabb)){\n            result.push(b);\n        }\n    }\n\n    return result;\n};\n},{\"./AABB\":3,\"./Broadphase\":5}],8:[function(_dereq_,module,exports){\nmodule.exports = ObjectCollisionMatrix;\n\n/**\n * Records what objects are colliding with each other\n * @class ObjectCollisionMatrix\n * @constructor\n */\nfunction ObjectCollisionMatrix() {\n\n    /**\n     * The matrix storage\n     * @property matrix\n     * @type {Object}\n     */\n\tthis.matrix = {};\n}\n\n/**\n * @method get\n * @param  {Number} i\n * @param  {Number} j\n * @return {Number}\n */\nObjectCollisionMatrix.prototype.get = function(i, j) {\n\ti = i.id;\n\tj = j.id;\n    if (j > i) {\n        var temp = j;\n        j = i;\n        i = temp;\n    }\n\treturn i+'-'+j in this.matrix;\n};\n\n/**\n * @method set\n * @param  {Number} i\n * @param  {Number} j\n * @param {Number} value\n */\nObjectCollisionMatrix.prototype.set = function(i, j, value) {\n\ti = i.id;\n\tj = j.id;\n    if (j > i) {\n        var temp = j;\n        j = i;\n        i = temp;\n\t}\n\tif (value) {\n\t\tthis.matrix[i+'-'+j] = true;\n\t}\n\telse {\n\t\tdelete this.matrix[i+'-'+j];\n\t}\n};\n\n/**\n * Empty the matrix\n * @method reset\n */\nObjectCollisionMatrix.prototype.reset = function() {\n\tthis.matrix = {};\n};\n\n/**\n * Set max number of objects\n * @method setNumObjects\n * @param {Number} n\n */\nObjectCollisionMatrix.prototype.setNumObjects = function(n) {\n};\n\n},{}],9:[function(_dereq_,module,exports){\nmodule.exports = Ray;\n\nvar Vec3 = _dereq_('../math/Vec3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar Transform = _dereq_('../math/Transform');\nvar ConvexPolyhedron = _dereq_('../shapes/ConvexPolyhedron');\nvar Box = _dereq_('../shapes/Box');\nvar RaycastResult = _dereq_('../collision/RaycastResult');\nvar Shape = _dereq_('../shapes/Shape');\nvar AABB = _dereq_('../collision/AABB');\n\n/**\n * A line in 3D space that intersects bodies and return points.\n * @class Ray\n * @constructor\n * @param {Vec3} from\n * @param {Vec3} to\n */\nfunction Ray(from, to){\n    /**\n     * @property {Vec3} from\n     */\n    this.from = from ? from.clone() : new Vec3();\n\n    /**\n     * @property {Vec3} to\n     */\n    this.to = to ? to.clone() : new Vec3();\n\n    /**\n     * @private\n     * @property {Vec3} _direction\n     */\n    this._direction = new Vec3();\n\n    /**\n     * The precision of the ray. Used when checking parallelity etc.\n     * @property {Number} precision\n     */\n    this.precision = 0.0001;\n\n    /**\n     * Set to true if you want the Ray to take .collisionResponse flags into account on bodies and shapes.\n     * @property {Boolean} checkCollisionResponse\n     */\n    this.checkCollisionResponse = true;\n\n    /**\n     * If set to true, the ray skips any hits with normal.dot(rayDirection) < 0.\n     * @property {Boolean} skipBackfaces\n     */\n    this.skipBackfaces = false;\n\n    /**\n     * @property {number} collisionFilterMask\n     * @default -1\n     */\n    this.collisionFilterMask = -1;\n\n    /**\n     * @property {number} collisionFilterGroup\n     * @default -1\n     */\n    this.collisionFilterGroup = -1;\n\n    /**\n     * The intersection mode. Should be Ray.ANY, Ray.ALL or Ray.CLOSEST.\n     * @property {number} mode\n     */\n    this.mode = Ray.ANY;\n\n    /**\n     * Current result object.\n     * @property {RaycastResult} result\n     */\n    this.result = new RaycastResult();\n\n    /**\n     * Will be set to true during intersectWorld() if the ray hit anything.\n     * @property {Boolean} hasHit\n     */\n    this.hasHit = false;\n\n    /**\n     * Current, user-provided result callback. Will be used if mode is Ray.ALL.\n     * @property {Function} callback\n     */\n    this.callback = function(result){};\n}\nRay.prototype.constructor = Ray;\n\nRay.CLOSEST = 1;\nRay.ANY = 2;\nRay.ALL = 4;\n\nvar tmpAABB = new AABB();\nvar tmpArray = [];\n\n/**\n * Do itersection against all bodies in the given World.\n * @method intersectWorld\n * @param  {World} world\n * @param  {object} options\n * @return {Boolean} True if the ray hit anything, otherwise false.\n */\nRay.prototype.intersectWorld = function (world, options) {\n    this.mode = options.mode || Ray.ANY;\n    this.result = options.result || new RaycastResult();\n    this.skipBackfaces = !!options.skipBackfaces;\n    this.collisionFilterMask = typeof(options.collisionFilterMask) !== 'undefined' ? options.collisionFilterMask : -1;\n    this.collisionFilterGroup = typeof(options.collisionFilterGroup) !== 'undefined' ? options.collisionFilterGroup : -1;\n    if(options.from){\n        this.from.copy(options.from);\n    }\n    if(options.to){\n        this.to.copy(options.to);\n    }\n    this.callback = options.callback || function(){};\n    this.hasHit = false;\n\n    this.result.reset();\n    this._updateDirection();\n\n    this.getAABB(tmpAABB);\n    tmpArray.length = 0;\n    world.broadphase.aabbQuery(world, tmpAABB, tmpArray);\n    this.intersectBodies(tmpArray);\n\n    return this.hasHit;\n};\n\nvar v1 = new Vec3(),\n    v2 = new Vec3();\n\n/*\n * As per \"Barycentric Technique\" as named here http://www.blackpawn.com/texts/pointinpoly/default.html But without the division\n */\nRay.pointInTriangle = pointInTriangle;\nfunction pointInTriangle(p, a, b, c) {\n    c.vsub(a,v0);\n    b.vsub(a,v1);\n    p.vsub(a,v2);\n\n    var dot00 = v0.dot( v0 );\n    var dot01 = v0.dot( v1 );\n    var dot02 = v0.dot( v2 );\n    var dot11 = v1.dot( v1 );\n    var dot12 = v1.dot( v2 );\n\n    var u,v;\n\n    return  ( (u = dot11 * dot02 - dot01 * dot12) >= 0 ) &&\n            ( (v = dot00 * dot12 - dot01 * dot02) >= 0 ) &&\n            ( u + v < ( dot00 * dot11 - dot01 * dot01 ) );\n}\n\n/**\n * Shoot a ray at a body, get back information about the hit.\n * @method intersectBody\n * @private\n * @param {Body} body\n * @param {RaycastResult} [result] Deprecated - set the result property of the Ray instead.\n */\nvar intersectBody_xi = new Vec3();\nvar intersectBody_qi = new Quaternion();\nRay.prototype.intersectBody = function (body, result) {\n    if(result){\n        this.result = result;\n        this._updateDirection();\n    }\n    var checkCollisionResponse = this.checkCollisionResponse;\n\n    if(checkCollisionResponse && !body.collisionResponse){\n        return;\n    }\n\n    if((this.collisionFilterGroup & body.collisionFilterMask)===0 || (body.collisionFilterGroup & this.collisionFilterMask)===0){\n        return;\n    }\n\n    var xi = intersectBody_xi;\n    var qi = intersectBody_qi;\n\n    for (var i = 0, N = body.shapes.length; i < N; i++) {\n        var shape = body.shapes[i];\n\n        if(checkCollisionResponse && !shape.collisionResponse){\n            continue; // Skip\n        }\n\n        body.quaternion.mult(body.shapeOrientations[i], qi);\n        body.quaternion.vmult(body.shapeOffsets[i], xi);\n        xi.vadd(body.position, xi);\n\n        this.intersectShape(\n            shape,\n            qi,\n            xi,\n            body\n        );\n\n        if(this.result._shouldStop){\n            break;\n        }\n    }\n};\n\n/**\n * @method intersectBodies\n * @param {Array} bodies An array of Body objects.\n * @param {RaycastResult} [result] Deprecated\n */\nRay.prototype.intersectBodies = function (bodies, result) {\n    if(result){\n        this.result = result;\n        this._updateDirection();\n    }\n\n    for ( var i = 0, l = bodies.length; !this.result._shouldStop && i < l; i ++ ) {\n        this.intersectBody(bodies[i]);\n    }\n};\n\n/**\n * Updates the _direction vector.\n * @private\n * @method _updateDirection\n */\nRay.prototype._updateDirection = function(){\n    this.to.vsub(this.from, this._direction);\n    this._direction.normalize();\n};\n\n/**\n * @method intersectShape\n * @private\n * @param {Shape} shape\n * @param {Quaternion} quat\n * @param {Vec3} position\n * @param {Body} body\n */\nRay.prototype.intersectShape = function(shape, quat, position, body){\n    var from = this.from;\n\n\n    // Checking boundingSphere\n    var distance = distanceFromIntersection(from, this._direction, position);\n    if ( distance > shape.boundingSphereRadius ) {\n        return;\n    }\n\n    var intersectMethod = this[shape.type];\n    if(intersectMethod){\n        intersectMethod.call(this, shape, quat, position, body);\n    }\n};\n\nvar vector = new Vec3();\nvar normal = new Vec3();\nvar intersectPoint = new Vec3();\n\nvar a = new Vec3();\nvar b = new Vec3();\nvar c = new Vec3();\nvar d = new Vec3();\n\nvar tmpRaycastResult = new RaycastResult();\n\n/**\n * @method intersectBox\n * @private\n * @param  {Shape} shape\n * @param  {Quaternion} quat\n * @param  {Vec3} position\n * @param  {Body} body\n */\nRay.prototype.intersectBox = function(shape, quat, position, body){\n    return this.intersectConvex(shape.convexPolyhedronRepresentation, quat, position, body);\n};\nRay.prototype[Shape.types.BOX] = Ray.prototype.intersectBox;\n\n/**\n * @method intersectPlane\n * @private\n * @param  {Shape} shape\n * @param  {Quaternion} quat\n * @param  {Vec3} position\n * @param  {Body} body\n */\nRay.prototype.intersectPlane = function(shape, quat, position, body){\n    var from = this.from;\n    var to = this.to;\n    var direction = this._direction;\n\n    // Get plane normal\n    var worldNormal = new Vec3(0, 0, 1);\n    quat.vmult(worldNormal, worldNormal);\n\n    var len = new Vec3();\n    from.vsub(position, len);\n    var planeToFrom = len.dot(worldNormal);\n    to.vsub(position, len);\n    var planeToTo = len.dot(worldNormal);\n\n    if(planeToFrom * planeToTo > 0){\n        // \"from\" and \"to\" are on the same side of the plane... bail out\n        return;\n    }\n\n    if(from.distanceTo(to) < planeToFrom){\n        return;\n    }\n\n    var n_dot_dir = worldNormal.dot(direction);\n\n    if (Math.abs(n_dot_dir) < this.precision) {\n        // No intersection\n        return;\n    }\n\n    var planePointToFrom = new Vec3();\n    var dir_scaled_with_t = new Vec3();\n    var hitPointWorld = new Vec3();\n\n    from.vsub(position, planePointToFrom);\n    var t = -worldNormal.dot(planePointToFrom) / n_dot_dir;\n    direction.scale(t, dir_scaled_with_t);\n    from.vadd(dir_scaled_with_t, hitPointWorld);\n\n    this.reportIntersection(worldNormal, hitPointWorld, shape, body, -1);\n};\nRay.prototype[Shape.types.PLANE] = Ray.prototype.intersectPlane;\n\n/**\n * Get the world AABB of the ray.\n * @method getAABB\n * @param  {AABB} aabb\n */\nRay.prototype.getAABB = function(result){\n    var to = this.to;\n    var from = this.from;\n    result.lowerBound.x = Math.min(to.x, from.x);\n    result.lowerBound.y = Math.min(to.y, from.y);\n    result.lowerBound.z = Math.min(to.z, from.z);\n    result.upperBound.x = Math.max(to.x, from.x);\n    result.upperBound.y = Math.max(to.y, from.y);\n    result.upperBound.z = Math.max(to.z, from.z);\n};\n\nvar intersectConvexOptions = {\n    faceList: [0]\n};\n\n/**\n * @method intersectHeightfield\n * @private\n * @param  {Shape} shape\n * @param  {Quaternion} quat\n * @param  {Vec3} position\n * @param  {Body} body\n */\nRay.prototype.intersectHeightfield = function(shape, quat, position, body){\n    var data = shape.data,\n        w = shape.elementSize,\n        worldPillarOffset = new Vec3();\n\n    // Convert the ray to local heightfield coordinates\n    var localRay = new Ray(this.from, this.to);\n    Transform.pointToLocalFrame(position, quat, localRay.from, localRay.from);\n    Transform.pointToLocalFrame(position, quat, localRay.to, localRay.to);\n\n    // Get the index of the data points to test against\n    var index = [];\n    var iMinX = null;\n    var iMinY = null;\n    var iMaxX = null;\n    var iMaxY = null;\n\n    var inside = shape.getIndexOfPosition(localRay.from.x, localRay.from.y, index, false);\n    if(inside){\n        iMinX = index[0];\n        iMinY = index[1];\n        iMaxX = index[0];\n        iMaxY = index[1];\n    }\n    inside = shape.getIndexOfPosition(localRay.to.x, localRay.to.y, index, false);\n    if(inside){\n        if (iMinX === null || index[0] < iMinX) { iMinX = index[0]; }\n        if (iMaxX === null || index[0] > iMaxX) { iMaxX = index[0]; }\n        if (iMinY === null || index[1] < iMinY) { iMinY = index[1]; }\n        if (iMaxY === null || index[1] > iMaxY) { iMaxY = index[1]; }\n    }\n\n    if(iMinX === null){\n        return;\n    }\n\n    var minMax = [];\n    shape.getRectMinMax(iMinX, iMinY, iMaxX, iMaxY, minMax);\n    var min = minMax[0];\n    var max = minMax[1];\n\n    // // Bail out if the ray can't touch the bounding box\n    // // TODO\n    // var aabb = new AABB();\n    // this.getAABB(aabb);\n    // if(aabb.intersects()){\n    //     return;\n    // }\n\n    for(var i = iMinX; i <= iMaxX; i++){\n        for(var j = iMinY; j <= iMaxY; j++){\n\n            if(this.result._shouldStop){\n                return;\n            }\n\n            // Lower triangle\n            shape.getConvexTrianglePillar(i, j, false);\n            Transform.pointToWorldFrame(position, quat, shape.pillarOffset, worldPillarOffset);\n            this.intersectConvex(shape.pillarConvex, quat, worldPillarOffset, body, intersectConvexOptions);\n\n            if(this.result._shouldStop){\n                return;\n            }\n\n            // Upper triangle\n            shape.getConvexTrianglePillar(i, j, true);\n            Transform.pointToWorldFrame(position, quat, shape.pillarOffset, worldPillarOffset);\n            this.intersectConvex(shape.pillarConvex, quat, worldPillarOffset, body, intersectConvexOptions);\n        }\n    }\n};\nRay.prototype[Shape.types.HEIGHTFIELD] = Ray.prototype.intersectHeightfield;\n\nvar Ray_intersectSphere_intersectionPoint = new Vec3();\nvar Ray_intersectSphere_normal = new Vec3();\n\n/**\n * @method intersectSphere\n * @private\n * @param  {Shape} shape\n * @param  {Quaternion} quat\n * @param  {Vec3} position\n * @param  {Body} body\n */\nRay.prototype.intersectSphere = function(shape, quat, position, body){\n    var from = this.from,\n        to = this.to,\n        r = shape.radius;\n\n    var a = Math.pow(to.x - from.x, 2) + Math.pow(to.y - from.y, 2) + Math.pow(to.z - from.z, 2);\n    var b = 2 * ((to.x - from.x) * (from.x - position.x) + (to.y - from.y) * (from.y - position.y) + (to.z - from.z) * (from.z - position.z));\n    var c = Math.pow(from.x - position.x, 2) + Math.pow(from.y - position.y, 2) + Math.pow(from.z - position.z, 2) - Math.pow(r, 2);\n\n    var delta = Math.pow(b, 2) - 4 * a * c;\n\n    var intersectionPoint = Ray_intersectSphere_intersectionPoint;\n    var normal = Ray_intersectSphere_normal;\n\n    if(delta < 0){\n        // No intersection\n        return;\n\n    } else if(delta === 0){\n        // single intersection point\n        from.lerp(to, delta, intersectionPoint);\n\n        intersectionPoint.vsub(position, normal);\n        normal.normalize();\n\n        this.reportIntersection(normal, intersectionPoint, shape, body, -1);\n\n    } else {\n        var d1 = (- b - Math.sqrt(delta)) / (2 * a);\n        var d2 = (- b + Math.sqrt(delta)) / (2 * a);\n\n        if(d1 >= 0 && d1 <= 1){\n            from.lerp(to, d1, intersectionPoint);\n            intersectionPoint.vsub(position, normal);\n            normal.normalize();\n            this.reportIntersection(normal, intersectionPoint, shape, body, -1);\n        }\n\n        if(this.result._shouldStop){\n            return;\n        }\n\n        if(d2 >= 0 && d2 <= 1){\n            from.lerp(to, d2, intersectionPoint);\n            intersectionPoint.vsub(position, normal);\n            normal.normalize();\n            this.reportIntersection(normal, intersectionPoint, shape, body, -1);\n        }\n    }\n};\nRay.prototype[Shape.types.SPHERE] = Ray.prototype.intersectSphere;\n\n\nvar intersectConvex_normal = new Vec3();\nvar intersectConvex_minDistNormal = new Vec3();\nvar intersectConvex_minDistIntersect = new Vec3();\nvar intersectConvex_vector = new Vec3();\n\n/**\n * @method intersectConvex\n * @private\n * @param  {Shape} shape\n * @param  {Quaternion} quat\n * @param  {Vec3} position\n * @param  {Body} body\n * @param {object} [options]\n * @param {array} [options.faceList]\n */\nRay.prototype.intersectConvex = function intersectConvex(\n    shape,\n    quat,\n    position,\n    body,\n    options\n){\n    var minDistNormal = intersectConvex_minDistNormal;\n    var normal = intersectConvex_normal;\n    var vector = intersectConvex_vector;\n    var minDistIntersect = intersectConvex_minDistIntersect;\n    var faceList = (options && options.faceList) || null;\n\n    // Checking faces\n    var faces = shape.faces,\n        vertices = shape.vertices,\n        normals = shape.faceNormals;\n    var direction = this._direction;\n\n    var from = this.from;\n    var to = this.to;\n    var fromToDistance = from.distanceTo(to);\n\n    var minDist = -1;\n    var Nfaces = faceList ? faceList.length : faces.length;\n    var result = this.result;\n\n    for (var j = 0; !result._shouldStop && j < Nfaces; j++) {\n        var fi = faceList ? faceList[j] : j;\n\n        var face = faces[fi];\n        var faceNormal = normals[fi];\n        var q = quat;\n        var x = position;\n\n        // determine if ray intersects the plane of the face\n        // note: this works regardless of the direction of the face normal\n\n        // Get plane point in world coordinates...\n        vector.copy(vertices[face[0]]);\n        q.vmult(vector,vector);\n        vector.vadd(x,vector);\n\n        // ...but make it relative to the ray from. We'll fix this later.\n        vector.vsub(from,vector);\n\n        // Get plane normal\n        q.vmult(faceNormal,normal);\n\n        // If this dot product is negative, we have something interesting\n        var dot = direction.dot(normal);\n\n        // Bail out if ray and plane are parallel\n        if ( Math.abs( dot ) < this.precision ){\n            continue;\n        }\n\n        // calc distance to plane\n        var scalar = normal.dot(vector) / dot;\n\n        // if negative distance, then plane is behind ray\n        if (scalar < 0){\n            continue;\n        }\n\n        // if (dot < 0) {\n\n        // Intersection point is from + direction * scalar\n        direction.mult(scalar,intersectPoint);\n        intersectPoint.vadd(from,intersectPoint);\n\n        // a is the point we compare points b and c with.\n        a.copy(vertices[face[0]]);\n        q.vmult(a,a);\n        x.vadd(a,a);\n\n        for(var i = 1; !result._shouldStop && i < face.length - 1; i++){\n            // Transform 3 vertices to world coords\n            b.copy(vertices[face[i]]);\n            c.copy(vertices[face[i+1]]);\n            q.vmult(b,b);\n            q.vmult(c,c);\n            x.vadd(b,b);\n            x.vadd(c,c);\n\n            var distance = intersectPoint.distanceTo(from);\n\n            if(!(pointInTriangle(intersectPoint, a, b, c) || pointInTriangle(intersectPoint, b, a, c)) || distance > fromToDistance){\n                continue;\n            }\n\n            this.reportIntersection(normal, intersectPoint, shape, body, fi);\n        }\n        // }\n    }\n};\nRay.prototype[Shape.types.CONVEXPOLYHEDRON] = Ray.prototype.intersectConvex;\n\nvar intersectTrimesh_normal = new Vec3();\nvar intersectTrimesh_localDirection = new Vec3();\nvar intersectTrimesh_localFrom = new Vec3();\nvar intersectTrimesh_localTo = new Vec3();\nvar intersectTrimesh_worldNormal = new Vec3();\nvar intersectTrimesh_worldIntersectPoint = new Vec3();\nvar intersectTrimesh_localAABB = new AABB();\nvar intersectTrimesh_triangles = [];\nvar intersectTrimesh_treeTransform = new Transform();\n\n/**\n * @method intersectTrimesh\n * @private\n * @param  {Shape} shape\n * @param  {Quaternion} quat\n * @param  {Vec3} position\n * @param  {Body} body\n * @param {object} [options]\n * @todo Optimize by transforming the world to local space first.\n * @todo Use Octree lookup\n */\nRay.prototype.intersectTrimesh = function intersectTrimesh(\n    mesh,\n    quat,\n    position,\n    body,\n    options\n){\n    var normal = intersectTrimesh_normal;\n    var triangles = intersectTrimesh_triangles;\n    var treeTransform = intersectTrimesh_treeTransform;\n    var minDistNormal = intersectConvex_minDistNormal;\n    var vector = intersectConvex_vector;\n    var minDistIntersect = intersectConvex_minDistIntersect;\n    var localAABB = intersectTrimesh_localAABB;\n    var localDirection = intersectTrimesh_localDirection;\n    var localFrom = intersectTrimesh_localFrom;\n    var localTo = intersectTrimesh_localTo;\n    var worldIntersectPoint = intersectTrimesh_worldIntersectPoint;\n    var worldNormal = intersectTrimesh_worldNormal;\n    var faceList = (options && options.faceList) || null;\n\n    // Checking faces\n    var indices = mesh.indices,\n        vertices = mesh.vertices,\n        normals = mesh.faceNormals;\n\n    var from = this.from;\n    var to = this.to;\n    var direction = this._direction;\n\n    var minDist = -1;\n    treeTransform.position.copy(position);\n    treeTransform.quaternion.copy(quat);\n\n    // Transform ray to local space!\n    Transform.vectorToLocalFrame(position, quat, direction, localDirection);\n    //body.vectorToLocalFrame(direction, localDirection);\n    Transform.pointToLocalFrame(position, quat, from, localFrom);\n    //body.pointToLocalFrame(from, localFrom);\n    Transform.pointToLocalFrame(position, quat, to, localTo);\n    //body.pointToLocalFrame(to, localTo);\n    var fromToDistanceSquared = localFrom.distanceSquared(localTo);\n\n    mesh.tree.rayQuery(this, treeTransform, triangles);\n\n    for (var i = 0, N = triangles.length; !this.result._shouldStop && i !== N; i++) {\n        var trianglesIndex = triangles[i];\n\n        mesh.getNormal(trianglesIndex, normal);\n\n        // determine if ray intersects the plane of the face\n        // note: this works regardless of the direction of the face normal\n\n        // Get plane point in world coordinates...\n        mesh.getVertex(indices[trianglesIndex * 3], a);\n\n        // ...but make it relative to the ray from. We'll fix this later.\n        a.vsub(localFrom,vector);\n\n        // Get plane normal\n        // quat.vmult(normal, normal);\n\n        // If this dot product is negative, we have something interesting\n        var dot = localDirection.dot(normal);\n\n        // Bail out if ray and plane are parallel\n        // if (Math.abs( dot ) < this.precision){\n        //     continue;\n        // }\n\n        // calc distance to plane\n        var scalar = normal.dot(vector) / dot;\n\n        // if negative distance, then plane is behind ray\n        if (scalar < 0){\n            continue;\n        }\n\n        // Intersection point is from + direction * scalar\n        localDirection.scale(scalar,intersectPoint);\n        intersectPoint.vadd(localFrom,intersectPoint);\n\n        // Get triangle vertices\n        mesh.getVertex(indices[trianglesIndex * 3 + 1], b);\n        mesh.getVertex(indices[trianglesIndex * 3 + 2], c);\n\n        var squaredDistance = intersectPoint.distanceSquared(localFrom);\n\n        if(!(pointInTriangle(intersectPoint, b, a, c) || pointInTriangle(intersectPoint, a, b, c)) || squaredDistance > fromToDistanceSquared){\n            continue;\n        }\n\n        // transform intersectpoint and normal to world\n        Transform.vectorToWorldFrame(quat, normal, worldNormal);\n        //body.vectorToWorldFrame(normal, worldNormal);\n        Transform.pointToWorldFrame(position, quat, intersectPoint, worldIntersectPoint);\n        //body.pointToWorldFrame(intersectPoint, worldIntersectPoint);\n        this.reportIntersection(worldNormal, worldIntersectPoint, mesh, body, trianglesIndex);\n    }\n    triangles.length = 0;\n};\nRay.prototype[Shape.types.TRIMESH] = Ray.prototype.intersectTrimesh;\n\n\n/**\n * @method reportIntersection\n * @private\n * @param  {Vec3} normal\n * @param  {Vec3} hitPointWorld\n * @param  {Shape} shape\n * @param  {Body} body\n * @return {boolean} True if the intersections should continue\n */\nRay.prototype.reportIntersection = function(normal, hitPointWorld, shape, body, hitFaceIndex){\n    var from = this.from;\n    var to = this.to;\n    var distance = from.distanceTo(hitPointWorld);\n    var result = this.result;\n\n    // Skip back faces?\n    if(this.skipBackfaces && normal.dot(this._direction) > 0){\n        return;\n    }\n\n    result.hitFaceIndex = typeof(hitFaceIndex) !== 'undefined' ? hitFaceIndex : -1;\n\n    switch(this.mode){\n    case Ray.ALL:\n        this.hasHit = true;\n        result.set(\n            from,\n            to,\n            normal,\n            hitPointWorld,\n            shape,\n            body,\n            distance\n        );\n        result.hasHit = true;\n        this.callback(result);\n        break;\n\n    case Ray.CLOSEST:\n\n        // Store if closer than current closest\n        if(distance < result.distance || !result.hasHit){\n            this.hasHit = true;\n            result.hasHit = true;\n            result.set(\n                from,\n                to,\n                normal,\n                hitPointWorld,\n                shape,\n                body,\n                distance\n            );\n        }\n        break;\n\n    case Ray.ANY:\n\n        // Report and stop.\n        this.hasHit = true;\n        result.hasHit = true;\n        result.set(\n            from,\n            to,\n            normal,\n            hitPointWorld,\n            shape,\n            body,\n            distance\n        );\n        result._shouldStop = true;\n        break;\n    }\n};\n\nvar v0 = new Vec3(),\n    intersect = new Vec3();\nfunction distanceFromIntersection(from, direction, position) {\n\n    // v0 is vector from from to position\n    position.vsub(from,v0);\n    var dot = v0.dot(direction);\n\n    // intersect = direction*dot + from\n    direction.mult(dot,intersect);\n    intersect.vadd(from,intersect);\n\n    var distance = position.distanceTo(intersect);\n\n    return distance;\n}\n\n\n},{\"../collision/AABB\":3,\"../collision/RaycastResult\":10,\"../math/Quaternion\":28,\"../math/Transform\":29,\"../math/Vec3\":30,\"../shapes/Box\":37,\"../shapes/ConvexPolyhedron\":38,\"../shapes/Shape\":43}],10:[function(_dereq_,module,exports){\nvar Vec3 = _dereq_('../math/Vec3');\n\nmodule.exports = RaycastResult;\n\n/**\n * Storage for Ray casting data.\n * @class RaycastResult\n * @constructor\n */\nfunction RaycastResult(){\n\n\t/**\n\t * @property {Vec3} rayFromWorld\n\t */\n\tthis.rayFromWorld = new Vec3();\n\n\t/**\n\t * @property {Vec3} rayToWorld\n\t */\n\tthis.rayToWorld = new Vec3();\n\n\t/**\n\t * @property {Vec3} hitNormalWorld\n\t */\n\tthis.hitNormalWorld = new Vec3();\n\n\t/**\n\t * @property {Vec3} hitPointWorld\n\t */\n\tthis.hitPointWorld = new Vec3();\n\n\t/**\n\t * @property {boolean} hasHit\n\t */\n\tthis.hasHit = false;\n\n\t/**\n\t * The hit shape, or null.\n\t * @property {Shape} shape\n\t */\n\tthis.shape = null;\n\n\t/**\n\t * The hit body, or null.\n\t * @property {Body} body\n\t */\n\tthis.body = null;\n\n\t/**\n\t * The index of the hit triangle, if the hit shape was a trimesh.\n\t * @property {number} hitFaceIndex\n\t * @default -1\n\t */\n\tthis.hitFaceIndex = -1;\n\n\t/**\n\t * Distance to the hit. Will be set to -1 if there was no hit.\n\t * @property {number} distance\n\t * @default -1\n\t */\n\tthis.distance = -1;\n\n\t/**\n\t * If the ray should stop traversing the bodies.\n\t * @private\n\t * @property {Boolean} _shouldStop\n\t * @default false\n\t */\n\tthis._shouldStop = false;\n}\n\n/**\n * Reset all result data.\n * @method reset\n */\nRaycastResult.prototype.reset = function () {\n\tthis.rayFromWorld.setZero();\n\tthis.rayToWorld.setZero();\n\tthis.hitNormalWorld.setZero();\n\tthis.hitPointWorld.setZero();\n\tthis.hasHit = false;\n\tthis.shape = null;\n\tthis.body = null;\n\tthis.hitFaceIndex = -1;\n\tthis.distance = -1;\n\tthis._shouldStop = false;\n};\n\n/**\n * @method abort\n */\nRaycastResult.prototype.abort = function(){\n\tthis._shouldStop = true;\n};\n\n/**\n * @method set\n * @param {Vec3} rayFromWorld\n * @param {Vec3} rayToWorld\n * @param {Vec3} hitNormalWorld\n * @param {Vec3} hitPointWorld\n * @param {Shape} shape\n * @param {Body} body\n * @param {number} distance\n */\nRaycastResult.prototype.set = function(\n\trayFromWorld,\n\trayToWorld,\n\thitNormalWorld,\n\thitPointWorld,\n\tshape,\n\tbody,\n\tdistance\n){\n\tthis.rayFromWorld.copy(rayFromWorld);\n\tthis.rayToWorld.copy(rayToWorld);\n\tthis.hitNormalWorld.copy(hitNormalWorld);\n\tthis.hitPointWorld.copy(hitPointWorld);\n\tthis.shape = shape;\n\tthis.body = body;\n\tthis.distance = distance;\n};\n},{\"../math/Vec3\":30}],11:[function(_dereq_,module,exports){\nvar Shape = _dereq_('../shapes/Shape');\nvar Broadphase = _dereq_('../collision/Broadphase');\n\nmodule.exports = SAPBroadphase;\n\n/**\n * Sweep and prune broadphase along one axis.\n *\n * @class SAPBroadphase\n * @constructor\n * @param {World} [world]\n * @extends Broadphase\n */\nfunction SAPBroadphase(world){\n    Broadphase.apply(this);\n\n    /**\n     * List of bodies currently in the broadphase.\n     * @property axisList\n     * @type {Array}\n     */\n    this.axisList = [];\n\n    /**\n     * The world to search in.\n     * @property world\n     * @type {World}\n     */\n    this.world = null;\n\n    /**\n     * Axis to sort the bodies along. Set to 0 for x axis, and 1 for y axis. For best performance, choose an axis that the bodies are spread out more on.\n     * @property axisIndex\n     * @type {Number}\n     */\n    this.axisIndex = 0;\n\n    var axisList = this.axisList;\n\n    this._addBodyHandler = function(e){\n        axisList.push(e.body);\n    };\n\n    this._removeBodyHandler = function(e){\n        var idx = axisList.indexOf(e.body);\n        if(idx !== -1){\n            axisList.splice(idx,1);\n        }\n    };\n\n    if(world){\n        this.setWorld(world);\n    }\n}\nSAPBroadphase.prototype = new Broadphase();\n\n/**\n * Change the world\n * @method setWorld\n * @param  {World} world\n */\nSAPBroadphase.prototype.setWorld = function(world){\n    // Clear the old axis array\n    this.axisList.length = 0;\n\n    // Add all bodies from the new world\n    for(var i=0; i<world.bodies.length; i++){\n        this.axisList.push(world.bodies[i]);\n    }\n\n    // Remove old handlers, if any\n    world.removeEventListener(\"addBody\", this._addBodyHandler);\n    world.removeEventListener(\"removeBody\", this._removeBodyHandler);\n\n    // Add handlers to update the list of bodies.\n    world.addEventListener(\"addBody\", this._addBodyHandler);\n    world.addEventListener(\"removeBody\", this._removeBodyHandler);\n\n    this.world = world;\n    this.dirty = true;\n};\n\n/**\n * @static\n * @method insertionSortX\n * @param  {Array} a\n * @return {Array}\n */\nSAPBroadphase.insertionSortX = function(a) {\n    for(var i=1,l=a.length;i<l;i++) {\n        var v = a[i];\n        for(var j=i - 1;j>=0;j--) {\n            if(a[j].aabb.lowerBound.x <= v.aabb.lowerBound.x){\n                break;\n            }\n            a[j+1] = a[j];\n        }\n        a[j+1] = v;\n    }\n    return a;\n};\n\n/**\n * @static\n * @method insertionSortY\n * @param  {Array} a\n * @return {Array}\n */\nSAPBroadphase.insertionSortY = function(a) {\n    for(var i=1,l=a.length;i<l;i++) {\n        var v = a[i];\n        for(var j=i - 1;j>=0;j--) {\n            if(a[j].aabb.lowerBound.y <= v.aabb.lowerBound.y){\n                break;\n            }\n            a[j+1] = a[j];\n        }\n        a[j+1] = v;\n    }\n    return a;\n};\n\n/**\n * @static\n * @method insertionSortZ\n * @param  {Array} a\n * @return {Array}\n */\nSAPBroadphase.insertionSortZ = function(a) {\n    for(var i=1,l=a.length;i<l;i++) {\n        var v = a[i];\n        for(var j=i - 1;j>=0;j--) {\n            if(a[j].aabb.lowerBound.z <= v.aabb.lowerBound.z){\n                break;\n            }\n            a[j+1] = a[j];\n        }\n        a[j+1] = v;\n    }\n    return a;\n};\n\n/**\n * Collect all collision pairs\n * @method collisionPairs\n * @param  {World} world\n * @param  {Array} p1\n * @param  {Array} p2\n */\nSAPBroadphase.prototype.collisionPairs = function(world,p1,p2){\n    var bodies = this.axisList,\n        N = bodies.length,\n        axisIndex = this.axisIndex,\n        i, j;\n\n    if(this.dirty){\n        this.sortList();\n        this.dirty = false;\n    }\n\n    // Look through the list\n    for(i=0; i !== N; i++){\n        var bi = bodies[i];\n\n        for(j=i+1; j < N; j++){\n            var bj = bodies[j];\n\n            if(!this.needBroadphaseCollision(bi,bj)){\n                continue;\n            }\n\n            if(!SAPBroadphase.checkBounds(bi,bj,axisIndex)){\n                break;\n            }\n\n            this.intersectionTest(bi,bj,p1,p2);\n        }\n    }\n};\n\nSAPBroadphase.prototype.sortList = function(){\n    var axisList = this.axisList;\n    var axisIndex = this.axisIndex;\n    var N = axisList.length;\n\n    // Update AABBs\n    for(var i = 0; i!==N; i++){\n        var bi = axisList[i];\n        if(bi.aabbNeedsUpdate){\n            bi.computeAABB();\n        }\n    }\n\n    // Sort the list\n    if(axisIndex === 0){\n        SAPBroadphase.insertionSortX(axisList);\n    } else if(axisIndex === 1){\n        SAPBroadphase.insertionSortY(axisList);\n    } else if(axisIndex === 2){\n        SAPBroadphase.insertionSortZ(axisList);\n    }\n};\n\n/**\n * Check if the bounds of two bodies overlap, along the given SAP axis.\n * @static\n * @method checkBounds\n * @param  {Body} bi\n * @param  {Body} bj\n * @param  {Number} axisIndex\n * @return {Boolean}\n */\nSAPBroadphase.checkBounds = function(bi, bj, axisIndex){\n    var biPos;\n    var bjPos;\n\n    if(axisIndex === 0){\n        biPos = bi.position.x;\n        bjPos = bj.position.x;\n    } else if(axisIndex === 1){\n        biPos = bi.position.y;\n        bjPos = bj.position.y;\n    } else if(axisIndex === 2){\n        biPos = bi.position.z;\n        bjPos = bj.position.z;\n    }\n\n    var ri = bi.boundingRadius,\n        rj = bj.boundingRadius,\n        boundA1 = biPos - ri,\n        boundA2 = biPos + ri,\n        boundB1 = bjPos - rj,\n        boundB2 = bjPos + rj;\n\n    return boundB1 < boundA2;\n};\n\n/**\n * Computes the variance of the body positions and estimates the best\n * axis to use. Will automatically set property .axisIndex.\n * @method autoDetectAxis\n */\nSAPBroadphase.prototype.autoDetectAxis = function(){\n    var sumX=0,\n        sumX2=0,\n        sumY=0,\n        sumY2=0,\n        sumZ=0,\n        sumZ2=0,\n        bodies = this.axisList,\n        N = bodies.length,\n        invN=1/N;\n\n    for(var i=0; i!==N; i++){\n        var b = bodies[i];\n\n        var centerX = b.position.x;\n        sumX += centerX;\n        sumX2 += centerX*centerX;\n\n        var centerY = b.position.y;\n        sumY += centerY;\n        sumY2 += centerY*centerY;\n\n        var centerZ = b.position.z;\n        sumZ += centerZ;\n        sumZ2 += centerZ*centerZ;\n    }\n\n    var varianceX = sumX2 - sumX*sumX*invN,\n        varianceY = sumY2 - sumY*sumY*invN,\n        varianceZ = sumZ2 - sumZ*sumZ*invN;\n\n    if(varianceX > varianceY){\n        if(varianceX > varianceZ){\n            this.axisIndex = 0;\n        } else{\n            this.axisIndex = 2;\n        }\n    } else if(varianceY > varianceZ){\n        this.axisIndex = 1;\n    } else{\n        this.axisIndex = 2;\n    }\n};\n\n/**\n * Returns all the bodies within an AABB.\n * @method aabbQuery\n * @param  {World} world\n * @param  {AABB} aabb\n * @param {array} result An array to store resulting bodies in.\n * @return {array}\n */\nSAPBroadphase.prototype.aabbQuery = function(world, aabb, result){\n    result = result || [];\n\n    if(this.dirty){\n        this.sortList();\n        this.dirty = false;\n    }\n\n    var axisIndex = this.axisIndex, axis = 'x';\n    if(axisIndex === 1){ axis = 'y'; }\n    if(axisIndex === 2){ axis = 'z'; }\n\n    var axisList = this.axisList;\n    var lower = aabb.lowerBound[axis];\n    var upper = aabb.upperBound[axis];\n    for(var i = 0; i < axisList.length; i++){\n        var b = axisList[i];\n\n        if(b.aabbNeedsUpdate){\n            b.computeAABB();\n        }\n\n        if(b.aabb.overlaps(aabb)){\n            result.push(b);\n        }\n    }\n\n    return result;\n};\n},{\"../collision/Broadphase\":5,\"../shapes/Shape\":43}],12:[function(_dereq_,module,exports){\nmodule.exports = ConeTwistConstraint;\n\nvar Constraint = _dereq_('./Constraint');\nvar PointToPointConstraint = _dereq_('./PointToPointConstraint');\nvar ConeEquation = _dereq_('../equations/ConeEquation');\nvar RotationalEquation = _dereq_('../equations/RotationalEquation');\nvar ContactEquation = _dereq_('../equations/ContactEquation');\nvar Vec3 = _dereq_('../math/Vec3');\n\n/**\n * @class ConeTwistConstraint\n * @constructor\n * @author schteppe\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {object} [options]\n * @param {Vec3} [options.pivotA]\n * @param {Vec3} [options.pivotB]\n * @param {Vec3} [options.axisA]\n * @param {Vec3} [options.axisB]\n * @param {Number} [options.maxForce=1e6]\n * @extends PointToPointConstraint\n */\nfunction ConeTwistConstraint(bodyA, bodyB, options){\n    options = options || {};\n    var maxForce = typeof(options.maxForce) !== 'undefined' ? options.maxForce : 1e6;\n\n    // Set pivot point in between\n    var pivotA = options.pivotA ? options.pivotA.clone() : new Vec3();\n    var pivotB = options.pivotB ? options.pivotB.clone() : new Vec3();\n    this.axisA = options.axisA ? options.axisA.clone() : new Vec3();\n    this.axisB = options.axisB ? options.axisB.clone() : new Vec3();\n\n    PointToPointConstraint.call(this, bodyA, pivotA, bodyB, pivotB, maxForce);\n\n    this.collideConnected = !!options.collideConnected;\n\n    this.angle = typeof(options.angle) !== 'undefined' ? options.angle : 0;\n\n    /**\n     * @property {ConeEquation} coneEquation\n     */\n    var c = this.coneEquation = new ConeEquation(bodyA,bodyB,options);\n\n    /**\n     * @property {RotationalEquation} twistEquation\n     */\n    var t = this.twistEquation = new RotationalEquation(bodyA,bodyB,options);\n    this.twistAngle = typeof(options.twistAngle) !== 'undefined' ? options.twistAngle : 0;\n\n    // Make the cone equation push the bodies toward the cone axis, not outward\n    c.maxForce = 0;\n    c.minForce = -maxForce;\n\n    // Make the twist equation add torque toward the initial position\n    t.maxForce = 0;\n    t.minForce = -maxForce;\n\n    this.equations.push(c, t);\n}\nConeTwistConstraint.prototype = new PointToPointConstraint();\nConeTwistConstraint.constructor = ConeTwistConstraint;\n\nvar ConeTwistConstraint_update_tmpVec1 = new Vec3();\nvar ConeTwistConstraint_update_tmpVec2 = new Vec3();\n\nConeTwistConstraint.prototype.update = function(){\n    var bodyA = this.bodyA,\n        bodyB = this.bodyB,\n        cone = this.coneEquation,\n        twist = this.twistEquation;\n\n    PointToPointConstraint.prototype.update.call(this);\n\n    // Update the axes to the cone constraint\n    bodyA.vectorToWorldFrame(this.axisA, cone.axisA);\n    bodyB.vectorToWorldFrame(this.axisB, cone.axisB);\n\n    // Update the world axes in the twist constraint\n    this.axisA.tangents(twist.axisA, twist.axisA);\n    bodyA.vectorToWorldFrame(twist.axisA, twist.axisA);\n\n    this.axisB.tangents(twist.axisB, twist.axisB);\n    bodyB.vectorToWorldFrame(twist.axisB, twist.axisB);\n\n    cone.angle = this.angle;\n    twist.maxAngle = this.twistAngle;\n};\n\n\n},{\"../equations/ConeEquation\":18,\"../equations/ContactEquation\":19,\"../equations/RotationalEquation\":22,\"../math/Vec3\":30,\"./Constraint\":13,\"./PointToPointConstraint\":17}],13:[function(_dereq_,module,exports){\nmodule.exports = Constraint;\n\nvar Utils = _dereq_('../utils/Utils');\n\n/**\n * Constraint base class\n * @class Constraint\n * @author schteppe\n * @constructor\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {object} [options]\n * @param {boolean} [options.collideConnected=true]\n * @param {boolean} [options.wakeUpBodies=true]\n */\nfunction Constraint(bodyA, bodyB, options){\n    options = Utils.defaults(options,{\n        collideConnected : true,\n        wakeUpBodies : true,\n    });\n\n    /**\n     * Equations to be solved in this constraint\n     * @property equations\n     * @type {Array}\n     */\n    this.equations = [];\n\n    /**\n     * @property {Body} bodyA\n     */\n    this.bodyA = bodyA;\n\n    /**\n     * @property {Body} bodyB\n     */\n    this.bodyB = bodyB;\n\n    /**\n     * @property {Number} id\n     */\n    this.id = Constraint.idCounter++;\n\n    /**\n     * Set to true if you want the bodies to collide when they are connected.\n     * @property collideConnected\n     * @type {boolean}\n     */\n    this.collideConnected = options.collideConnected;\n\n    if(options.wakeUpBodies){\n        if(bodyA){\n            bodyA.wakeUp();\n        }\n        if(bodyB){\n            bodyB.wakeUp();\n        }\n    }\n}\n\n/**\n * Update all the equations with data.\n * @method update\n */\nConstraint.prototype.update = function(){\n    throw new Error(\"method update() not implmemented in this Constraint subclass!\");\n};\n\n/**\n * Enables all equations in the constraint.\n * @method enable\n */\nConstraint.prototype.enable = function(){\n    var eqs = this.equations;\n    for(var i=0; i<eqs.length; i++){\n        eqs[i].enabled = true;\n    }\n};\n\n/**\n * Disables all equations in the constraint.\n * @method disable\n */\nConstraint.prototype.disable = function(){\n    var eqs = this.equations;\n    for(var i=0; i<eqs.length; i++){\n        eqs[i].enabled = false;\n    }\n};\n\nConstraint.idCounter = 0;\n\n},{\"../utils/Utils\":53}],14:[function(_dereq_,module,exports){\nmodule.exports = DistanceConstraint;\n\nvar Constraint = _dereq_('./Constraint');\nvar ContactEquation = _dereq_('../equations/ContactEquation');\n\n/**\n * Constrains two bodies to be at a constant distance from each others center of mass.\n * @class DistanceConstraint\n * @constructor\n * @author schteppe\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {Number} [distance] The distance to keep. If undefined, it will be set to the current distance between bodyA and bodyB\n * @param {Number} [maxForce=1e6]\n * @extends Constraint\n */\nfunction DistanceConstraint(bodyA,bodyB,distance,maxForce){\n    Constraint.call(this,bodyA,bodyB);\n\n    if(typeof(distance)===\"undefined\") {\n        distance = bodyA.position.distanceTo(bodyB.position);\n    }\n\n    if(typeof(maxForce)===\"undefined\") {\n        maxForce = 1e6;\n    }\n\n    /**\n     * @property {number} distance\n     */\n    this.distance = distance;\n\n    /**\n     * @property {ContactEquation} distanceEquation\n     */\n    var eq = this.distanceEquation = new ContactEquation(bodyA, bodyB);\n    this.equations.push(eq);\n\n    // Make it bidirectional\n    eq.minForce = -maxForce;\n    eq.maxForce =  maxForce;\n}\nDistanceConstraint.prototype = new Constraint();\n\nDistanceConstraint.prototype.update = function(){\n    var bodyA = this.bodyA;\n    var bodyB = this.bodyB;\n    var eq = this.distanceEquation;\n    var halfDist = this.distance * 0.5;\n    var normal = eq.ni;\n\n    bodyB.position.vsub(bodyA.position, normal);\n    normal.normalize();\n    normal.mult(halfDist, eq.ri);\n    normal.mult(-halfDist, eq.rj);\n};\n},{\"../equations/ContactEquation\":19,\"./Constraint\":13}],15:[function(_dereq_,module,exports){\nmodule.exports = HingeConstraint;\n\nvar Constraint = _dereq_('./Constraint');\nvar PointToPointConstraint = _dereq_('./PointToPointConstraint');\nvar RotationalEquation = _dereq_('../equations/RotationalEquation');\nvar RotationalMotorEquation = _dereq_('../equations/RotationalMotorEquation');\nvar ContactEquation = _dereq_('../equations/ContactEquation');\nvar Vec3 = _dereq_('../math/Vec3');\n\n/**\n * Hinge constraint. Think of it as a door hinge. It tries to keep the door in the correct place and with the correct orientation.\n * @class HingeConstraint\n * @constructor\n * @author schteppe\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {object} [options]\n * @param {Vec3} [options.pivotA] A point defined locally in bodyA. This defines the offset of axisA.\n * @param {Vec3} [options.axisA] An axis that bodyA can rotate around, defined locally in bodyA.\n * @param {Vec3} [options.pivotB]\n * @param {Vec3} [options.axisB]\n * @param {Number} [options.maxForce=1e6]\n * @extends PointToPointConstraint\n */\nfunction HingeConstraint(bodyA, bodyB, options){\n    options = options || {};\n    var maxForce = typeof(options.maxForce) !== 'undefined' ? options.maxForce : 1e6;\n    var pivotA = options.pivotA ? options.pivotA.clone() : new Vec3();\n    var pivotB = options.pivotB ? options.pivotB.clone() : new Vec3();\n\n    PointToPointConstraint.call(this, bodyA, pivotA, bodyB, pivotB, maxForce);\n\n    /**\n     * Rotation axis, defined locally in bodyA.\n     * @property {Vec3} axisA\n     */\n    var axisA = this.axisA = options.axisA ? options.axisA.clone() : new Vec3(1,0,0);\n    axisA.normalize();\n\n    /**\n     * Rotation axis, defined locally in bodyB.\n     * @property {Vec3} axisB\n     */\n    var axisB = this.axisB = options.axisB ? options.axisB.clone() : new Vec3(1,0,0);\n    axisB.normalize();\n\n    /**\n     * @property {RotationalEquation} rotationalEquation1\n     */\n    var r1 = this.rotationalEquation1 = new RotationalEquation(bodyA,bodyB,options);\n\n    /**\n     * @property {RotationalEquation} rotationalEquation2\n     */\n    var r2 = this.rotationalEquation2 = new RotationalEquation(bodyA,bodyB,options);\n\n    /**\n     * @property {RotationalMotorEquation} motorEquation\n     */\n    var motor = this.motorEquation = new RotationalMotorEquation(bodyA,bodyB,maxForce);\n    motor.enabled = false; // Not enabled by default\n\n    // Equations to be fed to the solver\n    this.equations.push(\n        r1, // rotational1\n        r2, // rotational2\n        motor\n    );\n}\nHingeConstraint.prototype = new PointToPointConstraint();\nHingeConstraint.constructor = HingeConstraint;\n\n/**\n * @method enableMotor\n */\nHingeConstraint.prototype.enableMotor = function(){\n    this.motorEquation.enabled = true;\n};\n\n/**\n * @method disableMotor\n */\nHingeConstraint.prototype.disableMotor = function(){\n    this.motorEquation.enabled = false;\n};\n\n/**\n * @method setMotorSpeed\n * @param {number} speed\n */\nHingeConstraint.prototype.setMotorSpeed = function(speed){\n    this.motorEquation.targetVelocity = speed;\n};\n\n/**\n * @method setMotorMaxForce\n * @param {number} maxForce\n */\nHingeConstraint.prototype.setMotorMaxForce = function(maxForce){\n    this.motorEquation.maxForce = maxForce;\n    this.motorEquation.minForce = -maxForce;\n};\n\nvar HingeConstraint_update_tmpVec1 = new Vec3();\nvar HingeConstraint_update_tmpVec2 = new Vec3();\n\nHingeConstraint.prototype.update = function(){\n    var bodyA = this.bodyA,\n        bodyB = this.bodyB,\n        motor = this.motorEquation,\n        r1 = this.rotationalEquation1,\n        r2 = this.rotationalEquation2,\n        worldAxisA = HingeConstraint_update_tmpVec1,\n        worldAxisB = HingeConstraint_update_tmpVec2;\n\n    var axisA = this.axisA;\n    var axisB = this.axisB;\n\n    PointToPointConstraint.prototype.update.call(this);\n\n    // Get world axes\n    bodyA.quaternion.vmult(axisA, worldAxisA);\n    bodyB.quaternion.vmult(axisB, worldAxisB);\n\n    worldAxisA.tangents(r1.axisA, r2.axisA);\n    r1.axisB.copy(worldAxisB);\n    r2.axisB.copy(worldAxisB);\n\n    if(this.motorEquation.enabled){\n        bodyA.quaternion.vmult(this.axisA, motor.axisA);\n        bodyB.quaternion.vmult(this.axisB, motor.axisB);\n    }\n};\n\n\n},{\"../equations/ContactEquation\":19,\"../equations/RotationalEquation\":22,\"../equations/RotationalMotorEquation\":23,\"../math/Vec3\":30,\"./Constraint\":13,\"./PointToPointConstraint\":17}],16:[function(_dereq_,module,exports){\nmodule.exports = LockConstraint;\n\nvar Constraint = _dereq_('./Constraint');\nvar PointToPointConstraint = _dereq_('./PointToPointConstraint');\nvar RotationalEquation = _dereq_('../equations/RotationalEquation');\nvar RotationalMotorEquation = _dereq_('../equations/RotationalMotorEquation');\nvar ContactEquation = _dereq_('../equations/ContactEquation');\nvar Vec3 = _dereq_('../math/Vec3');\n\n/**\n * Lock constraint. Will remove all degrees of freedom between the bodies.\n * @class LockConstraint\n * @constructor\n * @author schteppe\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {object} [options]\n * @param {Number} [options.maxForce=1e6]\n * @extends PointToPointConstraint\n */\nfunction LockConstraint(bodyA, bodyB, options){\n    options = options || {};\n    var maxForce = typeof(options.maxForce) !== 'undefined' ? options.maxForce : 1e6;\n\n    // Set pivot point in between\n    var pivotA = new Vec3();\n    var pivotB = new Vec3();\n    var halfWay = new Vec3();\n    bodyA.position.vadd(bodyB.position, halfWay);\n    halfWay.scale(0.5, halfWay);\n    bodyB.pointToLocalFrame(halfWay, pivotB);\n    bodyA.pointToLocalFrame(halfWay, pivotA);\n    PointToPointConstraint.call(this, bodyA, pivotA, bodyB, pivotB, maxForce);\n\n    /**\n     * @property {RotationalEquation} rotationalEquation1\n     */\n    var r1 = this.rotationalEquation1 = new RotationalEquation(bodyA,bodyB,options);\n\n    /**\n     * @property {RotationalEquation} rotationalEquation2\n     */\n    var r2 = this.rotationalEquation2 = new RotationalEquation(bodyA,bodyB,options);\n\n    /**\n     * @property {RotationalEquation} rotationalEquation3\n     */\n    var r3 = this.rotationalEquation3 = new RotationalEquation(bodyA,bodyB,options);\n\n    this.equations.push(r1, r2, r3);\n}\nLockConstraint.prototype = new PointToPointConstraint();\nLockConstraint.constructor = LockConstraint;\n\nvar LockConstraint_update_tmpVec1 = new Vec3();\nvar LockConstraint_update_tmpVec2 = new Vec3();\n\nLockConstraint.prototype.update = function(){\n    var bodyA = this.bodyA,\n        bodyB = this.bodyB,\n        motor = this.motorEquation,\n        r1 = this.rotationalEquation1,\n        r2 = this.rotationalEquation2,\n        r3 = this.rotationalEquation3,\n        worldAxisA = LockConstraint_update_tmpVec1,\n        worldAxisB = LockConstraint_update_tmpVec2;\n\n    PointToPointConstraint.prototype.update.call(this);\n\n    bodyA.vectorToWorldFrame(Vec3.UNIT_X, r1.axisA);\n    bodyB.vectorToWorldFrame(Vec3.UNIT_Y, r1.axisB);\n\n    bodyA.vectorToWorldFrame(Vec3.UNIT_Y, r2.axisA);\n    bodyB.vectorToWorldFrame(Vec3.UNIT_Z, r2.axisB);\n\n    bodyA.vectorToWorldFrame(Vec3.UNIT_Z, r3.axisA);\n    bodyB.vectorToWorldFrame(Vec3.UNIT_X, r3.axisB);\n};\n\n\n},{\"../equations/ContactEquation\":19,\"../equations/RotationalEquation\":22,\"../equations/RotationalMotorEquation\":23,\"../math/Vec3\":30,\"./Constraint\":13,\"./PointToPointConstraint\":17}],17:[function(_dereq_,module,exports){\nmodule.exports = PointToPointConstraint;\n\nvar Constraint = _dereq_('./Constraint');\nvar ContactEquation = _dereq_('../equations/ContactEquation');\nvar Vec3 = _dereq_('../math/Vec3');\n\n/**\n * Connects two bodies at given offset points.\n * @class PointToPointConstraint\n * @extends Constraint\n * @constructor\n * @param {Body} bodyA\n * @param {Vec3} pivotA The point relative to the center of mass of bodyA which bodyA is constrained to.\n * @param {Body} bodyB Body that will be constrained in a similar way to the same point as bodyA. We will therefore get a link between bodyA and bodyB. If not specified, bodyA will be constrained to a static point.\n * @param {Vec3} pivotB See pivotA.\n * @param {Number} maxForce The maximum force that should be applied to constrain the bodies.\n *\n * @example\n *     var bodyA = new Body({ mass: 1 });\n *     var bodyB = new Body({ mass: 1 });\n *     bodyA.position.set(-1, 0, 0);\n *     bodyB.position.set(1, 0, 0);\n *     bodyA.addShape(shapeA);\n *     bodyB.addShape(shapeB);\n *     world.addBody(bodyA);\n *     world.addBody(bodyB);\n *     var localPivotA = new Vec3(1, 0, 0);\n *     var localPivotB = new Vec3(-1, 0, 0);\n *     var constraint = new PointToPointConstraint(bodyA, localPivotA, bodyB, localPivotB);\n *     world.addConstraint(constraint);\n */\nfunction PointToPointConstraint(bodyA,pivotA,bodyB,pivotB,maxForce){\n    Constraint.call(this,bodyA,bodyB);\n\n    maxForce = typeof(maxForce) !== 'undefined' ? maxForce : 1e6;\n\n    /**\n     * Pivot, defined locally in bodyA.\n     * @property {Vec3} pivotA\n     */\n    this.pivotA = pivotA ? pivotA.clone() : new Vec3();\n\n    /**\n     * Pivot, defined locally in bodyB.\n     * @property {Vec3} pivotB\n     */\n    this.pivotB = pivotB ? pivotB.clone() : new Vec3();\n\n    /**\n     * @property {ContactEquation} equationX\n     */\n    var x = this.equationX = new ContactEquation(bodyA,bodyB);\n\n    /**\n     * @property {ContactEquation} equationY\n     */\n    var y = this.equationY = new ContactEquation(bodyA,bodyB);\n\n    /**\n     * @property {ContactEquation} equationZ\n     */\n    var z = this.equationZ = new ContactEquation(bodyA,bodyB);\n\n    // Equations to be fed to the solver\n    this.equations.push(x, y, z);\n\n    // Make the equations bidirectional\n    x.minForce = y.minForce = z.minForce = -maxForce;\n    x.maxForce = y.maxForce = z.maxForce =  maxForce;\n\n    x.ni.set(1, 0, 0);\n    y.ni.set(0, 1, 0);\n    z.ni.set(0, 0, 1);\n}\nPointToPointConstraint.prototype = new Constraint();\n\nPointToPointConstraint.prototype.update = function(){\n    var bodyA = this.bodyA;\n    var bodyB = this.bodyB;\n    var x = this.equationX;\n    var y = this.equationY;\n    var z = this.equationZ;\n\n    // Rotate the pivots to world space\n    bodyA.quaternion.vmult(this.pivotA,x.ri);\n    bodyB.quaternion.vmult(this.pivotB,x.rj);\n\n    y.ri.copy(x.ri);\n    y.rj.copy(x.rj);\n    z.ri.copy(x.ri);\n    z.rj.copy(x.rj);\n};\n},{\"../equations/ContactEquation\":19,\"../math/Vec3\":30,\"./Constraint\":13}],18:[function(_dereq_,module,exports){\nmodule.exports = ConeEquation;\n\nvar Vec3 = _dereq_('../math/Vec3');\nvar Mat3 = _dereq_('../math/Mat3');\nvar Equation = _dereq_('./Equation');\n\n/**\n * Cone equation. Works to keep the given body world vectors aligned, or tilted within a given angle from each other.\n * @class ConeEquation\n * @constructor\n * @author schteppe\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {Vec3} [options.axisA] Local axis in A\n * @param {Vec3} [options.axisB] Local axis in B\n * @param {Vec3} [options.angle] The \"cone angle\" to keep\n * @param {number} [options.maxForce=1e6]\n * @extends Equation\n */\nfunction ConeEquation(bodyA, bodyB, options){\n    options = options || {};\n    var maxForce = typeof(options.maxForce) !== 'undefined' ? options.maxForce : 1e6;\n\n    Equation.call(this,bodyA,bodyB,-maxForce, maxForce);\n\n    this.axisA = options.axisA ? options.axisA.clone() : new Vec3(1, 0, 0);\n    this.axisB = options.axisB ? options.axisB.clone() : new Vec3(0, 1, 0);\n\n    /**\n     * The cone angle to keep\n     * @property {number} angle\n     */\n    this.angle = typeof(options.angle) !== 'undefined' ? options.angle : 0;\n}\n\nConeEquation.prototype = new Equation();\nConeEquation.prototype.constructor = ConeEquation;\n\nvar tmpVec1 = new Vec3();\nvar tmpVec2 = new Vec3();\n\nConeEquation.prototype.computeB = function(h){\n    var a = this.a,\n        b = this.b,\n\n        ni = this.axisA,\n        nj = this.axisB,\n\n        nixnj = tmpVec1,\n        njxni = tmpVec2,\n\n        GA = this.jacobianElementA,\n        GB = this.jacobianElementB;\n\n    // Caluclate cross products\n    ni.cross(nj, nixnj);\n    nj.cross(ni, njxni);\n\n    // The angle between two vector is:\n    // cos(theta) = a * b / (length(a) * length(b) = { len(a) = len(b) = 1 } = a * b\n\n    // g = a * b\n    // gdot = (b x a) * wi + (a x b) * wj\n    // G = [0 bxa 0 axb]\n    // W = [vi wi vj wj]\n    GA.rotational.copy(njxni);\n    GB.rotational.copy(nixnj);\n\n    var g = Math.cos(this.angle) - ni.dot(nj),\n        GW = this.computeGW(),\n        GiMf = this.computeGiMf();\n\n    var B = - g * a - GW * b - h * GiMf;\n\n    return B;\n};\n\n\n},{\"../math/Mat3\":27,\"../math/Vec3\":30,\"./Equation\":20}],19:[function(_dereq_,module,exports){\nmodule.exports = ContactEquation;\n\nvar Equation = _dereq_('./Equation');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Mat3 = _dereq_('../math/Mat3');\n\n/**\n * Contact/non-penetration constraint equation\n * @class ContactEquation\n * @constructor\n * @author schteppe\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @extends Equation\n */\nfunction ContactEquation(bodyA, bodyB, maxForce){\n    maxForce = typeof(maxForce) !== 'undefined' ? maxForce : 1e6;\n    Equation.call(this, bodyA, bodyB, 0, maxForce);\n\n    /**\n     * @property restitution\n     * @type {Number}\n     */\n    this.restitution = 0.0; // \"bounciness\": u1 = -e*u0\n\n    /**\n     * World-oriented vector that goes from the center of bi to the contact point.\n     * @property {Vec3} ri\n     */\n    this.ri = new Vec3();\n\n    /**\n     * World-oriented vector that starts in body j position and goes to the contact point.\n     * @property {Vec3} rj\n     */\n    this.rj = new Vec3();\n\n    /**\n     * Contact normal, pointing out of body i.\n     * @property {Vec3} ni\n     */\n    this.ni = new Vec3();\n}\n\nContactEquation.prototype = new Equation();\nContactEquation.prototype.constructor = ContactEquation;\n\nvar ContactEquation_computeB_temp1 = new Vec3(); // Temp vectors\nvar ContactEquation_computeB_temp2 = new Vec3();\nvar ContactEquation_computeB_temp3 = new Vec3();\nContactEquation.prototype.computeB = function(h){\n    var a = this.a,\n        b = this.b,\n        bi = this.bi,\n        bj = this.bj,\n        ri = this.ri,\n        rj = this.rj,\n        rixn = ContactEquation_computeB_temp1,\n        rjxn = ContactEquation_computeB_temp2,\n\n        vi = bi.velocity,\n        wi = bi.angularVelocity,\n        fi = bi.force,\n        taui = bi.torque,\n\n        vj = bj.velocity,\n        wj = bj.angularVelocity,\n        fj = bj.force,\n        tauj = bj.torque,\n\n        penetrationVec = ContactEquation_computeB_temp3,\n\n        GA = this.jacobianElementA,\n        GB = this.jacobianElementB,\n\n        n = this.ni;\n\n    // Caluclate cross products\n    ri.cross(n,rixn);\n    rj.cross(n,rjxn);\n\n    // g = xj+rj -(xi+ri)\n    // G = [ -ni  -rixn  ni  rjxn ]\n    n.negate(GA.spatial);\n    rixn.negate(GA.rotational);\n    GB.spatial.copy(n);\n    GB.rotational.copy(rjxn);\n\n    // Calculate the penetration vector\n    penetrationVec.copy(bj.position);\n    penetrationVec.vadd(rj,penetrationVec);\n    penetrationVec.vsub(bi.position,penetrationVec);\n    penetrationVec.vsub(ri,penetrationVec);\n\n    var g = n.dot(penetrationVec);\n\n    // Compute iteration\n    var ePlusOne = this.restitution + 1;\n    var GW = ePlusOne * vj.dot(n) - ePlusOne * vi.dot(n) + wj.dot(rjxn) - wi.dot(rixn);\n    var GiMf = this.computeGiMf();\n\n    var B = - g * a - GW * b - h*GiMf;\n\n    return B;\n};\n\nvar ContactEquation_getImpactVelocityAlongNormal_vi = new Vec3();\nvar ContactEquation_getImpactVelocityAlongNormal_vj = new Vec3();\nvar ContactEquation_getImpactVelocityAlongNormal_xi = new Vec3();\nvar ContactEquation_getImpactVelocityAlongNormal_xj = new Vec3();\nvar ContactEquation_getImpactVelocityAlongNormal_relVel = new Vec3();\n\n/**\n * Get the current relative velocity in the contact point.\n * @method getImpactVelocityAlongNormal\n * @return {number}\n */\nContactEquation.prototype.getImpactVelocityAlongNormal = function(){\n    var vi = ContactEquation_getImpactVelocityAlongNormal_vi;\n    var vj = ContactEquation_getImpactVelocityAlongNormal_vj;\n    var xi = ContactEquation_getImpactVelocityAlongNormal_xi;\n    var xj = ContactEquation_getImpactVelocityAlongNormal_xj;\n    var relVel = ContactEquation_getImpactVelocityAlongNormal_relVel;\n\n    this.bi.position.vadd(this.ri, xi);\n    this.bj.position.vadd(this.rj, xj);\n\n    this.bi.getVelocityAtWorldPoint(xi, vi);\n    this.bj.getVelocityAtWorldPoint(xj, vj);\n\n    vi.vsub(vj, relVel);\n\n    return this.ni.dot(relVel);\n};\n\n\n},{\"../math/Mat3\":27,\"../math/Vec3\":30,\"./Equation\":20}],20:[function(_dereq_,module,exports){\nmodule.exports = Equation;\n\nvar JacobianElement = _dereq_('../math/JacobianElement'),\n    Vec3 = _dereq_('../math/Vec3');\n\n/**\n * Equation base class\n * @class Equation\n * @constructor\n * @author schteppe\n * @param {Body} bi\n * @param {Body} bj\n * @param {Number} minForce Minimum (read: negative max) force to be applied by the constraint.\n * @param {Number} maxForce Maximum (read: positive max) force to be applied by the constraint.\n */\nfunction Equation(bi,bj,minForce,maxForce){\n    this.id = Equation.id++;\n\n    /**\n     * @property {number} minForce\n     */\n    this.minForce = typeof(minForce)===\"undefined\" ? -1e6 : minForce;\n\n    /**\n     * @property {number} maxForce\n     */\n    this.maxForce = typeof(maxForce)===\"undefined\" ? 1e6 : maxForce;\n\n    /**\n     * @property bi\n     * @type {Body}\n     */\n    this.bi = bi;\n\n    /**\n     * @property bj\n     * @type {Body}\n     */\n    this.bj = bj;\n\n    /**\n     * SPOOK parameter\n     * @property {number} a\n     */\n    this.a = 0.0;\n\n    /**\n     * SPOOK parameter\n     * @property {number} b\n     */\n    this.b = 0.0;\n\n    /**\n     * SPOOK parameter\n     * @property {number} eps\n     */\n    this.eps = 0.0;\n\n    /**\n     * @property {JacobianElement} jacobianElementA\n     */\n    this.jacobianElementA = new JacobianElement();\n\n    /**\n     * @property {JacobianElement} jacobianElementB\n     */\n    this.jacobianElementB = new JacobianElement();\n\n    /**\n     * @property {boolean} enabled\n     * @default true\n     */\n    this.enabled = true;\n\n    // Set typical spook params\n    this.setSpookParams(1e7,4,1/60);\n}\nEquation.prototype.constructor = Equation;\n\nEquation.id = 0;\n\n/**\n * Recalculates a,b,eps.\n * @method setSpookParams\n */\nEquation.prototype.setSpookParams = function(stiffness,relaxation,timeStep){\n    var d = relaxation,\n        k = stiffness,\n        h = timeStep;\n    this.a = 4.0 / (h * (1 + 4 * d));\n    this.b = (4.0 * d) / (1 + 4 * d);\n    this.eps = 4.0 / (h * h * k * (1 + 4 * d));\n};\n\n/**\n * Computes the RHS of the SPOOK equation\n * @method computeB\n * @return {Number}\n */\nEquation.prototype.computeB = function(a,b,h){\n    var GW = this.computeGW(),\n        Gq = this.computeGq(),\n        GiMf = this.computeGiMf();\n    return - Gq * a - GW * b - GiMf*h;\n};\n\n/**\n * Computes G*q, where q are the generalized body coordinates\n * @method computeGq\n * @return {Number}\n */\nEquation.prototype.computeGq = function(){\n    var GA = this.jacobianElementA,\n        GB = this.jacobianElementB,\n        bi = this.bi,\n        bj = this.bj,\n        xi = bi.position,\n        xj = bj.position;\n    return GA.spatial.dot(xi) + GB.spatial.dot(xj);\n};\n\nvar zero = new Vec3();\n\n/**\n * Computes G*W, where W are the body velocities\n * @method computeGW\n * @return {Number}\n */\nEquation.prototype.computeGW = function(){\n    var GA = this.jacobianElementA,\n        GB = this.jacobianElementB,\n        bi = this.bi,\n        bj = this.bj,\n        vi = bi.velocity,\n        vj = bj.velocity,\n        wi = bi.angularVelocity || zero,\n        wj = bj.angularVelocity || zero;\n    return GA.multiplyVectors(vi,wi) + GB.multiplyVectors(vj,wj);\n};\n\n\n/**\n * Computes G*Wlambda, where W are the body velocities\n * @method computeGWlambda\n * @return {Number}\n */\nEquation.prototype.computeGWlambda = function(){\n    var GA = this.jacobianElementA,\n        GB = this.jacobianElementB,\n        bi = this.bi,\n        bj = this.bj,\n        vi = bi.vlambda,\n        vj = bj.vlambda,\n        wi = bi.wlambda || zero,\n        wj = bj.wlambda || zero;\n    return GA.multiplyVectors(vi,wi) + GB.multiplyVectors(vj,wj);\n};\n\n/**\n * Computes G*inv(M)*f, where M is the mass matrix with diagonal blocks for each body, and f are the forces on the bodies.\n * @method computeGiMf\n * @return {Number}\n */\nvar iMfi = new Vec3(),\n    iMfj = new Vec3(),\n    invIi_vmult_taui = new Vec3(),\n    invIj_vmult_tauj = new Vec3();\nEquation.prototype.computeGiMf = function(){\n    var GA = this.jacobianElementA,\n        GB = this.jacobianElementB,\n        bi = this.bi,\n        bj = this.bj,\n        fi = bi.force,\n        ti = bi.torque,\n        fj = bj.force,\n        tj = bj.torque,\n        invMassi = bi.invMassSolve,\n        invMassj = bj.invMassSolve;\n\n    if(bi.invInertiaWorldSolve){ bi.invInertiaWorldSolve.vmult(ti,invIi_vmult_taui); }\n    else { invIi_vmult_taui.set(0,0,0); }\n    if(bj.invInertiaWorldSolve){ bj.invInertiaWorldSolve.vmult(tj,invIj_vmult_tauj); }\n    else { invIj_vmult_tauj.set(0,0,0); }\n\n    fi.mult(invMassi,iMfi);\n    fj.mult(invMassj,iMfj);\n\n    return GA.multiplyVectors(iMfi,invIi_vmult_taui) + GB.multiplyVectors(iMfj,invIj_vmult_tauj);\n};\n\n/**\n * Computes G*inv(M)*G'\n * @method computeGiMGt\n * @return {Number}\n */\nvar tmp = new Vec3();\nEquation.prototype.computeGiMGt = function(){\n    var GA = this.jacobianElementA,\n        GB = this.jacobianElementB,\n        bi = this.bi,\n        bj = this.bj,\n        invMassi = bi.invMassSolve,\n        invMassj = bj.invMassSolve,\n        invIi = bi.invInertiaWorldSolve,\n        invIj = bj.invInertiaWorldSolve,\n        result = invMassi + invMassj;\n\n    if(invIi){\n        invIi.vmult(GA.rotational,tmp);\n        result += tmp.dot(GA.rotational);\n    }\n\n    if(invIj){\n        invIj.vmult(GB.rotational,tmp);\n        result += tmp.dot(GB.rotational);\n    }\n\n    return  result;\n};\n\nvar addToWlambda_temp = new Vec3(),\n    addToWlambda_Gi = new Vec3(),\n    addToWlambda_Gj = new Vec3(),\n    addToWlambda_ri = new Vec3(),\n    addToWlambda_rj = new Vec3(),\n    addToWlambda_Mdiag = new Vec3();\n\n/**\n * Add constraint velocity to the bodies.\n * @method addToWlambda\n * @param {Number} deltalambda\n */\nEquation.prototype.addToWlambda = function(deltalambda){\n    var GA = this.jacobianElementA,\n        GB = this.jacobianElementB,\n        bi = this.bi,\n        bj = this.bj,\n        temp = addToWlambda_temp;\n\n    // Add to linear velocity\n    // v_lambda += inv(M) * delta_lamba * G\n    GA.spatial.mult(bi.invMassSolve * deltalambda,temp);\n    bi.vlambda.vadd(temp, bi.vlambda);\n\n    GB.spatial.mult(bj.invMassSolve * deltalambda,temp);\n    bj.vlambda.vadd(temp, bj.vlambda);\n\n    // Add to angular velocity\n    if(bi.invInertiaWorldSolve){\n        bi.invInertiaWorldSolve.vmult(GA.rotational,temp);\n        temp.mult(deltalambda,temp);\n        bi.wlambda.vadd(temp,bi.wlambda);\n    }\n\n    if(bj.invInertiaWorldSolve){\n        bj.invInertiaWorldSolve.vmult(GB.rotational,temp);\n        temp.mult(deltalambda,temp);\n        bj.wlambda.vadd(temp,bj.wlambda);\n    }\n};\n\n/**\n * Compute the denominator part of the SPOOK equation: C = G*inv(M)*G' + eps\n * @method computeInvC\n * @param  {Number} eps\n * @return {Number}\n */\nEquation.prototype.computeC = function(){\n    return this.computeGiMGt() + this.eps;\n};\n\n},{\"../math/JacobianElement\":26,\"../math/Vec3\":30}],21:[function(_dereq_,module,exports){\nmodule.exports = FrictionEquation;\n\nvar Equation = _dereq_('./Equation');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Mat3 = _dereq_('../math/Mat3');\n\n/**\n * Constrains the slipping in a contact along a tangent\n * @class FrictionEquation\n * @constructor\n * @author schteppe\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {Number} slipForce should be +-F_friction = +-mu * F_normal = +-mu * m * g\n * @extends Equation\n */\nfunction FrictionEquation(bodyA, bodyB, slipForce){\n    Equation.call(this,bodyA, bodyB, -slipForce, slipForce);\n    this.ri = new Vec3();\n    this.rj = new Vec3();\n    this.t = new Vec3(); // tangent\n}\n\nFrictionEquation.prototype = new Equation();\nFrictionEquation.prototype.constructor = FrictionEquation;\n\nvar FrictionEquation_computeB_temp1 = new Vec3();\nvar FrictionEquation_computeB_temp2 = new Vec3();\nFrictionEquation.prototype.computeB = function(h){\n    var a = this.a,\n        b = this.b,\n        bi = this.bi,\n        bj = this.bj,\n        ri = this.ri,\n        rj = this.rj,\n        rixt = FrictionEquation_computeB_temp1,\n        rjxt = FrictionEquation_computeB_temp2,\n        t = this.t;\n\n    // Caluclate cross products\n    ri.cross(t,rixt);\n    rj.cross(t,rjxt);\n\n    // G = [-t -rixt t rjxt]\n    // And remember, this is a pure velocity constraint, g is always zero!\n    var GA = this.jacobianElementA,\n        GB = this.jacobianElementB;\n    t.negate(GA.spatial);\n    rixt.negate(GA.rotational);\n    GB.spatial.copy(t);\n    GB.rotational.copy(rjxt);\n\n    var GW = this.computeGW();\n    var GiMf = this.computeGiMf();\n\n    var B = - GW * b - h * GiMf;\n\n    return B;\n};\n\n},{\"../math/Mat3\":27,\"../math/Vec3\":30,\"./Equation\":20}],22:[function(_dereq_,module,exports){\nmodule.exports = RotationalEquation;\n\nvar Vec3 = _dereq_('../math/Vec3');\nvar Mat3 = _dereq_('../math/Mat3');\nvar Equation = _dereq_('./Equation');\n\n/**\n * Rotational constraint. Works to keep the local vectors orthogonal to each other in world space.\n * @class RotationalEquation\n * @constructor\n * @author schteppe\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {Vec3} [options.axisA]\n * @param {Vec3} [options.axisB]\n * @param {number} [options.maxForce]\n * @extends Equation\n */\nfunction RotationalEquation(bodyA, bodyB, options){\n    options = options || {};\n    var maxForce = typeof(options.maxForce) !== 'undefined' ? options.maxForce : 1e6;\n\n    Equation.call(this,bodyA,bodyB,-maxForce, maxForce);\n\n    this.axisA = options.axisA ? options.axisA.clone() : new Vec3(1, 0, 0);\n    this.axisB = options.axisB ? options.axisB.clone() : new Vec3(0, 1, 0);\n\n    this.maxAngle = Math.PI / 2;\n}\n\nRotationalEquation.prototype = new Equation();\nRotationalEquation.prototype.constructor = RotationalEquation;\n\nvar tmpVec1 = new Vec3();\nvar tmpVec2 = new Vec3();\n\nRotationalEquation.prototype.computeB = function(h){\n    var a = this.a,\n        b = this.b,\n\n        ni = this.axisA,\n        nj = this.axisB,\n\n        nixnj = tmpVec1,\n        njxni = tmpVec2,\n\n        GA = this.jacobianElementA,\n        GB = this.jacobianElementB;\n\n    // Caluclate cross products\n    ni.cross(nj, nixnj);\n    nj.cross(ni, njxni);\n\n    // g = ni * nj\n    // gdot = (nj x ni) * wi + (ni x nj) * wj\n    // G = [0 njxni 0 nixnj]\n    // W = [vi wi vj wj]\n    GA.rotational.copy(njxni);\n    GB.rotational.copy(nixnj);\n\n    var g = Math.cos(this.maxAngle) - ni.dot(nj),\n        GW = this.computeGW(),\n        GiMf = this.computeGiMf();\n\n    var B = - g * a - GW * b - h * GiMf;\n\n    return B;\n};\n\n\n},{\"../math/Mat3\":27,\"../math/Vec3\":30,\"./Equation\":20}],23:[function(_dereq_,module,exports){\nmodule.exports = RotationalMotorEquation;\n\nvar Vec3 = _dereq_('../math/Vec3');\nvar Mat3 = _dereq_('../math/Mat3');\nvar Equation = _dereq_('./Equation');\n\n/**\n * Rotational motor constraint. Tries to keep the relative angular velocity of the bodies to a given value.\n * @class RotationalMotorEquation\n * @constructor\n * @author schteppe\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {Number} maxForce\n * @extends Equation\n */\nfunction RotationalMotorEquation(bodyA, bodyB, maxForce){\n    maxForce = typeof(maxForce)!=='undefined' ? maxForce : 1e6;\n    Equation.call(this,bodyA,bodyB,-maxForce,maxForce);\n\n    /**\n     * World oriented rotational axis\n     * @property {Vec3} axisA\n     */\n    this.axisA = new Vec3();\n\n    /**\n     * World oriented rotational axis\n     * @property {Vec3} axisB\n     */\n    this.axisB = new Vec3(); // World oriented rotational axis\n\n    /**\n     * Motor velocity\n     * @property {Number} targetVelocity\n     */\n    this.targetVelocity = 0;\n}\n\nRotationalMotorEquation.prototype = new Equation();\nRotationalMotorEquation.prototype.constructor = RotationalMotorEquation;\n\nRotationalMotorEquation.prototype.computeB = function(h){\n    var a = this.a,\n        b = this.b,\n        bi = this.bi,\n        bj = this.bj,\n\n        axisA = this.axisA,\n        axisB = this.axisB,\n\n        GA = this.jacobianElementA,\n        GB = this.jacobianElementB;\n\n    // g = 0\n    // gdot = axisA * wi - axisB * wj\n    // gdot = G * W = G * [vi wi vj wj]\n    // =>\n    // G = [0 axisA 0 -axisB]\n\n    GA.rotational.copy(axisA);\n    axisB.negate(GB.rotational);\n\n    var GW = this.computeGW() - this.targetVelocity,\n        GiMf = this.computeGiMf();\n\n    var B = - GW * b - h * GiMf;\n\n    return B;\n};\n\n},{\"../math/Mat3\":27,\"../math/Vec3\":30,\"./Equation\":20}],24:[function(_dereq_,module,exports){\nvar Utils = _dereq_('../utils/Utils');\n\nmodule.exports = ContactMaterial;\n\n/**\n * Defines what happens when two materials meet.\n * @class ContactMaterial\n * @constructor\n * @param {Material} m1\n * @param {Material} m2\n * @param {object} [options]\n * @param {Number} [options.friction=0.3]\n * @param {Number} [options.restitution=0.3]\n * @param {number} [options.contactEquationStiffness=1e7]\n * @param {number} [options.contactEquationRelaxation=3]\n * @param {number} [options.frictionEquationStiffness=1e7]\n * @param {Number} [options.frictionEquationRelaxation=3]\n */\nfunction ContactMaterial(m1, m2, options){\n    options = Utils.defaults(options, {\n        friction: 0.3,\n        restitution: 0.3,\n        contactEquationStiffness: 1e7,\n        contactEquationRelaxation: 3,\n        frictionEquationStiffness: 1e7,\n        frictionEquationRelaxation: 3\n    });\n\n    /**\n     * Identifier of this material\n     * @property {Number} id\n     */\n    this.id = ContactMaterial.idCounter++;\n\n    /**\n     * Participating materials\n     * @property {Array} materials\n     * @todo  Should be .materialA and .materialB instead\n     */\n    this.materials = [m1, m2];\n\n    /**\n     * Friction coefficient\n     * @property {Number} friction\n     */\n    this.friction = options.friction;\n\n    /**\n     * Restitution coefficient\n     * @property {Number} restitution\n     */\n    this.restitution = options.restitution;\n\n    /**\n     * Stiffness of the produced contact equations\n     * @property {Number} contactEquationStiffness\n     */\n    this.contactEquationStiffness = options.contactEquationStiffness;\n\n    /**\n     * Relaxation time of the produced contact equations\n     * @property {Number} contactEquationRelaxation\n     */\n    this.contactEquationRelaxation = options.contactEquationRelaxation;\n\n    /**\n     * Stiffness of the produced friction equations\n     * @property {Number} frictionEquationStiffness\n     */\n    this.frictionEquationStiffness = options.frictionEquationStiffness;\n\n    /**\n     * Relaxation time of the produced friction equations\n     * @property {Number} frictionEquationRelaxation\n     */\n    this.frictionEquationRelaxation = options.frictionEquationRelaxation;\n}\n\nContactMaterial.idCounter = 0;\n\n},{\"../utils/Utils\":53}],25:[function(_dereq_,module,exports){\nmodule.exports = Material;\n\n/**\n * Defines a physics material.\n * @class Material\n * @constructor\n * @param {object} [options]\n * @author schteppe\n */\nfunction Material(options){\n    var name = '';\n    options = options || {};\n\n    // Backwards compatibility fix\n    if(typeof(options) === 'string'){\n        name = options;\n        options = {};\n    } else if(typeof(options) === 'object') {\n        name = '';\n    }\n\n    /**\n     * @property name\n     * @type {String}\n     */\n    this.name = name;\n\n    /**\n     * material id.\n     * @property id\n     * @type {number}\n     */\n    this.id = Material.idCounter++;\n\n    /**\n     * Friction for this material. If non-negative, it will be used instead of the friction given by ContactMaterials. If there's no matching ContactMaterial, the value from .defaultContactMaterial in the World will be used.\n     * @property {number} friction\n     */\n    this.friction = typeof(options.friction) !== 'undefined' ? options.friction : -1;\n\n    /**\n     * Restitution for this material. If non-negative, it will be used instead of the restitution given by ContactMaterials. If there's no matching ContactMaterial, the value from .defaultContactMaterial in the World will be used.\n     * @property {number} restitution\n     */\n    this.restitution = typeof(options.restitution) !== 'undefined' ? options.restitution : -1;\n}\n\nMaterial.idCounter = 0;\n\n},{}],26:[function(_dereq_,module,exports){\nmodule.exports = JacobianElement;\n\nvar Vec3 = _dereq_('./Vec3');\n\n/**\n * An element containing 6 entries, 3 spatial and 3 rotational degrees of freedom.\n * @class JacobianElement\n * @constructor\n */\nfunction JacobianElement(){\n\n    /**\n     * @property {Vec3} spatial\n     */\n    this.spatial = new Vec3();\n\n    /**\n     * @property {Vec3} rotational\n     */\n    this.rotational = new Vec3();\n}\n\n/**\n * Multiply with other JacobianElement\n * @method multiplyElement\n * @param  {JacobianElement} element\n * @return {Number}\n */\nJacobianElement.prototype.multiplyElement = function(element){\n    return element.spatial.dot(this.spatial) + element.rotational.dot(this.rotational);\n};\n\n/**\n * Multiply with two vectors\n * @method multiplyVectors\n * @param  {Vec3} spatial\n * @param  {Vec3} rotational\n * @return {Number}\n */\nJacobianElement.prototype.multiplyVectors = function(spatial,rotational){\n    return spatial.dot(this.spatial) + rotational.dot(this.rotational);\n};\n\n},{\"./Vec3\":30}],27:[function(_dereq_,module,exports){\nmodule.exports = Mat3;\n\nvar Vec3 = _dereq_('./Vec3');\n\n/**\n * A 3x3 matrix.\n * @class Mat3\n * @constructor\n * @param array elements Array of nine elements. Optional.\n * @author schteppe / http://github.com/schteppe\n */\nfunction Mat3(elements){\n    /**\n     * A vector of length 9, containing all matrix elements\n     * @property {Array} elements\n     */\n    if(elements){\n        this.elements = elements;\n    } else {\n        this.elements = [0,0,0,0,0,0,0,0,0];\n    }\n}\n\n/**\n * Sets the matrix to identity\n * @method identity\n * @todo Should perhaps be renamed to setIdentity() to be more clear.\n * @todo Create another function that immediately creates an identity matrix eg. eye()\n */\nMat3.prototype.identity = function(){\n    var e = this.elements;\n    e[0] = 1;\n    e[1] = 0;\n    e[2] = 0;\n\n    e[3] = 0;\n    e[4] = 1;\n    e[5] = 0;\n\n    e[6] = 0;\n    e[7] = 0;\n    e[8] = 1;\n};\n\n/**\n * Set all elements to zero\n * @method setZero\n */\nMat3.prototype.setZero = function(){\n    var e = this.elements;\n    e[0] = 0;\n    e[1] = 0;\n    e[2] = 0;\n    e[3] = 0;\n    e[4] = 0;\n    e[5] = 0;\n    e[6] = 0;\n    e[7] = 0;\n    e[8] = 0;\n};\n\n/**\n * Sets the matrix diagonal elements from a Vec3\n * @method setTrace\n * @param {Vec3} vec3\n */\nMat3.prototype.setTrace = function(vec3){\n    var e = this.elements;\n    e[0] = vec3.x;\n    e[4] = vec3.y;\n    e[8] = vec3.z;\n};\n\n/**\n * Gets the matrix diagonal elements\n * @method getTrace\n * @return {Vec3}\n */\nMat3.prototype.getTrace = function(target){\n    var target = target || new Vec3();\n    var e = this.elements;\n    target.x = e[0];\n    target.y = e[4];\n    target.z = e[8];\n};\n\n/**\n * Matrix-Vector multiplication\n * @method vmult\n * @param {Vec3} v The vector to multiply with\n * @param {Vec3} target Optional, target to save the result in.\n */\nMat3.prototype.vmult = function(v,target){\n    target = target || new Vec3();\n\n    var e = this.elements,\n        x = v.x,\n        y = v.y,\n        z = v.z;\n    target.x = e[0]*x + e[1]*y + e[2]*z;\n    target.y = e[3]*x + e[4]*y + e[5]*z;\n    target.z = e[6]*x + e[7]*y + e[8]*z;\n\n    return target;\n};\n\n/**\n * Matrix-scalar multiplication\n * @method smult\n * @param {Number} s\n */\nMat3.prototype.smult = function(s){\n    for(var i=0; i<this.elements.length; i++){\n        this.elements[i] *= s;\n    }\n};\n\n/**\n * Matrix multiplication\n * @method mmult\n * @param {Mat3} m Matrix to multiply with from left side.\n * @return {Mat3} The result.\n */\nMat3.prototype.mmult = function(m,target){\n    var r = target || new Mat3();\n    for(var i=0; i<3; i++){\n        for(var j=0; j<3; j++){\n            var sum = 0.0;\n            for(var k=0; k<3; k++){\n                sum += m.elements[i+k*3] * this.elements[k+j*3];\n            }\n            r.elements[i+j*3] = sum;\n        }\n    }\n    return r;\n};\n\n/**\n * Scale each column of the matrix\n * @method scale\n * @param {Vec3} v\n * @return {Mat3} The result.\n */\nMat3.prototype.scale = function(v,target){\n    target = target || new Mat3();\n    var e = this.elements,\n        t = target.elements;\n    for(var i=0; i!==3; i++){\n        t[3*i + 0] = v.x * e[3*i + 0];\n        t[3*i + 1] = v.y * e[3*i + 1];\n        t[3*i + 2] = v.z * e[3*i + 2];\n    }\n    return target;\n};\n\n/**\n * Solve Ax=b\n * @method solve\n * @param {Vec3} b The right hand side\n * @param {Vec3} target Optional. Target vector to save in.\n * @return {Vec3} The solution x\n * @todo should reuse arrays\n */\nMat3.prototype.solve = function(b,target){\n    target = target || new Vec3();\n\n    // Construct equations\n    var nr = 3; // num rows\n    var nc = 4; // num cols\n    var eqns = [];\n    for(var i=0; i<nr*nc; i++){\n        eqns.push(0);\n    }\n    var i,j;\n    for(i=0; i<3; i++){\n        for(j=0; j<3; j++){\n            eqns[i+nc*j] = this.elements[i+3*j];\n        }\n    }\n    eqns[3+4*0] = b.x;\n    eqns[3+4*1] = b.y;\n    eqns[3+4*2] = b.z;\n\n    // Compute right upper triangular version of the matrix - Gauss elimination\n    var n = 3, k = n, np;\n    var kp = 4; // num rows\n    var p, els;\n    do {\n        i = k - n;\n        if (eqns[i+nc*i] === 0) {\n            // the pivot is null, swap lines\n            for (j = i + 1; j < k; j++) {\n                if (eqns[i+nc*j] !== 0) {\n                    np = kp;\n                    do {  // do ligne( i ) = ligne( i ) + ligne( k )\n                        p = kp - np;\n                        eqns[p+nc*i] += eqns[p+nc*j];\n                    } while (--np);\n                    break;\n                }\n            }\n        }\n        if (eqns[i+nc*i] !== 0) {\n            for (j = i + 1; j < k; j++) {\n                var multiplier = eqns[i+nc*j] / eqns[i+nc*i];\n                np = kp;\n                do {  // do ligne( k ) = ligne( k ) - multiplier * ligne( i )\n                    p = kp - np;\n                    eqns[p+nc*j] = p <= i ? 0 : eqns[p+nc*j] - eqns[p+nc*i] * multiplier ;\n                } while (--np);\n            }\n        }\n    } while (--n);\n\n    // Get the solution\n    target.z = eqns[2*nc+3] / eqns[2*nc+2];\n    target.y = (eqns[1*nc+3] - eqns[1*nc+2]*target.z) / eqns[1*nc+1];\n    target.x = (eqns[0*nc+3] - eqns[0*nc+2]*target.z - eqns[0*nc+1]*target.y) / eqns[0*nc+0];\n\n    if(isNaN(target.x) || isNaN(target.y) || isNaN(target.z) || target.x===Infinity || target.y===Infinity || target.z===Infinity){\n        throw \"Could not solve equation! Got x=[\"+target.toString()+\"], b=[\"+b.toString()+\"], A=[\"+this.toString()+\"]\";\n    }\n\n    return target;\n};\n\n/**\n * Get an element in the matrix by index. Index starts at 0, not 1!!!\n * @method e\n * @param {Number} row\n * @param {Number} column\n * @param {Number} value Optional. If provided, the matrix element will be set to this value.\n * @return {Number}\n */\nMat3.prototype.e = function( row , column ,value){\n    if(value===undefined){\n        return this.elements[column+3*row];\n    } else {\n        // Set value\n        this.elements[column+3*row] = value;\n    }\n};\n\n/**\n * Copy another matrix into this matrix object.\n * @method copy\n * @param {Mat3} source\n * @return {Mat3} this\n */\nMat3.prototype.copy = function(source){\n    for(var i=0; i < source.elements.length; i++){\n        this.elements[i] = source.elements[i];\n    }\n    return this;\n};\n\n/**\n * Returns a string representation of the matrix.\n * @method toString\n * @return string\n */\nMat3.prototype.toString = function(){\n    var r = \"\";\n    var sep = \",\";\n    for(var i=0; i<9; i++){\n        r += this.elements[i] + sep;\n    }\n    return r;\n};\n\n/**\n * reverse the matrix\n * @method reverse\n * @param {Mat3} target Optional. Target matrix to save in.\n * @return {Mat3} The solution x\n */\nMat3.prototype.reverse = function(target){\n\n    target = target || new Mat3();\n\n    // Construct equations\n    var nr = 3; // num rows\n    var nc = 6; // num cols\n    var eqns = [];\n    for(var i=0; i<nr*nc; i++){\n        eqns.push(0);\n    }\n    var i,j;\n    for(i=0; i<3; i++){\n        for(j=0; j<3; j++){\n            eqns[i+nc*j] = this.elements[i+3*j];\n        }\n    }\n    eqns[3+6*0] = 1;\n    eqns[3+6*1] = 0;\n    eqns[3+6*2] = 0;\n    eqns[4+6*0] = 0;\n    eqns[4+6*1] = 1;\n    eqns[4+6*2] = 0;\n    eqns[5+6*0] = 0;\n    eqns[5+6*1] = 0;\n    eqns[5+6*2] = 1;\n\n    // Compute right upper triangular version of the matrix - Gauss elimination\n    var n = 3, k = n, np;\n    var kp = nc; // num rows\n    var p;\n    do {\n        i = k - n;\n        if (eqns[i+nc*i] === 0) {\n            // the pivot is null, swap lines\n            for (j = i + 1; j < k; j++) {\n                if (eqns[i+nc*j] !== 0) {\n                    np = kp;\n                    do { // do line( i ) = line( i ) + line( k )\n                        p = kp - np;\n                        eqns[p+nc*i] += eqns[p+nc*j];\n                    } while (--np);\n                    break;\n                }\n            }\n        }\n        if (eqns[i+nc*i] !== 0) {\n            for (j = i + 1; j < k; j++) {\n                var multiplier = eqns[i+nc*j] / eqns[i+nc*i];\n                np = kp;\n                do { // do line( k ) = line( k ) - multiplier * line( i )\n                    p = kp - np;\n                    eqns[p+nc*j] = p <= i ? 0 : eqns[p+nc*j] - eqns[p+nc*i] * multiplier ;\n                } while (--np);\n            }\n        }\n    } while (--n);\n\n    // eliminate the upper left triangle of the matrix\n    i = 2;\n    do {\n        j = i-1;\n        do {\n            var multiplier = eqns[i+nc*j] / eqns[i+nc*i];\n            np = nc;\n            do {\n                p = nc - np;\n                eqns[p+nc*j] =  eqns[p+nc*j] - eqns[p+nc*i] * multiplier ;\n            } while (--np);\n        } while (j--);\n    } while (--i);\n\n    // operations on the diagonal\n    i = 2;\n    do {\n        var multiplier = 1 / eqns[i+nc*i];\n        np = nc;\n        do {\n            p = nc - np;\n            eqns[p+nc*i] = eqns[p+nc*i] * multiplier ;\n        } while (--np);\n    } while (i--);\n\n    i = 2;\n    do {\n        j = 2;\n        do {\n            p = eqns[nr+j+nc*i];\n            if( isNaN( p ) || p ===Infinity ){\n                throw \"Could not reverse! A=[\"+this.toString()+\"]\";\n            }\n            target.e( i , j , p );\n        } while (j--);\n    } while (i--);\n\n    return target;\n};\n\n/**\n * Set the matrix from a quaterion\n * @method setRotationFromQuaternion\n * @param {Quaternion} q\n */\nMat3.prototype.setRotationFromQuaternion = function( q ) {\n    var x = q.x, y = q.y, z = q.z, w = q.w,\n        x2 = x + x, y2 = y + y, z2 = z + z,\n        xx = x * x2, xy = x * y2, xz = x * z2,\n        yy = y * y2, yz = y * z2, zz = z * z2,\n        wx = w * x2, wy = w * y2, wz = w * z2,\n        e = this.elements;\n\n    e[3*0 + 0] = 1 - ( yy + zz );\n    e[3*0 + 1] = xy - wz;\n    e[3*0 + 2] = xz + wy;\n\n    e[3*1 + 0] = xy + wz;\n    e[3*1 + 1] = 1 - ( xx + zz );\n    e[3*1 + 2] = yz - wx;\n\n    e[3*2 + 0] = xz - wy;\n    e[3*2 + 1] = yz + wx;\n    e[3*2 + 2] = 1 - ( xx + yy );\n\n    return this;\n};\n\n/**\n * Transpose the matrix\n * @method transpose\n * @param  {Mat3} target Where to store the result.\n * @return {Mat3} The target Mat3, or a new Mat3 if target was omitted.\n */\nMat3.prototype.transpose = function( target ) {\n    target = target || new Mat3();\n\n    var Mt = target.elements,\n        M = this.elements;\n\n    for(var i=0; i!==3; i++){\n        for(var j=0; j!==3; j++){\n            Mt[3*i + j] = M[3*j + i];\n        }\n    }\n\n    return target;\n};\n\n},{\"./Vec3\":30}],28:[function(_dereq_,module,exports){\nmodule.exports = Quaternion;\n\nvar Vec3 = _dereq_('./Vec3');\n\n/**\n * A Quaternion describes a rotation in 3D space. The Quaternion is mathematically defined as Q = x*i + y*j + z*k + w, where (i,j,k) are imaginary basis vectors. (x,y,z) can be seen as a vector related to the axis of rotation, while the real multiplier, w, is related to the amount of rotation.\n * @class Quaternion\n * @constructor\n * @param {Number} x Multiplier of the imaginary basis vector i.\n * @param {Number} y Multiplier of the imaginary basis vector j.\n * @param {Number} z Multiplier of the imaginary basis vector k.\n * @param {Number} w Multiplier of the real part.\n * @see http://en.wikipedia.org/wiki/Quaternion\n */\nfunction Quaternion(x,y,z,w){\n    /**\n     * @property {Number} x\n     */\n    this.x = x!==undefined ? x : 0;\n\n    /**\n     * @property {Number} y\n     */\n    this.y = y!==undefined ? y : 0;\n\n    /**\n     * @property {Number} z\n     */\n    this.z = z!==undefined ? z : 0;\n\n    /**\n     * The multiplier of the real quaternion basis vector.\n     * @property {Number} w\n     */\n    this.w = w!==undefined ? w : 1;\n}\n\n/**\n * Set the value of the quaternion.\n * @method set\n * @param {Number} x\n * @param {Number} y\n * @param {Number} z\n * @param {Number} w\n */\nQuaternion.prototype.set = function(x,y,z,w){\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.w = w;\n};\n\n/**\n * Convert to a readable format\n * @method toString\n * @return string\n */\nQuaternion.prototype.toString = function(){\n    return this.x+\",\"+this.y+\",\"+this.z+\",\"+this.w;\n};\n\n/**\n * Convert to an Array\n * @method toArray\n * @return Array\n */\nQuaternion.prototype.toArray = function(){\n    return [this.x, this.y, this.z, this.w];\n};\n\n/**\n * Set the quaternion components given an axis and an angle.\n * @method setFromAxisAngle\n * @param {Vec3} axis\n * @param {Number} angle in radians\n */\nQuaternion.prototype.setFromAxisAngle = function(axis,angle){\n    var s = Math.sin(angle*0.5);\n    this.x = axis.x * s;\n    this.y = axis.y * s;\n    this.z = axis.z * s;\n    this.w = Math.cos(angle*0.5);\n};\n\n/**\n * Converts the quaternion to axis/angle representation.\n * @method toAxisAngle\n * @param {Vec3} targetAxis Optional. A vector object to reuse for storing the axis.\n * @return Array An array, first elemnt is the axis and the second is the angle in radians.\n */\nQuaternion.prototype.toAxisAngle = function(targetAxis){\n    targetAxis = targetAxis || new Vec3();\n    this.normalize(); // if w>1 acos and sqrt will produce errors, this cant happen if quaternion is normalised\n    var angle = 2 * Math.acos(this.w);\n    var s = Math.sqrt(1-this.w*this.w); // assuming quaternion normalised then w is less than 1, so term always positive.\n    if (s < 0.001) { // test to avoid divide by zero, s is always positive due to sqrt\n        // if s close to zero then direction of axis not important\n        targetAxis.x = this.x; // if it is important that axis is normalised then replace with x=1; y=z=0;\n        targetAxis.y = this.y;\n        targetAxis.z = this.z;\n    } else {\n        targetAxis.x = this.x / s; // normalise axis\n        targetAxis.y = this.y / s;\n        targetAxis.z = this.z / s;\n    }\n    return [targetAxis,angle];\n};\n\nvar sfv_t1 = new Vec3(),\n    sfv_t2 = new Vec3();\n\n/**\n * Set the quaternion value given two vectors. The resulting rotation will be the needed rotation to rotate u to v.\n * @method setFromVectors\n * @param {Vec3} u\n * @param {Vec3} v\n */\nQuaternion.prototype.setFromVectors = function(u,v){\n    if(u.isAntiparallelTo(v)){\n        var t1 = sfv_t1;\n        var t2 = sfv_t2;\n\n        u.tangents(t1,t2);\n        this.setFromAxisAngle(t1,Math.PI);\n    } else {\n        var a = u.cross(v);\n        this.x = a.x;\n        this.y = a.y;\n        this.z = a.z;\n        this.w = Math.sqrt(Math.pow(u.norm(),2) * Math.pow(v.norm(),2)) + u.dot(v);\n        this.normalize();\n    }\n};\n\n/**\n * Quaternion multiplication\n * @method mult\n * @param {Quaternion} q\n * @param {Quaternion} target Optional.\n * @return {Quaternion}\n */\nvar Quaternion_mult_va = new Vec3();\nvar Quaternion_mult_vb = new Vec3();\nvar Quaternion_mult_vaxvb = new Vec3();\nQuaternion.prototype.mult = function(q,target){\n    target = target || new Quaternion();\n    var w = this.w,\n        va = Quaternion_mult_va,\n        vb = Quaternion_mult_vb,\n        vaxvb = Quaternion_mult_vaxvb;\n\n    va.set(this.x,this.y,this.z);\n    vb.set(q.x,q.y,q.z);\n    target.w = w*q.w - va.dot(vb);\n    va.cross(vb,vaxvb);\n\n    target.x = w * vb.x + q.w*va.x + vaxvb.x;\n    target.y = w * vb.y + q.w*va.y + vaxvb.y;\n    target.z = w * vb.z + q.w*va.z + vaxvb.z;\n\n    return target;\n};\n\n/**\n * Get the inverse quaternion rotation.\n * @method inverse\n * @param {Quaternion} target\n * @return {Quaternion}\n */\nQuaternion.prototype.inverse = function(target){\n    var x = this.x, y = this.y, z = this.z, w = this.w;\n    target = target || new Quaternion();\n\n    this.conjugate(target);\n    var inorm2 = 1/(x*x + y*y + z*z + w*w);\n    target.x *= inorm2;\n    target.y *= inorm2;\n    target.z *= inorm2;\n    target.w *= inorm2;\n\n    return target;\n};\n\n/**\n * Get the quaternion conjugate\n * @method conjugate\n * @param {Quaternion} target\n * @return {Quaternion}\n */\nQuaternion.prototype.conjugate = function(target){\n    target = target || new Quaternion();\n\n    target.x = -this.x;\n    target.y = -this.y;\n    target.z = -this.z;\n    target.w = this.w;\n\n    return target;\n};\n\n/**\n * Normalize the quaternion. Note that this changes the values of the quaternion.\n * @method normalize\n */\nQuaternion.prototype.normalize = function(){\n    var l = Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);\n    if ( l === 0 ) {\n        this.x = 0;\n        this.y = 0;\n        this.z = 0;\n        this.w = 0;\n    } else {\n        l = 1 / l;\n        this.x *= l;\n        this.y *= l;\n        this.z *= l;\n        this.w *= l;\n    }\n};\n\n/**\n * Approximation of quaternion normalization. Works best when quat is already almost-normalized.\n * @method normalizeFast\n * @see http://jsperf.com/fast-quaternion-normalization\n * @author unphased, https://github.com/unphased\n */\nQuaternion.prototype.normalizeFast = function () {\n    var f = (3.0-(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w))/2.0;\n    if ( f === 0 ) {\n        this.x = 0;\n        this.y = 0;\n        this.z = 0;\n        this.w = 0;\n    } else {\n        this.x *= f;\n        this.y *= f;\n        this.z *= f;\n        this.w *= f;\n    }\n};\n\n/**\n * Multiply the quaternion by a vector\n * @method vmult\n * @param {Vec3} v\n * @param {Vec3} target Optional\n * @return {Vec3}\n */\nQuaternion.prototype.vmult = function(v,target){\n    target = target || new Vec3();\n\n    var x = v.x,\n        y = v.y,\n        z = v.z;\n\n    var qx = this.x,\n        qy = this.y,\n        qz = this.z,\n        qw = this.w;\n\n    // q*v\n    var ix =  qw * x + qy * z - qz * y,\n    iy =  qw * y + qz * x - qx * z,\n    iz =  qw * z + qx * y - qy * x,\n    iw = -qx * x - qy * y - qz * z;\n\n    target.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n    target.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n    target.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n\n    return target;\n};\n\n/**\n * Copies value of source to this quaternion.\n * @method copy\n * @param {Quaternion} source\n * @return {Quaternion} this\n */\nQuaternion.prototype.copy = function(source){\n    this.x = source.x;\n    this.y = source.y;\n    this.z = source.z;\n    this.w = source.w;\n    return this;\n};\n\n/**\n * Convert the quaternion to euler angle representation. Order: YZX, as this page describes: http://www.euclideanspace.com/maths/standards/index.htm\n * @method toEuler\n * @param {Vec3} target\n * @param string order Three-character string e.g. \"YZX\", which also is default.\n */\nQuaternion.prototype.toEuler = function(target,order){\n    order = order || \"YZX\";\n\n    var heading, attitude, bank;\n    var x = this.x, y = this.y, z = this.z, w = this.w;\n\n    switch(order){\n    case \"YZX\":\n        var test = x*y + z*w;\n        if (test > 0.499) { // singularity at north pole\n            heading = 2 * Math.atan2(x,w);\n            attitude = Math.PI/2;\n            bank = 0;\n        }\n        if (test < -0.499) { // singularity at south pole\n            heading = -2 * Math.atan2(x,w);\n            attitude = - Math.PI/2;\n            bank = 0;\n        }\n        if(isNaN(heading)){\n            var sqx = x*x;\n            var sqy = y*y;\n            var sqz = z*z;\n            heading = Math.atan2(2*y*w - 2*x*z , 1 - 2*sqy - 2*sqz); // Heading\n            attitude = Math.asin(2*test); // attitude\n            bank = Math.atan2(2*x*w - 2*y*z , 1 - 2*sqx - 2*sqz); // bank\n        }\n        break;\n    default:\n        throw new Error(\"Euler order \"+order+\" not supported yet.\");\n    }\n\n    target.y = heading;\n    target.z = attitude;\n    target.x = bank;\n};\n\n/**\n * See http://www.mathworks.com/matlabcentral/fileexchange/20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/content/SpinCalc.m\n * @method setFromEuler\n * @param {Number} x\n * @param {Number} y\n * @param {Number} z\n * @param {String} order The order to apply angles: 'XYZ' or 'YXZ' or any other combination\n */\nQuaternion.prototype.setFromEuler = function ( x, y, z, order ) {\n    order = order || \"XYZ\";\n\n    var c1 = Math.cos( x / 2 );\n    var c2 = Math.cos( y / 2 );\n    var c3 = Math.cos( z / 2 );\n    var s1 = Math.sin( x / 2 );\n    var s2 = Math.sin( y / 2 );\n    var s3 = Math.sin( z / 2 );\n\n    if ( order === 'XYZ' ) {\n\n        this.x = s1 * c2 * c3 + c1 * s2 * s3;\n        this.y = c1 * s2 * c3 - s1 * c2 * s3;\n        this.z = c1 * c2 * s3 + s1 * s2 * c3;\n        this.w = c1 * c2 * c3 - s1 * s2 * s3;\n\n    } else if ( order === 'YXZ' ) {\n\n        this.x = s1 * c2 * c3 + c1 * s2 * s3;\n        this.y = c1 * s2 * c3 - s1 * c2 * s3;\n        this.z = c1 * c2 * s3 - s1 * s2 * c3;\n        this.w = c1 * c2 * c3 + s1 * s2 * s3;\n\n    } else if ( order === 'ZXY' ) {\n\n        this.x = s1 * c2 * c3 - c1 * s2 * s3;\n        this.y = c1 * s2 * c3 + s1 * c2 * s3;\n        this.z = c1 * c2 * s3 + s1 * s2 * c3;\n        this.w = c1 * c2 * c3 - s1 * s2 * s3;\n\n    } else if ( order === 'ZYX' ) {\n\n        this.x = s1 * c2 * c3 - c1 * s2 * s3;\n        this.y = c1 * s2 * c3 + s1 * c2 * s3;\n        this.z = c1 * c2 * s3 - s1 * s2 * c3;\n        this.w = c1 * c2 * c3 + s1 * s2 * s3;\n\n    } else if ( order === 'YZX' ) {\n\n        this.x = s1 * c2 * c3 + c1 * s2 * s3;\n        this.y = c1 * s2 * c3 + s1 * c2 * s3;\n        this.z = c1 * c2 * s3 - s1 * s2 * c3;\n        this.w = c1 * c2 * c3 - s1 * s2 * s3;\n\n    } else if ( order === 'XZY' ) {\n\n        this.x = s1 * c2 * c3 - c1 * s2 * s3;\n        this.y = c1 * s2 * c3 - s1 * c2 * s3;\n        this.z = c1 * c2 * s3 + s1 * s2 * c3;\n        this.w = c1 * c2 * c3 + s1 * s2 * s3;\n\n    }\n\n    return this;\n\n};\n\nQuaternion.prototype.clone = function(){\n    return new Quaternion(this.x, this.y, this.z, this.w);\n};\n},{\"./Vec3\":30}],29:[function(_dereq_,module,exports){\nvar Vec3 = _dereq_('./Vec3');\nvar Quaternion = _dereq_('./Quaternion');\n\nmodule.exports = Transform;\n\n/**\n * @class Transform\n * @constructor\n */\nfunction Transform(options) {\n    options = options || {};\n\n\t/**\n\t * @property {Vec3} position\n\t */\n\tthis.position = new Vec3();\n    if(options.position){\n        this.position.copy(options.position);\n    }\n\n\t/**\n\t * @property {Quaternion} quaternion\n\t */\n\tthis.quaternion = new Quaternion();\n    if(options.quaternion){\n        this.quaternion.copy(options.quaternion);\n    }\n}\n\nvar tmpQuat = new Quaternion();\n\n/**\n * @static\n * @method pointToLocaFrame\n * @param {Vec3} position\n * @param {Quaternion} quaternion\n * @param {Vec3} worldPoint\n * @param {Vec3} result\n */\nTransform.pointToLocalFrame = function(position, quaternion, worldPoint, result){\n    var result = result || new Vec3();\n    worldPoint.vsub(position, result);\n    quaternion.conjugate(tmpQuat);\n    tmpQuat.vmult(result, result);\n    return result;\n};\n\n/**\n * Get a global point in local transform coordinates.\n * @method pointToLocal\n * @param  {Vec3} point\n * @param  {Vec3} result\n * @return {Vec3} The \"result\" vector object\n */\nTransform.prototype.pointToLocal = function(worldPoint, result){\n    return Transform.pointToLocalFrame(this.position, this.quaternion, worldPoint, result);\n};\n\n/**\n * @static\n * @method pointToWorldFrame\n * @param {Vec3} position\n * @param {Vec3} quaternion\n * @param {Vec3} localPoint\n * @param {Vec3} result\n */\nTransform.pointToWorldFrame = function(position, quaternion, localPoint, result){\n    var result = result || new Vec3();\n    quaternion.vmult(localPoint, result);\n    result.vadd(position, result);\n    return result;\n};\n\n/**\n * Get a local point in global transform coordinates.\n * @method pointToWorld\n * @param  {Vec3} point\n * @param  {Vec3} result\n * @return {Vec3} The \"result\" vector object\n */\nTransform.prototype.pointToWorld = function(localPoint, result){\n    return Transform.pointToWorldFrame(this.position, this.quaternion, localPoint, result);\n};\n\n\nTransform.prototype.vectorToWorldFrame = function(localVector, result){\n    var result = result || new Vec3();\n    this.quaternion.vmult(localVector, result);\n    return result;\n};\n\nTransform.vectorToWorldFrame = function(quaternion, localVector, result){\n    quaternion.vmult(localVector, result);\n    return result;\n};\n\nTransform.vectorToLocalFrame = function(position, quaternion, worldVector, result){\n    var result = result || new Vec3();\n    quaternion.w *= -1;\n    quaternion.vmult(worldVector, result);\n    quaternion.w *= -1;\n    return result;\n};\n\n},{\"./Quaternion\":28,\"./Vec3\":30}],30:[function(_dereq_,module,exports){\nmodule.exports = Vec3;\n\nvar Mat3 = _dereq_('./Mat3');\n\n/**\n * 3-dimensional vector\n * @class Vec3\n * @constructor\n * @param {Number} x\n * @param {Number} y\n * @param {Number} z\n * @author schteppe\n * @example\n *     var v = new Vec3(1, 2, 3);\n *     console.log('x=' + v.x); // x=1\n */\nfunction Vec3(x,y,z){\n    /**\n     * @property x\n     * @type {Number}\n     */\n    this.x = x||0.0;\n\n    /**\n     * @property y\n     * @type {Number}\n     */\n    this.y = y||0.0;\n\n    /**\n     * @property z\n     * @type {Number}\n     */\n    this.z = z||0.0;\n}\n\n/**\n * @static\n * @property {Vec3} ZERO\n */\nVec3.ZERO = new Vec3(0, 0, 0);\n\n/**\n * @static\n * @property {Vec3} UNIT_X\n */\nVec3.UNIT_X = new Vec3(1, 0, 0);\n\n/**\n * @static\n * @property {Vec3} UNIT_Y\n */\nVec3.UNIT_Y = new Vec3(0, 1, 0);\n\n/**\n * @static\n * @property {Vec3} UNIT_Z\n */\nVec3.UNIT_Z = new Vec3(0, 0, 1);\n\n/**\n * Vector cross product\n * @method cross\n * @param {Vec3} v\n * @param {Vec3} target Optional. Target to save in.\n * @return {Vec3}\n */\nVec3.prototype.cross = function(v,target){\n    var vx=v.x, vy=v.y, vz=v.z, x=this.x, y=this.y, z=this.z;\n    target = target || new Vec3();\n\n    target.x = (y * vz) - (z * vy);\n    target.y = (z * vx) - (x * vz);\n    target.z = (x * vy) - (y * vx);\n\n    return target;\n};\n\n/**\n * Set the vectors' 3 elements\n * @method set\n * @param {Number} x\n * @param {Number} y\n * @param {Number} z\n * @return Vec3\n */\nVec3.prototype.set = function(x,y,z){\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    return this;\n};\n\n/**\n * Set all components of the vector to zero.\n * @method setZero\n */\nVec3.prototype.setZero = function(){\n    this.x = this.y = this.z = 0;\n};\n\n/**\n * Vector addition\n * @method vadd\n * @param {Vec3} v\n * @param {Vec3} target Optional.\n * @return {Vec3}\n */\nVec3.prototype.vadd = function(v,target){\n    if(target){\n        target.x = v.x + this.x;\n        target.y = v.y + this.y;\n        target.z = v.z + this.z;\n    } else {\n        return new Vec3(this.x + v.x,\n                               this.y + v.y,\n                               this.z + v.z);\n    }\n};\n\n/**\n * Vector subtraction\n * @method vsub\n * @param {Vec3} v\n * @param {Vec3} target Optional. Target to save in.\n * @return {Vec3}\n */\nVec3.prototype.vsub = function(v,target){\n    if(target){\n        target.x = this.x - v.x;\n        target.y = this.y - v.y;\n        target.z = this.z - v.z;\n    } else {\n        return new Vec3(this.x-v.x,\n                               this.y-v.y,\n                               this.z-v.z);\n    }\n};\n\n/**\n * Get the cross product matrix a_cross from a vector, such that a x b = a_cross * b = c\n * @method crossmat\n * @see http://www8.cs.umu.se/kurser/TDBD24/VT06/lectures/Lecture6.pdf\n * @return {Mat3}\n */\nVec3.prototype.crossmat = function(){\n    return new Mat3([     0,  -this.z,   this.y,\n                            this.z,        0,  -this.x,\n                           -this.y,   this.x,        0]);\n};\n\n/**\n * Normalize the vector. Note that this changes the values in the vector.\n * @method normalize\n * @return {Number} Returns the norm of the vector\n */\nVec3.prototype.normalize = function(){\n    var x=this.x, y=this.y, z=this.z;\n    var n = Math.sqrt(x*x + y*y + z*z);\n    if(n>0.0){\n        var invN = 1/n;\n        this.x *= invN;\n        this.y *= invN;\n        this.z *= invN;\n    } else {\n        // Make something up\n        this.x = 0;\n        this.y = 0;\n        this.z = 0;\n    }\n    return n;\n};\n\n/**\n * Get the version of this vector that is of length 1.\n * @method unit\n * @param {Vec3} target Optional target to save in\n * @return {Vec3} Returns the unit vector\n */\nVec3.prototype.unit = function(target){\n    target = target || new Vec3();\n    var x=this.x, y=this.y, z=this.z;\n    var ninv = Math.sqrt(x*x + y*y + z*z);\n    if(ninv>0.0){\n        ninv = 1.0/ninv;\n        target.x = x * ninv;\n        target.y = y * ninv;\n        target.z = z * ninv;\n    } else {\n        target.x = 1;\n        target.y = 0;\n        target.z = 0;\n    }\n    return target;\n};\n\n/**\n * Get the length of the vector\n * @method norm\n * @return {Number}\n * @deprecated Use .length() instead\n */\nVec3.prototype.norm = function(){\n    var x=this.x, y=this.y, z=this.z;\n    return Math.sqrt(x*x + y*y + z*z);\n};\n\n/**\n * Get the length of the vector\n * @method length\n * @return {Number}\n */\nVec3.prototype.length = Vec3.prototype.norm;\n\n/**\n * Get the squared length of the vector\n * @method norm2\n * @return {Number}\n * @deprecated Use .lengthSquared() instead.\n */\nVec3.prototype.norm2 = function(){\n    return this.dot(this);\n};\n\n/**\n * Get the squared length of the vector.\n * @method lengthSquared\n * @return {Number}\n */\nVec3.prototype.lengthSquared = Vec3.prototype.norm2;\n\n/**\n * Get distance from this point to another point\n * @method distanceTo\n * @param  {Vec3} p\n * @return {Number}\n */\nVec3.prototype.distanceTo = function(p){\n    var x=this.x, y=this.y, z=this.z;\n    var px=p.x, py=p.y, pz=p.z;\n    return Math.sqrt((px-x)*(px-x)+\n                     (py-y)*(py-y)+\n                     (pz-z)*(pz-z));\n};\n\n/**\n * Get squared distance from this point to another point\n * @method distanceSquared\n * @param  {Vec3} p\n * @return {Number}\n */\nVec3.prototype.distanceSquared = function(p){\n    var x=this.x, y=this.y, z=this.z;\n    var px=p.x, py=p.y, pz=p.z;\n    return (px-x)*(px-x) + (py-y)*(py-y) + (pz-z)*(pz-z);\n};\n\n/**\n * Multiply all the components of the vector with a scalar.\n * @deprecated Use .scale instead\n * @method mult\n * @param {Number} scalar\n * @param {Vec3} target The vector to save the result in.\n * @return {Vec3}\n * @deprecated Use .scale() instead\n */\nVec3.prototype.mult = function(scalar,target){\n    target = target || new Vec3();\n    var x = this.x,\n        y = this.y,\n        z = this.z;\n    target.x = scalar * x;\n    target.y = scalar * y;\n    target.z = scalar * z;\n    return target;\n};\n\n/**\n * Multiply the vector with a scalar.\n * @method scale\n * @param {Number} scalar\n * @param {Vec3} target\n * @return {Vec3}\n */\nVec3.prototype.scale = Vec3.prototype.mult;\n\n/**\n * Calculate dot product\n * @method dot\n * @param {Vec3} v\n * @return {Number}\n */\nVec3.prototype.dot = function(v){\n    return this.x * v.x + this.y * v.y + this.z * v.z;\n};\n\n/**\n * @method isZero\n * @return bool\n */\nVec3.prototype.isZero = function(){\n    return this.x===0 && this.y===0 && this.z===0;\n};\n\n/**\n * Make the vector point in the opposite direction.\n * @method negate\n * @param {Vec3} target Optional target to save in\n * @return {Vec3}\n */\nVec3.prototype.negate = function(target){\n    target = target || new Vec3();\n    target.x = -this.x;\n    target.y = -this.y;\n    target.z = -this.z;\n    return target;\n};\n\n/**\n * Compute two artificial tangents to the vector\n * @method tangents\n * @param {Vec3} t1 Vector object to save the first tangent in\n * @param {Vec3} t2 Vector object to save the second tangent in\n */\nvar Vec3_tangents_n = new Vec3();\nvar Vec3_tangents_randVec = new Vec3();\nVec3.prototype.tangents = function(t1,t2){\n    var norm = this.norm();\n    if(norm>0.0){\n        var n = Vec3_tangents_n;\n        var inorm = 1/norm;\n        n.set(this.x*inorm,this.y*inorm,this.z*inorm);\n        var randVec = Vec3_tangents_randVec;\n        if(Math.abs(n.x) < 0.9){\n            randVec.set(1,0,0);\n            n.cross(randVec,t1);\n        } else {\n            randVec.set(0,1,0);\n            n.cross(randVec,t1);\n        }\n        n.cross(t1,t2);\n    } else {\n        // The normal length is zero, make something up\n        t1.set(1, 0, 0);\n        t2.set(0, 1, 0);\n    }\n};\n\n/**\n * Converts to a more readable format\n * @method toString\n * @return string\n */\nVec3.prototype.toString = function(){\n    return this.x+\",\"+this.y+\",\"+this.z;\n};\n\n/**\n * Converts to an array\n * @method toArray\n * @return Array\n */\nVec3.prototype.toArray = function(){\n    return [this.x, this.y, this.z];\n};\n\n/**\n * Copies value of source to this vector.\n * @method copy\n * @param {Vec3} source\n * @return {Vec3} this\n */\nVec3.prototype.copy = function(source){\n    this.x = source.x;\n    this.y = source.y;\n    this.z = source.z;\n    return this;\n};\n\n\n/**\n * Do a linear interpolation between two vectors\n * @method lerp\n * @param {Vec3} v\n * @param {Number} t A number between 0 and 1. 0 will make this function return u, and 1 will make it return v. Numbers in between will generate a vector in between them.\n * @param {Vec3} target\n */\nVec3.prototype.lerp = function(v,t,target){\n    var x=this.x, y=this.y, z=this.z;\n    target.x = x + (v.x-x)*t;\n    target.y = y + (v.y-y)*t;\n    target.z = z + (v.z-z)*t;\n};\n\n/**\n * Check if a vector equals is almost equal to another one.\n * @method almostEquals\n * @param {Vec3} v\n * @param {Number} precision\n * @return bool\n */\nVec3.prototype.almostEquals = function(v,precision){\n    if(precision===undefined){\n        precision = 1e-6;\n    }\n    if( Math.abs(this.x-v.x)>precision ||\n        Math.abs(this.y-v.y)>precision ||\n        Math.abs(this.z-v.z)>precision){\n        return false;\n    }\n    return true;\n};\n\n/**\n * Check if a vector is almost zero\n * @method almostZero\n * @param {Number} precision\n */\nVec3.prototype.almostZero = function(precision){\n    if(precision===undefined){\n        precision = 1e-6;\n    }\n    if( Math.abs(this.x)>precision ||\n        Math.abs(this.y)>precision ||\n        Math.abs(this.z)>precision){\n        return false;\n    }\n    return true;\n};\n\nvar antip_neg = new Vec3();\n\n/**\n * Check if the vector is anti-parallel to another vector.\n * @method isAntiparallelTo\n * @param  {Vec3}  v\n * @param  {Number}  precision Set to zero for exact comparisons\n * @return {Boolean}\n */\nVec3.prototype.isAntiparallelTo = function(v,precision){\n    this.negate(antip_neg);\n    return antip_neg.almostEquals(v,precision);\n};\n\n/**\n * Clone the vector\n * @method clone\n * @return {Vec3}\n */\nVec3.prototype.clone = function(){\n    return new Vec3(this.x, this.y, this.z);\n};\n},{\"./Mat3\":27}],31:[function(_dereq_,module,exports){\nmodule.exports = Body;\n\nvar EventTarget = _dereq_('../utils/EventTarget');\nvar Shape = _dereq_('../shapes/Shape');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Mat3 = _dereq_('../math/Mat3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar Material = _dereq_('../material/Material');\nvar AABB = _dereq_('../collision/AABB');\nvar Box = _dereq_('../shapes/Box');\n\n/**\n * Base class for all body types.\n * @class Body\n * @constructor\n * @extends EventTarget\n * @param {object} [options]\n * @param {Vec3} [options.position]\n * @param {Vec3} [options.velocity]\n * @param {Vec3} [options.angularVelocity]\n * @param {Quaternion} [options.quaternion]\n * @param {number} [options.mass]\n * @param {Material} [options.material]\n * @param {number} [options.type]\n * @param {number} [options.linearDamping=0.01]\n * @param {number} [options.angularDamping=0.01]\n * @param {boolean} [options.allowSleep=true]\n * @param {number} [options.sleepSpeedLimit=0.1]\n * @param {number} [options.sleepTimeLimit=1]\n * @param {number} [options.collisionFilterGroup=1]\n * @param {number} [options.collisionFilterMask=1]\n * @param {boolean} [options.fixedRotation=false]\n * @param {Body} [options.shape]\n * @example\n *     var body = new Body({\n *         mass: 1\n *     });\n *     var shape = new Sphere(1);\n *     body.addShape(shape);\n *     world.add(body);\n */\nfunction Body(options){\n    options = options || {};\n\n    EventTarget.apply(this);\n\n    this.id = Body.idCounter++;\n\n    /**\n     * Reference to the world the body is living in\n     * @property world\n     * @type {World}\n     */\n    this.world = null;\n\n    /**\n     * Callback function that is used BEFORE stepping the system. Use it to apply forces, for example. Inside the function, \"this\" will refer to this Body object.\n     * @property preStep\n     * @type {Function}\n     * @deprecated Use World events instead\n     */\n    this.preStep = null;\n\n    /**\n     * Callback function that is used AFTER stepping the system. Inside the function, \"this\" will refer to this Body object.\n     * @property postStep\n     * @type {Function}\n     * @deprecated Use World events instead\n     */\n    this.postStep = null;\n\n    this.vlambda = new Vec3();\n\n    /**\n     * @property {Number} collisionFilterGroup\n     */\n    this.collisionFilterGroup = typeof(options.collisionFilterGroup) === 'number' ? options.collisionFilterGroup : 1;\n\n    /**\n     * @property {Number} collisionFilterMask\n     */\n    this.collisionFilterMask = typeof(options.collisionFilterMask) === 'number' ? options.collisionFilterMask : 1;\n\n    /**\n     * Whether to produce contact forces when in contact with other bodies. Note that contacts will be generated, but they will be disabled.\n     * @property {Number} collisionResponse\n     */\n\tthis.collisionResponse = true;\n\n    /**\n     * @property position\n     * @type {Vec3}\n     */\n    this.position = new Vec3();\n\n    if(options.position){\n        this.position.copy(options.position);\n    }\n\n    /**\n     * @property {Vec3} previousPosition\n     */\n    this.previousPosition = new Vec3();\n\n    /**\n     * Initial position of the body\n     * @property initPosition\n     * @type {Vec3}\n     */\n    this.initPosition = new Vec3();\n\n    /**\n     * @property velocity\n     * @type {Vec3}\n     */\n    this.velocity = new Vec3();\n\n    if(options.velocity){\n        this.velocity.copy(options.velocity);\n    }\n\n    /**\n     * @property initVelocity\n     * @type {Vec3}\n     */\n    this.initVelocity = new Vec3();\n\n    /**\n     * Linear force on the body\n     * @property force\n     * @type {Vec3}\n     */\n    this.force = new Vec3();\n\n    var mass = typeof(options.mass) === 'number' ? options.mass : 0;\n\n    /**\n     * @property mass\n     * @type {Number}\n     * @default 0\n     */\n    this.mass = mass;\n\n    /**\n     * @property invMass\n     * @type {Number}\n     */\n    this.invMass = mass > 0 ? 1.0 / mass : 0;\n\n    /**\n     * @property material\n     * @type {Material}\n     */\n    this.material = options.material || null;\n\n    /**\n     * @property linearDamping\n     * @type {Number}\n     */\n    this.linearDamping = typeof(options.linearDamping) === 'number' ? options.linearDamping : 0.01;\n\n    /**\n     * One of: Body.DYNAMIC, Body.STATIC and Body.KINEMATIC.\n     * @property type\n     * @type {Number}\n     */\n    this.type = (mass <= 0.0 ? Body.STATIC : Body.DYNAMIC);\n    if(typeof(options.type) === typeof(Body.STATIC)){\n        this.type = options.type;\n    }\n\n    /**\n     * If true, the body will automatically fall to sleep.\n     * @property allowSleep\n     * @type {Boolean}\n     * @default true\n     */\n    this.allowSleep = typeof(options.allowSleep) !== 'undefined' ? options.allowSleep : true;\n\n    /**\n     * Current sleep state.\n     * @property sleepState\n     * @type {Number}\n     */\n    this.sleepState = 0;\n\n    /**\n     * If the speed (the norm of the velocity) is smaller than this value, the body is considered sleepy.\n     * @property sleepSpeedLimit\n     * @type {Number}\n     * @default 0.1\n     */\n    this.sleepSpeedLimit = typeof(options.sleepSpeedLimit) !== 'undefined' ? options.sleepSpeedLimit : 0.1;\n\n    /**\n     * If the body has been sleepy for this sleepTimeLimit seconds, it is considered sleeping.\n     * @property sleepTimeLimit\n     * @type {Number}\n     * @default 1\n     */\n    this.sleepTimeLimit = typeof(options.sleepTimeLimit) !== 'undefined' ? options.sleepTimeLimit : 1;\n\n    this.timeLastSleepy = 0;\n\n    this._wakeUpAfterNarrowphase = false;\n\n\n    /**\n     * Rotational force on the body, around center of mass\n     * @property {Vec3} torque\n     */\n    this.torque = new Vec3();\n\n    /**\n     * Orientation of the body\n     * @property quaternion\n     * @type {Quaternion}\n     */\n    this.quaternion = new Quaternion();\n\n    if(options.quaternion){\n        this.quaternion.copy(options.quaternion);\n    }\n\n    /**\n     * @property initQuaternion\n     * @type {Quaternion}\n     */\n    this.initQuaternion = new Quaternion();\n\n    /**\n     * @property angularVelocity\n     * @type {Vec3}\n     */\n    this.angularVelocity = new Vec3();\n\n    if(options.angularVelocity){\n        this.angularVelocity.copy(options.angularVelocity);\n    }\n\n    /**\n     * @property initAngularVelocity\n     * @type {Vec3}\n     */\n    this.initAngularVelocity = new Vec3();\n\n    this.interpolatedPosition = new Vec3();\n    this.interpolatedQuaternion = new Quaternion();\n\n    /**\n     * @property shapes\n     * @type {array}\n     */\n    this.shapes = [];\n\n    /**\n     * @property shapeOffsets\n     * @type {array}\n     */\n    this.shapeOffsets = [];\n\n    /**\n     * @property shapeOrientations\n     * @type {array}\n     */\n    this.shapeOrientations = [];\n\n    /**\n     * @property inertia\n     * @type {Vec3}\n     */\n    this.inertia = new Vec3();\n\n    /**\n     * @property {Vec3} invInertia\n     */\n    this.invInertia = new Vec3();\n\n    /**\n     * @property {Mat3} invInertiaWorld\n     */\n    this.invInertiaWorld = new Mat3();\n\n    this.invMassSolve = 0;\n\n    /**\n     * @property {Vec3} invInertiaSolve\n     */\n    this.invInertiaSolve = new Vec3();\n\n    /**\n     * @property {Mat3} invInertiaWorldSolve\n     */\n    this.invInertiaWorldSolve = new Mat3();\n\n    /**\n     * Set to true if you don't want the body to rotate. Make sure to run .updateMassProperties() after changing this.\n     * @property {Boolean} fixedRotation\n     * @default false\n     */\n    this.fixedRotation = typeof(options.fixedRotation) !== \"undefined\" ? options.fixedRotation : false;\n\n    /**\n     * @property {Number} angularDamping\n     */\n    this.angularDamping = typeof(options.angularDamping) !== 'undefined' ? options.angularDamping : 0.01;\n\n    /**\n     * @property aabb\n     * @type {AABB}\n     */\n    this.aabb = new AABB();\n\n    /**\n     * Indicates if the AABB needs to be updated before use.\n     * @property aabbNeedsUpdate\n     * @type {Boolean}\n     */\n    this.aabbNeedsUpdate = true;\n\n    this.wlambda = new Vec3();\n\n    if(options.shape){\n        this.addShape(options.shape);\n    }\n\n    this.updateMassProperties();\n}\nBody.prototype = new EventTarget();\nBody.prototype.constructor = Body;\n\n/**\n * A dynamic body is fully simulated. Can be moved manually by the user, but normally they move according to forces. A dynamic body can collide with all body types. A dynamic body always has finite, non-zero mass.\n * @static\n * @property DYNAMIC\n * @type {Number}\n */\nBody.DYNAMIC = 1;\n\n/**\n * A static body does not move during simulation and behaves as if it has infinite mass. Static bodies can be moved manually by setting the position of the body. The velocity of a static body is always zero. Static bodies do not collide with other static or kinematic bodies.\n * @static\n * @property STATIC\n * @type {Number}\n */\nBody.STATIC = 2;\n\n/**\n * A kinematic body moves under simulation according to its velocity. They do not respond to forces. They can be moved manually, but normally a kinematic body is moved by setting its velocity. A kinematic body behaves as if it has infinite mass. Kinematic bodies do not collide with other static or kinematic bodies.\n * @static\n * @property KINEMATIC\n * @type {Number}\n */\nBody.KINEMATIC = 4;\n\n\n\n/**\n * @static\n * @property AWAKE\n * @type {number}\n */\nBody.AWAKE = 0;\n\n/**\n * @static\n * @property SLEEPY\n * @type {number}\n */\nBody.SLEEPY = 1;\n\n/**\n * @static\n * @property SLEEPING\n * @type {number}\n */\nBody.SLEEPING = 2;\n\nBody.idCounter = 0;\n\n/**\n * Wake the body up.\n * @method wakeUp\n */\nBody.prototype.wakeUp = function(){\n    var s = this.sleepState;\n    this.sleepState = 0;\n    if(s === Body.SLEEPING){\n        this.dispatchEvent({type:\"wakeup\"});\n    }\n};\n\n/**\n * Force body sleep\n * @method sleep\n */\nBody.prototype.sleep = function(){\n    this.sleepState = Body.SLEEPING;\n    this.velocity.set(0,0,0);\n    this.angularVelocity.set(0,0,0);\n};\n\nBody.sleepyEvent = {\n    type: \"sleepy\"\n};\n\nBody.sleepEvent = {\n    type: \"sleep\"\n};\n\n/**\n * Called every timestep to update internal sleep timer and change sleep state if needed.\n * @method sleepTick\n * @param {Number} time The world time in seconds\n */\nBody.prototype.sleepTick = function(time){\n    if(this.allowSleep){\n        var sleepState = this.sleepState;\n        var speedSquared = this.velocity.norm2() + this.angularVelocity.norm2();\n        var speedLimitSquared = Math.pow(this.sleepSpeedLimit,2);\n        if(sleepState===Body.AWAKE && speedSquared < speedLimitSquared){\n            this.sleepState = Body.SLEEPY; // Sleepy\n            this.timeLastSleepy = time;\n            this.dispatchEvent(Body.sleepyEvent);\n        } else if(sleepState===Body.SLEEPY && speedSquared > speedLimitSquared){\n            this.wakeUp(); // Wake up\n        } else if(sleepState===Body.SLEEPY && (time - this.timeLastSleepy ) > this.sleepTimeLimit){\n            this.sleep(); // Sleeping\n            this.dispatchEvent(Body.sleepEvent);\n        }\n    }\n};\n\n/**\n * If the body is sleeping, it should be immovable / have infinite mass during solve. We solve it by having a separate \"solve mass\".\n * @method updateSolveMassProperties\n */\nBody.prototype.updateSolveMassProperties = function(){\n    if(this.sleepState === Body.SLEEPING || this.type === Body.KINEMATIC){\n        this.invMassSolve = 0;\n        this.invInertiaSolve.setZero();\n        this.invInertiaWorldSolve.setZero();\n    } else {\n        this.invMassSolve = this.invMass;\n        this.invInertiaSolve.copy(this.invInertia);\n        this.invInertiaWorldSolve.copy(this.invInertiaWorld);\n    }\n};\n\n/**\n * Convert a world point to local body frame.\n * @method pointToLocalFrame\n * @param  {Vec3} worldPoint\n * @param  {Vec3} result\n * @return {Vec3}\n */\nBody.prototype.pointToLocalFrame = function(worldPoint,result){\n    var result = result || new Vec3();\n    worldPoint.vsub(this.position,result);\n    this.quaternion.conjugate().vmult(result,result);\n    return result;\n};\n\n/**\n * Convert a world vector to local body frame.\n * @method vectorToLocalFrame\n * @param  {Vec3} worldPoint\n * @param  {Vec3} result\n * @return {Vec3}\n */\nBody.prototype.vectorToLocalFrame = function(worldVector, result){\n    var result = result || new Vec3();\n    this.quaternion.conjugate().vmult(worldVector,result);\n    return result;\n};\n\n/**\n * Convert a local body point to world frame.\n * @method pointToWorldFrame\n * @param  {Vec3} localPoint\n * @param  {Vec3} result\n * @return {Vec3}\n */\nBody.prototype.pointToWorldFrame = function(localPoint,result){\n    var result = result || new Vec3();\n    this.quaternion.vmult(localPoint,result);\n    result.vadd(this.position,result);\n    return result;\n};\n\n/**\n * Convert a local body point to world frame.\n * @method vectorToWorldFrame\n * @param  {Vec3} localVector\n * @param  {Vec3} result\n * @return {Vec3}\n */\nBody.prototype.vectorToWorldFrame = function(localVector, result){\n    var result = result || new Vec3();\n    this.quaternion.vmult(localVector, result);\n    return result;\n};\n\nvar tmpVec = new Vec3();\nvar tmpQuat = new Quaternion();\n\n/**\n * Add a shape to the body with a local offset and orientation.\n * @method addShape\n * @param {Shape} shape\n * @param {Vec3} offset\n * @param {Quaternion} quaternion\n * @return {Body} The body object, for chainability.\n */\nBody.prototype.addShape = function(shape, _offset, _orientation){\n    var offset = new Vec3();\n    var orientation = new Quaternion();\n\n    if(_offset){\n        offset.copy(_offset);\n    }\n    if(_orientation){\n        orientation.copy(_orientation);\n    }\n\n    this.shapes.push(shape);\n    this.shapeOffsets.push(offset);\n    this.shapeOrientations.push(orientation);\n    this.updateMassProperties();\n    this.updateBoundingRadius();\n\n    this.aabbNeedsUpdate = true;\n\n    return this;\n};\n\n/**\n * Update the bounding radius of the body. Should be done if any of the shapes are changed.\n * @method updateBoundingRadius\n */\nBody.prototype.updateBoundingRadius = function(){\n    var shapes = this.shapes,\n        shapeOffsets = this.shapeOffsets,\n        N = shapes.length,\n        radius = 0;\n\n    for(var i=0; i!==N; i++){\n        var shape = shapes[i];\n        shape.updateBoundingSphereRadius();\n        var offset = shapeOffsets[i].norm(),\n            r = shape.boundingSphereRadius;\n        if(offset + r > radius){\n            radius = offset + r;\n        }\n    }\n\n    this.boundingRadius = radius;\n};\n\nvar computeAABB_shapeAABB = new AABB();\n\n/**\n * Updates the .aabb\n * @method computeAABB\n * @todo rename to updateAABB()\n */\nBody.prototype.computeAABB = function(){\n    var shapes = this.shapes,\n        shapeOffsets = this.shapeOffsets,\n        shapeOrientations = this.shapeOrientations,\n        N = shapes.length,\n        offset = tmpVec,\n        orientation = tmpQuat,\n        bodyQuat = this.quaternion,\n        aabb = this.aabb,\n        shapeAABB = computeAABB_shapeAABB;\n\n    for(var i=0; i!==N; i++){\n        var shape = shapes[i];\n\n        // Get shape world quaternion\n        shapeOrientations[i].mult(bodyQuat, orientation);\n\n        // Get shape world position\n        orientation.vmult(shapeOffsets[i], offset);\n        offset.vadd(this.position, offset);\n\n        // vec2.rotate(offset, shapeOffsets[i], bodyAngle);\n        // vec2.add(offset, offset, this.position);\n\n        // Get shape AABB\n        shape.calculateWorldAABB(offset, orientation, shapeAABB.lowerBound, shapeAABB.upperBound);\n\n        if(i === 0){\n            aabb.copy(shapeAABB);\n        } else {\n            aabb.extend(shapeAABB);\n        }\n    }\n\n    this.aabbNeedsUpdate = false;\n};\n\nvar uiw_m1 = new Mat3(),\n    uiw_m2 = new Mat3(),\n    uiw_m3 = new Mat3();\n\n/**\n * Update .inertiaWorld and .invInertiaWorld\n * @method updateInertiaWorld\n */\nBody.prototype.updateInertiaWorld = function(force){\n    var I = this.invInertia;\n    if (I.x === I.y && I.y === I.z && !force) {\n        // If inertia M = s*I, where I is identity and s a scalar, then\n        //    R*M*R' = R*(s*I)*R' = s*R*I*R' = s*R*R' = s*I = M\n        // where R is the rotation matrix.\n        // In other words, we don't have to transform the inertia if all\n        // inertia diagonal entries are equal.\n    } else {\n        var m1 = uiw_m1,\n            m2 = uiw_m2,\n            m3 = uiw_m3;\n        m1.setRotationFromQuaternion(this.quaternion);\n        m1.transpose(m2);\n        m1.scale(I,m1);\n        m1.mmult(m2,this.invInertiaWorld);\n        //m3.getTrace(this.invInertiaWorld);\n    }\n\n    /*\n    this.quaternion.vmult(this.inertia,this.inertiaWorld);\n    this.quaternion.vmult(this.invInertia,this.invInertiaWorld);\n    */\n};\n\n/**\n * Apply force to a world point. This could for example be a point on the Body surface. Applying force this way will add to Body.force and Body.torque.\n * @method applyForce\n * @param  {Vec3} force The amount of force to add.\n * @param  {Vec3} worldPoint A world point to apply the force on.\n */\nvar Body_applyForce_r = new Vec3();\nvar Body_applyForce_rotForce = new Vec3();\nBody.prototype.applyForce = function(force,worldPoint){\n    if(this.type !== Body.DYNAMIC){\n        return;\n    }\n\n    // Compute point position relative to the body center\n    var r = Body_applyForce_r;\n    worldPoint.vsub(this.position,r);\n\n    // Compute produced rotational force\n    var rotForce = Body_applyForce_rotForce;\n    r.cross(force,rotForce);\n\n    // Add linear force\n    this.force.vadd(force,this.force);\n\n    // Add rotational force\n    this.torque.vadd(rotForce,this.torque);\n};\n\n/**\n * Apply force to a local point in the body.\n * @method applyLocalForce\n * @param  {Vec3} force The force vector to apply, defined locally in the body frame.\n * @param  {Vec3} localPoint A local point in the body to apply the force on.\n */\nvar Body_applyLocalForce_worldForce = new Vec3();\nvar Body_applyLocalForce_worldPoint = new Vec3();\nBody.prototype.applyLocalForce = function(localForce, localPoint){\n    if(this.type !== Body.DYNAMIC){\n        return;\n    }\n\n    var worldForce = Body_applyLocalForce_worldForce;\n    var worldPoint = Body_applyLocalForce_worldPoint;\n\n    // Transform the force vector to world space\n    this.vectorToWorldFrame(localForce, worldForce);\n    this.pointToWorldFrame(localPoint, worldPoint);\n\n    this.applyForce(worldForce, worldPoint);\n};\n\n/**\n * Apply impulse to a world point. This could for example be a point on the Body surface. An impulse is a force added to a body during a short period of time (impulse = force * time). Impulses will be added to Body.velocity and Body.angularVelocity.\n * @method applyImpulse\n * @param  {Vec3} impulse The amount of impulse to add.\n * @param  {Vec3} worldPoint A world point to apply the force on.\n */\nvar Body_applyImpulse_r = new Vec3();\nvar Body_applyImpulse_velo = new Vec3();\nvar Body_applyImpulse_rotVelo = new Vec3();\nBody.prototype.applyImpulse = function(impulse, worldPoint){\n    if(this.type !== Body.DYNAMIC){\n        return;\n    }\n\n    // Compute point position relative to the body center\n    var r = Body_applyImpulse_r;\n    worldPoint.vsub(this.position,r);\n\n    // Compute produced central impulse velocity\n    var velo = Body_applyImpulse_velo;\n    velo.copy(impulse);\n    velo.mult(this.invMass,velo);\n\n    // Add linear impulse\n    this.velocity.vadd(velo, this.velocity);\n\n    // Compute produced rotational impulse velocity\n    var rotVelo = Body_applyImpulse_rotVelo;\n    r.cross(impulse,rotVelo);\n\n    /*\n    rotVelo.x *= this.invInertia.x;\n    rotVelo.y *= this.invInertia.y;\n    rotVelo.z *= this.invInertia.z;\n    */\n    this.invInertiaWorld.vmult(rotVelo,rotVelo);\n\n    // Add rotational Impulse\n    this.angularVelocity.vadd(rotVelo, this.angularVelocity);\n};\n\n/**\n * Apply locally-defined impulse to a local point in the body.\n * @method applyLocalImpulse\n * @param  {Vec3} force The force vector to apply, defined locally in the body frame.\n * @param  {Vec3} localPoint A local point in the body to apply the force on.\n */\nvar Body_applyLocalImpulse_worldImpulse = new Vec3();\nvar Body_applyLocalImpulse_worldPoint = new Vec3();\nBody.prototype.applyLocalImpulse = function(localImpulse, localPoint){\n    if(this.type !== Body.DYNAMIC){\n        return;\n    }\n\n    var worldImpulse = Body_applyLocalImpulse_worldImpulse;\n    var worldPoint = Body_applyLocalImpulse_worldPoint;\n\n    // Transform the force vector to world space\n    this.vectorToWorldFrame(localImpulse, worldImpulse);\n    this.pointToWorldFrame(localPoint, worldPoint);\n\n    this.applyImpulse(worldImpulse, worldPoint);\n};\n\nvar Body_updateMassProperties_halfExtents = new Vec3();\n\n/**\n * Should be called whenever you change the body shape or mass.\n * @method updateMassProperties\n */\nBody.prototype.updateMassProperties = function(){\n    var halfExtents = Body_updateMassProperties_halfExtents;\n\n    this.invMass = this.mass > 0 ? 1.0 / this.mass : 0;\n    var I = this.inertia;\n    var fixed = this.fixedRotation;\n\n    // Approximate with AABB box\n    this.computeAABB();\n    halfExtents.set(\n        (this.aabb.upperBound.x-this.aabb.lowerBound.x) / 2,\n        (this.aabb.upperBound.y-this.aabb.lowerBound.y) / 2,\n        (this.aabb.upperBound.z-this.aabb.lowerBound.z) / 2\n    );\n    Box.calculateInertia(halfExtents, this.mass, I);\n\n    this.invInertia.set(\n        I.x > 0 && !fixed ? 1.0 / I.x : 0,\n        I.y > 0 && !fixed ? 1.0 / I.y : 0,\n        I.z > 0 && !fixed ? 1.0 / I.z : 0\n    );\n    this.updateInertiaWorld(true);\n};\n\n/**\n * Get world velocity of a point in the body.\n * @method getVelocityAtWorldPoint\n * @param  {Vec3} worldPoint\n * @param  {Vec3} result\n * @return {Vec3} The result vector.\n */\nBody.prototype.getVelocityAtWorldPoint = function(worldPoint, result){\n    var r = new Vec3();\n    worldPoint.vsub(this.position, r);\n    this.angularVelocity.cross(r, result);\n    this.velocity.vadd(result, result);\n    return result;\n};\n\n},{\"../collision/AABB\":3,\"../material/Material\":25,\"../math/Mat3\":27,\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../shapes/Box\":37,\"../shapes/Shape\":43,\"../utils/EventTarget\":49}],32:[function(_dereq_,module,exports){\nvar Body = _dereq_('./Body');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar RaycastResult = _dereq_('../collision/RaycastResult');\nvar Ray = _dereq_('../collision/Ray');\nvar WheelInfo = _dereq_('../objects/WheelInfo');\n\nmodule.exports = RaycastVehicle;\n\n/**\n * Vehicle helper class that casts rays from the wheel positions towards the ground and applies forces.\n * @class RaycastVehicle\n * @constructor\n * @param {object} [options]\n * @param {Body} [options.chassisBody] The car chassis body.\n * @param {integer} [options.indexRightAxis] Axis to use for right. x=0, y=1, z=2\n * @param {integer} [options.indexLeftAxis]\n * @param {integer} [options.indexUpAxis]\n */\nfunction RaycastVehicle(options){\n\n    /**\n     * @property {Body} chassisBody\n     */\n    this.chassisBody = options.chassisBody;\n\n    /**\n     * An array of WheelInfo objects.\n     * @property {array} wheelInfos\n     */\n    this.wheelInfos = [];\n\n    /**\n     * Will be set to true if the car is sliding.\n     * @property {boolean} sliding\n     */\n    this.sliding = false;\n\n    /**\n     * @property {World} world\n     */\n    this.world = null;\n\n    /**\n     * Index of the right axis, 0=x, 1=y, 2=z\n     * @property {integer} indexRightAxis\n     * @default 1\n     */\n    this.indexRightAxis = typeof(options.indexRightAxis) !== 'undefined' ? options.indexRightAxis : 1;\n\n    /**\n     * Index of the forward axis, 0=x, 1=y, 2=z\n     * @property {integer} indexForwardAxis\n     * @default 0\n     */\n    this.indexForwardAxis = typeof(options.indexForwardAxis) !== 'undefined' ? options.indexForwardAxis : 0;\n\n    /**\n     * Index of the up axis, 0=x, 1=y, 2=z\n     * @property {integer} indexUpAxis\n     * @default 2\n     */\n    this.indexUpAxis = typeof(options.indexUpAxis) !== 'undefined' ? options.indexUpAxis : 2;\n}\n\nvar tmpVec1 = new Vec3();\nvar tmpVec2 = new Vec3();\nvar tmpVec3 = new Vec3();\nvar tmpVec4 = new Vec3();\nvar tmpVec5 = new Vec3();\nvar tmpVec6 = new Vec3();\nvar tmpRay = new Ray();\n\n/**\n * Add a wheel. For information about the options, see WheelInfo.\n * @method addWheel\n * @param {object} [options]\n */\nRaycastVehicle.prototype.addWheel = function(options){\n    options = options || {};\n\n    var info = new WheelInfo(options);\n    var index = this.wheelInfos.length;\n    this.wheelInfos.push(info);\n\n    return index;\n};\n\n/**\n * Set the steering value of a wheel.\n * @method setSteeringValue\n * @param {number} value\n * @param {integer} wheelIndex\n */\nRaycastVehicle.prototype.setSteeringValue = function(value, wheelIndex){\n    var wheel = this.wheelInfos[wheelIndex];\n    wheel.steering = value;\n};\n\nvar torque = new Vec3();\n\n/**\n * Set the wheel force to apply on one of the wheels each time step\n * @method applyEngineForce\n * @param  {number} value\n * @param  {integer} wheelIndex\n */\nRaycastVehicle.prototype.applyEngineForce = function(value, wheelIndex){\n    this.wheelInfos[wheelIndex].engineForce = value;\n};\n\n/**\n * Set the braking force of a wheel\n * @method setBrake\n * @param {number} brake\n * @param {integer} wheelIndex\n */\nRaycastVehicle.prototype.setBrake = function(brake, wheelIndex){\n    this.wheelInfos[wheelIndex].brake = brake;\n};\n\n/**\n * Add the vehicle including its constraints to the world.\n * @method addToWorld\n * @param {World} world\n */\nRaycastVehicle.prototype.addToWorld = function(world){\n    var constraints = this.constraints;\n    world.add(this.chassisBody);\n    var that = this;\n    this.preStepCallback = function(){\n        that.updateVehicle(world.dt);\n    };\n    world.addEventListener('preStep', this.preStepCallback);\n    this.world = world;\n};\n\n/**\n * Get one of the wheel axles, world-oriented.\n * @private\n * @method getVehicleAxisWorld\n * @param  {integer} axisIndex\n * @param  {Vec3} result\n */\nRaycastVehicle.prototype.getVehicleAxisWorld = function(axisIndex, result){\n    result.set(\n        axisIndex === 0 ? 1 : 0,\n        axisIndex === 1 ? 1 : 0,\n        axisIndex === 2 ? 1 : 0\n    );\n    this.chassisBody.vectorToWorldFrame(result, result);\n};\n\nRaycastVehicle.prototype.updateVehicle = function(timeStep){\n    var wheelInfos = this.wheelInfos;\n    var numWheels = wheelInfos.length;\n    var chassisBody = this.chassisBody;\n\n    for (var i = 0; i < numWheels; i++) {\n        this.updateWheelTransform(i);\n    }\n\n    this.currentVehicleSpeedKmHour = 3.6 * chassisBody.velocity.norm();\n\n    var forwardWorld = new Vec3();\n    this.getVehicleAxisWorld(this.indexForwardAxis, forwardWorld);\n\n    if (forwardWorld.dot(chassisBody.velocity) < 0){\n        this.currentVehicleSpeedKmHour *= -1;\n    }\n\n    // simulate suspension\n    for (var i = 0; i < numWheels; i++) {\n        this.castRay(wheelInfos[i]);\n    }\n\n    this.updateSuspension(timeStep);\n\n    var impulse = new Vec3();\n    var relpos = new Vec3();\n    for (var i = 0; i < numWheels; i++) {\n        //apply suspension force\n        var wheel = wheelInfos[i];\n        var suspensionForce = wheel.suspensionForce;\n        if (suspensionForce > wheel.maxSuspensionForce) {\n            suspensionForce = wheel.maxSuspensionForce;\n        }\n        wheel.raycastResult.hitNormalWorld.scale(suspensionForce * timeStep, impulse);\n\n        wheel.raycastResult.hitPointWorld.vsub(chassisBody.position, relpos);\n        chassisBody.applyImpulse(impulse, wheel.raycastResult.hitPointWorld/*relpos*/);\n    }\n\n    this.updateFriction(timeStep);\n\n    var hitNormalWorldScaledWithProj = new Vec3();\n    var fwd  = new Vec3();\n    var vel = new Vec3();\n    for (i = 0; i < numWheels; i++) {\n        var wheel = wheelInfos[i];\n        //var relpos = new Vec3();\n        //wheel.chassisConnectionPointWorld.vsub(chassisBody.position, relpos);\n        chassisBody.getVelocityAtWorldPoint(wheel.chassisConnectionPointWorld, vel);\n\n        // Hack to get the rotation in the correct direction\n        var m = 1;\n        switch(this.indexUpAxis){\n        case 1:\n            m = -1;\n            break;\n        }\n\n        if (wheel.isInContact) {\n\n            this.getVehicleAxisWorld(this.indexForwardAxis, fwd);\n            var proj = fwd.dot(wheel.raycastResult.hitNormalWorld);\n            wheel.raycastResult.hitNormalWorld.scale(proj, hitNormalWorldScaledWithProj);\n\n            fwd.vsub(hitNormalWorldScaledWithProj, fwd);\n\n            var proj2 = fwd.dot(vel);\n            wheel.deltaRotation = m * proj2 * timeStep / wheel.radius;\n        }\n\n        if((wheel.sliding || !wheel.isInContact) && wheel.engineForce !== 0 && wheel.useCustomSlidingRotationalSpeed){\n            // Apply custom rotation when accelerating and sliding\n            wheel.deltaRotation = (wheel.engineForce > 0 ? 1 : -1) * wheel.customSlidingRotationalSpeed * timeStep;\n        }\n\n        // Lock wheels\n        if(Math.abs(wheel.brake) > Math.abs(wheel.engineForce)){\n            wheel.deltaRotation = 0;\n        }\n\n        wheel.rotation += wheel.deltaRotation; // Use the old value\n        wheel.deltaRotation *= 0.99; // damping of rotation when not in contact\n    }\n};\n\nRaycastVehicle.prototype.updateSuspension = function(deltaTime) {\n    var chassisBody = this.chassisBody;\n    var chassisMass = chassisBody.mass;\n    var wheelInfos = this.wheelInfos;\n    var numWheels = wheelInfos.length;\n\n    for (var w_it = 0; w_it < numWheels; w_it++){\n        var wheel = wheelInfos[w_it];\n\n        if (wheel.isInContact){\n            var force;\n\n            // Spring\n            var susp_length = wheel.suspensionRestLength;\n            var current_length = wheel.suspensionLength;\n            var length_diff = (susp_length - current_length);\n\n            force = wheel.suspensionStiffness * length_diff * wheel.clippedInvContactDotSuspension;\n\n            // Damper\n            var projected_rel_vel = wheel.suspensionRelativeVelocity;\n            var susp_damping;\n            if (projected_rel_vel < 0) {\n                susp_damping = wheel.dampingCompression;\n            } else {\n                susp_damping = wheel.dampingRelaxation;\n            }\n            force -= susp_damping * projected_rel_vel;\n\n            wheel.suspensionForce = force * chassisMass;\n            if (wheel.suspensionForce < 0) {\n                wheel.suspensionForce = 0;\n            }\n        } else {\n            wheel.suspensionForce = 0;\n        }\n    }\n};\n\n/**\n * Remove the vehicle including its constraints from the world.\n * @method removeFromWorld\n * @param {World} world\n */\nRaycastVehicle.prototype.removeFromWorld = function(world){\n    var constraints = this.constraints;\n    world.remove(this.chassisBody);\n    world.removeEventListener('preStep', this.preStepCallback);\n    this.world = null;\n};\n\nvar castRay_rayvector = new Vec3();\nvar castRay_target = new Vec3();\nRaycastVehicle.prototype.castRay = function(wheel) {\n    var rayvector = castRay_rayvector;\n    var target = castRay_target;\n\n    this.updateWheelTransformWorld(wheel);\n    var chassisBody = this.chassisBody;\n\n    var depth = -1;\n\n    var raylen = wheel.suspensionRestLength + wheel.radius;\n\n    wheel.directionWorld.scale(raylen, rayvector);\n    var source = wheel.chassisConnectionPointWorld;\n    source.vadd(rayvector, target);\n    var raycastResult = wheel.raycastResult;\n\n    var param = 0;\n\n    raycastResult.reset();\n    // Turn off ray collision with the chassis temporarily\n    var oldState = chassisBody.collisionResponse;\n    chassisBody.collisionResponse = false;\n\n    // Cast ray against world\n    this.world.rayTest(source, target, raycastResult);\n    chassisBody.collisionResponse = oldState;\n\n    var object = raycastResult.body;\n\n    wheel.raycastResult.groundObject = 0;\n\n    if (object) {\n        depth = raycastResult.distance;\n        wheel.raycastResult.hitNormalWorld  = raycastResult.hitNormalWorld;\n        wheel.isInContact = true;\n\n        var hitDistance = raycastResult.distance;\n        wheel.suspensionLength = hitDistance - wheel.radius;\n\n        // clamp on max suspension travel\n        var minSuspensionLength = wheel.suspensionRestLength - wheel.maxSuspensionTravel;\n        var maxSuspensionLength = wheel.suspensionRestLength + wheel.maxSuspensionTravel;\n        if (wheel.suspensionLength < minSuspensionLength) {\n            wheel.suspensionLength = minSuspensionLength;\n        }\n        if (wheel.suspensionLength > maxSuspensionLength) {\n            wheel.suspensionLength = maxSuspensionLength;\n            wheel.raycastResult.reset();\n        }\n\n        var denominator = wheel.raycastResult.hitNormalWorld.dot(wheel.directionWorld);\n\n        var chassis_velocity_at_contactPoint = new Vec3();\n        chassisBody.getVelocityAtWorldPoint(wheel.raycastResult.hitPointWorld, chassis_velocity_at_contactPoint);\n\n        var projVel = wheel.raycastResult.hitNormalWorld.dot( chassis_velocity_at_contactPoint );\n\n        if (denominator >= -0.1) {\n            wheel.suspensionRelativeVelocity = 0;\n            wheel.clippedInvContactDotSuspension = 1 / 0.1;\n        } else {\n            var inv = -1 / denominator;\n            wheel.suspensionRelativeVelocity = projVel * inv;\n            wheel.clippedInvContactDotSuspension = inv;\n        }\n\n    } else {\n\n        //put wheel info as in rest position\n        wheel.suspensionLength = wheel.suspensionRestLength + 0 * wheel.maxSuspensionTravel;\n        wheel.suspensionRelativeVelocity = 0.0;\n        wheel.directionWorld.scale(-1, wheel.raycastResult.hitNormalWorld);\n        wheel.clippedInvContactDotSuspension = 1.0;\n    }\n\n    return depth;\n};\n\nRaycastVehicle.prototype.updateWheelTransformWorld = function(wheel){\n    wheel.isInContact = false;\n    var chassisBody = this.chassisBody;\n    chassisBody.pointToWorldFrame(wheel.chassisConnectionPointLocal, wheel.chassisConnectionPointWorld);\n    chassisBody.vectorToWorldFrame(wheel.directionLocal, wheel.directionWorld);\n    chassisBody.vectorToWorldFrame(wheel.axleLocal, wheel.axleWorld);\n};\n\n\n/**\n * Update one of the wheel transform.\n * Note when rendering wheels: during each step, wheel transforms are updated BEFORE the chassis; ie. their position becomes invalid after the step. Thus when you render wheels, you must update wheel transforms before rendering them. See raycastVehicle demo for an example.\n * @method updateWheelTransform\n * @param {integer} wheelIndex The wheel index to update.\n */\nRaycastVehicle.prototype.updateWheelTransform = function(wheelIndex){\n    var up = tmpVec4;\n    var right = tmpVec5;\n    var fwd = tmpVec6;\n\n    var wheel = this.wheelInfos[wheelIndex];\n    this.updateWheelTransformWorld(wheel);\n\n    wheel.directionLocal.scale(-1, up);\n    right.copy(wheel.axleLocal);\n    up.cross(right, fwd);\n    fwd.normalize();\n    right.normalize();\n\n    // Rotate around steering over the wheelAxle\n    var steering = wheel.steering;\n    var steeringOrn = new Quaternion();\n    steeringOrn.setFromAxisAngle(up, steering);\n\n    var rotatingOrn = new Quaternion();\n    rotatingOrn.setFromAxisAngle(right, wheel.rotation);\n\n    // World rotation of the wheel\n    var q = wheel.worldTransform.quaternion;\n    this.chassisBody.quaternion.mult(steeringOrn, q);\n    q.mult(rotatingOrn, q);\n\n    q.normalize();\n\n    // world position of the wheel\n    var p = wheel.worldTransform.position;\n    p.copy(wheel.directionWorld);\n    p.scale(wheel.suspensionLength, p);\n    p.vadd(wheel.chassisConnectionPointWorld, p);\n};\n\nvar directions = [\n    new Vec3(1, 0, 0),\n    new Vec3(0, 1, 0),\n    new Vec3(0, 0, 1)\n];\n\n/**\n * Get the world transform of one of the wheels\n * @method getWheelTransformWorld\n * @param  {integer} wheelIndex\n * @return {Transform}\n */\nRaycastVehicle.prototype.getWheelTransformWorld = function(wheelIndex) {\n    return this.wheelInfos[wheelIndex].worldTransform;\n};\n\n\nvar updateFriction_surfNormalWS_scaled_proj = new Vec3();\nvar updateFriction_axle = [];\nvar updateFriction_forwardWS = [];\nvar sideFrictionStiffness2 = 1;\nRaycastVehicle.prototype.updateFriction = function(timeStep) {\n    var surfNormalWS_scaled_proj = updateFriction_surfNormalWS_scaled_proj;\n\n    //calculate the impulse, so that the wheels don't move sidewards\n    var wheelInfos = this.wheelInfos;\n    var numWheels = wheelInfos.length;\n    var chassisBody = this.chassisBody;\n    var forwardWS = updateFriction_forwardWS;\n    var axle = updateFriction_axle;\n\n    var numWheelsOnGround = 0;\n\n    for (var i = 0; i < numWheels; i++) {\n        var wheel = wheelInfos[i];\n\n        var groundObject = wheel.raycastResult.body;\n        if (groundObject){\n            numWheelsOnGround++;\n        }\n\n        wheel.sideImpulse = 0;\n        wheel.forwardImpulse = 0;\n        if(!forwardWS[i]){\n            forwardWS[i] = new Vec3();\n        }\n        if(!axle[i]){\n            axle[i] = new Vec3();\n        }\n    }\n\n    for (var i = 0; i < numWheels; i++){\n        var wheel = wheelInfos[i];\n\n        var groundObject = wheel.raycastResult.body;\n\n        if (groundObject) {\n            var axlei = axle[i];\n            var wheelTrans = this.getWheelTransformWorld(i);\n\n            // Get world axle\n            wheelTrans.vectorToWorldFrame(directions[this.indexRightAxis], axlei);\n\n            var surfNormalWS = wheel.raycastResult.hitNormalWorld;\n            var proj = axlei.dot(surfNormalWS);\n            surfNormalWS.scale(proj, surfNormalWS_scaled_proj);\n            axlei.vsub(surfNormalWS_scaled_proj, axlei);\n            axlei.normalize();\n\n            surfNormalWS.cross(axlei, forwardWS[i]);\n            forwardWS[i].normalize();\n\n            wheel.sideImpulse = resolveSingleBilateral(\n                chassisBody,\n                wheel.raycastResult.hitPointWorld,\n                groundObject,\n                wheel.raycastResult.hitPointWorld,\n                axlei\n            );\n\n            wheel.sideImpulse *= sideFrictionStiffness2;\n        }\n    }\n\n    var sideFactor = 1;\n    var fwdFactor = 0.5;\n\n    this.sliding = false;\n    for (var i = 0; i < numWheels; i++) {\n        var wheel = wheelInfos[i];\n        var groundObject = wheel.raycastResult.body;\n\n        var rollingFriction = 0;\n\n        wheel.slipInfo = 1;\n        if (groundObject) {\n            var defaultRollingFrictionImpulse = 0;\n            var maxImpulse = wheel.brake ? wheel.brake : defaultRollingFrictionImpulse;\n\n            // btWheelContactPoint contactPt(chassisBody,groundObject,wheelInfraycastInfo.hitPointWorld,forwardWS[wheel],maxImpulse);\n            // rollingFriction = calcRollingFriction(contactPt);\n            rollingFriction = calcRollingFriction(chassisBody, groundObject, wheel.raycastResult.hitPointWorld, forwardWS[i], maxImpulse);\n\n            rollingFriction += wheel.engineForce * timeStep;\n\n            // rollingFriction = 0;\n            var factor = maxImpulse / rollingFriction;\n            wheel.slipInfo *= factor;\n        }\n\n        //switch between active rolling (throttle), braking and non-active rolling friction (nthrottle/break)\n\n        wheel.forwardImpulse = 0;\n        wheel.skidInfo = 1;\n\n        if (groundObject) {\n            wheel.skidInfo = 1;\n\n            var maximp = wheel.suspensionForce * timeStep * wheel.frictionSlip;\n            var maximpSide = maximp;\n\n            var maximpSquared = maximp * maximpSide;\n\n            wheel.forwardImpulse = rollingFriction;//wheelInfo.engineForce* timeStep;\n\n            var x = wheel.forwardImpulse * fwdFactor;\n            var y = wheel.sideImpulse * sideFactor;\n\n            var impulseSquared = x * x + y * y;\n\n            wheel.sliding = false;\n            if (impulseSquared > maximpSquared) {\n                this.sliding = true;\n                wheel.sliding = true;\n\n                var factor = maximp / Math.sqrt(impulseSquared);\n\n                wheel.skidInfo *= factor;\n            }\n        }\n    }\n\n    if (this.sliding) {\n        for (var i = 0; i < numWheels; i++) {\n            var wheel = wheelInfos[i];\n            if (wheel.sideImpulse !== 0) {\n                if (wheel.skidInfo < 1){\n                    wheel.forwardImpulse *= wheel.skidInfo;\n                    wheel.sideImpulse *= wheel.skidInfo;\n                }\n            }\n        }\n    }\n\n    // apply the impulses\n    for (var i = 0; i < numWheels; i++) {\n        var wheel = wheelInfos[i];\n\n        var rel_pos = new Vec3();\n        //wheel.raycastResult.hitPointWorld.vsub(chassisBody.position, rel_pos);\n        // cannons applyimpulse is using world coord for the position\n        rel_pos.copy(wheel.raycastResult.hitPointWorld);\n\n        if (wheel.forwardImpulse !== 0) {\n            var impulse = new Vec3();\n            forwardWS[i].scale(wheel.forwardImpulse, impulse);\n            chassisBody.applyImpulse(impulse, rel_pos);\n        }\n\n        if (wheel.sideImpulse !== 0){\n            var groundObject = wheel.raycastResult.body;\n\n            var rel_pos2 = new Vec3();\n            //wheel.raycastResult.hitPointWorld.vsub(groundObject.position, rel_pos2);\n            rel_pos2.copy(wheel.raycastResult.hitPointWorld);\n            var sideImp = new Vec3();\n            axle[i].scale(wheel.sideImpulse, sideImp);\n\n            // Scale the relative position in the up direction with rollInfluence.\n            // If rollInfluence is 1, the impulse will be applied on the hitPoint (easy to roll over), if it is zero it will be applied in the same plane as the center of mass (not easy to roll over).\n            chassisBody.pointToLocalFrame(rel_pos, rel_pos);\n            rel_pos['xyz'[this.indexUpAxis]] *= wheel.rollInfluence;\n            chassisBody.pointToWorldFrame(rel_pos, rel_pos);\n            chassisBody.applyImpulse(sideImp, rel_pos);\n\n            //apply friction impulse on the ground\n            sideImp.scale(-1, sideImp);\n            groundObject.applyImpulse(sideImp, rel_pos2);\n        }\n    }\n};\n\nvar calcRollingFriction_vel1 = new Vec3();\nvar calcRollingFriction_vel2 = new Vec3();\nvar calcRollingFriction_vel = new Vec3();\n\nfunction calcRollingFriction(body0, body1, frictionPosWorld, frictionDirectionWorld, maxImpulse) {\n    var j1 = 0;\n    var contactPosWorld = frictionPosWorld;\n\n    // var rel_pos1 = new Vec3();\n    // var rel_pos2 = new Vec3();\n    var vel1 = calcRollingFriction_vel1;\n    var vel2 = calcRollingFriction_vel2;\n    var vel = calcRollingFriction_vel;\n    // contactPosWorld.vsub(body0.position, rel_pos1);\n    // contactPosWorld.vsub(body1.position, rel_pos2);\n\n    body0.getVelocityAtWorldPoint(contactPosWorld, vel1);\n    body1.getVelocityAtWorldPoint(contactPosWorld, vel2);\n    vel1.vsub(vel2, vel);\n\n    var vrel = frictionDirectionWorld.dot(vel);\n\n    var denom0 = computeImpulseDenominator(body0, frictionPosWorld, frictionDirectionWorld);\n    var denom1 = computeImpulseDenominator(body1, frictionPosWorld, frictionDirectionWorld);\n    var relaxation = 1;\n    var jacDiagABInv = relaxation / (denom0 + denom1);\n\n    // calculate j that moves us to zero relative velocity\n    j1 = -vrel * jacDiagABInv;\n\n    if (maxImpulse < j1) {\n        j1 = maxImpulse;\n    }\n    if (j1 < -maxImpulse) {\n        j1 = -maxImpulse;\n    }\n\n    return j1;\n}\n\nvar computeImpulseDenominator_r0 = new Vec3();\nvar computeImpulseDenominator_c0 = new Vec3();\nvar computeImpulseDenominator_vec = new Vec3();\nvar computeImpulseDenominator_m = new Vec3();\nfunction computeImpulseDenominator(body, pos, normal) {\n    var r0 = computeImpulseDenominator_r0;\n    var c0 = computeImpulseDenominator_c0;\n    var vec = computeImpulseDenominator_vec;\n    var m = computeImpulseDenominator_m;\n\n    pos.vsub(body.position, r0);\n    r0.cross(normal, c0);\n    body.invInertiaWorld.vmult(c0, m);\n    m.cross(r0, vec);\n\n    return body.invMass + normal.dot(vec);\n}\n\n\nvar resolveSingleBilateral_vel1 = new Vec3();\nvar resolveSingleBilateral_vel2 = new Vec3();\nvar resolveSingleBilateral_vel = new Vec3();\n\n//bilateral constraint between two dynamic objects\nfunction resolveSingleBilateral(body1, pos1, body2, pos2, normal, impulse){\n    var normalLenSqr = normal.norm2();\n    if (normalLenSqr > 1.1){\n        return 0; // no impulse\n    }\n    // var rel_pos1 = new Vec3();\n    // var rel_pos2 = new Vec3();\n    // pos1.vsub(body1.position, rel_pos1);\n    // pos2.vsub(body2.position, rel_pos2);\n\n    var vel1 = resolveSingleBilateral_vel1;\n    var vel2 = resolveSingleBilateral_vel2;\n    var vel = resolveSingleBilateral_vel;\n    body1.getVelocityAtWorldPoint(pos1, vel1);\n    body2.getVelocityAtWorldPoint(pos2, vel2);\n\n    vel1.vsub(vel2, vel);\n\n    var rel_vel = normal.dot(vel);\n\n    var contactDamping = 0.2;\n    var massTerm = 1 / (body1.invMass + body2.invMass);\n    var impulse = - contactDamping * rel_vel * massTerm;\n\n    return impulse;\n}\n},{\"../collision/Ray\":9,\"../collision/RaycastResult\":10,\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../objects/WheelInfo\":36,\"./Body\":31}],33:[function(_dereq_,module,exports){\nvar Body = _dereq_('./Body');\nvar Sphere = _dereq_('../shapes/Sphere');\nvar Box = _dereq_('../shapes/Box');\nvar Vec3 = _dereq_('../math/Vec3');\nvar HingeConstraint = _dereq_('../constraints/HingeConstraint');\n\nmodule.exports = RigidVehicle;\n\n/**\n * Simple vehicle helper class with spherical rigid body wheels.\n * @class RigidVehicle\n * @constructor\n * @param {Body} [options.chassisBody]\n */\nfunction RigidVehicle(options){\n    this.wheelBodies = [];\n\n    /**\n     * @property coordinateSystem\n     * @type {Vec3}\n     */\n    this.coordinateSystem = typeof(options.coordinateSystem)==='undefined' ? new Vec3(1, 2, 3) : options.coordinateSystem.clone();\n\n    /**\n     * @property {Body} chassisBody\n     */\n    this.chassisBody = options.chassisBody;\n\n    if(!this.chassisBody){\n        // No chassis body given. Create it!\n        var chassisShape = new Box(new Vec3(5, 2, 0.5));\n        this.chassisBody = new Body(1, chassisShape);\n    }\n\n    /**\n     * @property constraints\n     * @type {Array}\n     */\n    this.constraints = [];\n\n    this.wheelAxes = [];\n    this.wheelForces = [];\n}\n\n/**\n * Add a wheel\n * @method addWheel\n * @param {object} options\n * @param {boolean} [options.isFrontWheel]\n * @param {Vec3} [options.position] Position of the wheel, locally in the chassis body.\n * @param {Vec3} [options.direction] Slide direction of the wheel along the suspension.\n * @param {Vec3} [options.axis] Axis of rotation of the wheel, locally defined in the chassis.\n * @param {Body} [options.body] The wheel body.\n */\nRigidVehicle.prototype.addWheel = function(options){\n    options = options || {};\n    var wheelBody = options.body;\n    if(!wheelBody){\n        wheelBody =  new Body(1, new Sphere(1.2));\n    }\n    this.wheelBodies.push(wheelBody);\n    this.wheelForces.push(0);\n\n    // Position constrain wheels\n    var zero = new Vec3();\n    var position = typeof(options.position) !== 'undefined' ? options.position.clone() : new Vec3();\n\n    // Set position locally to the chassis\n    var worldPosition = new Vec3();\n    this.chassisBody.pointToWorldFrame(position, worldPosition);\n    wheelBody.position.set(worldPosition.x, worldPosition.y, worldPosition.z);\n\n    // Constrain wheel\n    var axis = typeof(options.axis) !== 'undefined' ? options.axis.clone() : new Vec3(0, 1, 0);\n    this.wheelAxes.push(axis);\n\n    var hingeConstraint = new HingeConstraint(this.chassisBody, wheelBody, {\n        pivotA: position,\n        axisA: axis,\n        pivotB: Vec3.ZERO,\n        axisB: axis,\n        collideConnected: false\n    });\n    this.constraints.push(hingeConstraint);\n\n    return this.wheelBodies.length - 1;\n};\n\n/**\n * Set the steering value of a wheel.\n * @method setSteeringValue\n * @param {number} value\n * @param {integer} wheelIndex\n * @todo check coordinateSystem\n */\nRigidVehicle.prototype.setSteeringValue = function(value, wheelIndex){\n    // Set angle of the hinge axis\n    var axis = this.wheelAxes[wheelIndex];\n\n    var c = Math.cos(value),\n        s = Math.sin(value),\n        x = axis.x,\n        y = axis.y;\n    this.constraints[wheelIndex].axisA.set(\n        c*x -s*y,\n        s*x +c*y,\n        0\n    );\n};\n\n/**\n * Set the target rotational speed of the hinge constraint.\n * @method setMotorSpeed\n * @param {number} value\n * @param {integer} wheelIndex\n */\nRigidVehicle.prototype.setMotorSpeed = function(value, wheelIndex){\n    var hingeConstraint = this.constraints[wheelIndex];\n    hingeConstraint.enableMotor();\n    hingeConstraint.motorTargetVelocity = value;\n};\n\n/**\n * Set the target rotational speed of the hinge constraint.\n * @method disableMotor\n * @param {number} value\n * @param {integer} wheelIndex\n */\nRigidVehicle.prototype.disableMotor = function(wheelIndex){\n    var hingeConstraint = this.constraints[wheelIndex];\n    hingeConstraint.disableMotor();\n};\n\nvar torque = new Vec3();\n\n/**\n * Set the wheel force to apply on one of the wheels each time step\n * @method setWheelForce\n * @param  {number} value\n * @param  {integer} wheelIndex\n */\nRigidVehicle.prototype.setWheelForce = function(value, wheelIndex){\n    this.wheelForces[wheelIndex] = value;\n};\n\n/**\n * Apply a torque on one of the wheels.\n * @method applyWheelForce\n * @param  {number} value\n * @param  {integer} wheelIndex\n */\nRigidVehicle.prototype.applyWheelForce = function(value, wheelIndex){\n    var axis = this.wheelAxes[wheelIndex];\n    var wheelBody = this.wheelBodies[wheelIndex];\n    var bodyTorque = wheelBody.torque;\n\n    axis.scale(value, torque);\n    wheelBody.vectorToWorldFrame(torque, torque);\n    bodyTorque.vadd(torque, bodyTorque);\n};\n\n/**\n * Add the vehicle including its constraints to the world.\n * @method addToWorld\n * @param {World} world\n */\nRigidVehicle.prototype.addToWorld = function(world){\n    var constraints = this.constraints;\n    var bodies = this.wheelBodies.concat([this.chassisBody]);\n\n    for (var i = 0; i < bodies.length; i++) {\n        world.add(bodies[i]);\n    }\n\n    for (var i = 0; i < constraints.length; i++) {\n        world.addConstraint(constraints[i]);\n    }\n\n    world.addEventListener('preStep', this._update.bind(this));\n};\n\nRigidVehicle.prototype._update = function(){\n    var wheelForces = this.wheelForces;\n    for (var i = 0; i < wheelForces.length; i++) {\n        this.applyWheelForce(wheelForces[i], i);\n    }\n};\n\n/**\n * Remove the vehicle including its constraints from the world.\n * @method removeFromWorld\n * @param {World} world\n */\nRigidVehicle.prototype.removeFromWorld = function(world){\n    var constraints = this.constraints;\n    var bodies = this.wheelBodies.concat([this.chassisBody]);\n\n    for (var i = 0; i < bodies.length; i++) {\n        world.remove(bodies[i]);\n    }\n\n    for (var i = 0; i < constraints.length; i++) {\n        world.removeConstraint(constraints[i]);\n    }\n};\n\nvar worldAxis = new Vec3();\n\n/**\n * Get current rotational velocity of a wheel\n * @method getWheelSpeed\n * @param {integer} wheelIndex\n */\nRigidVehicle.prototype.getWheelSpeed = function(wheelIndex){\n    var axis = this.wheelAxes[wheelIndex];\n    var wheelBody = this.wheelBodies[wheelIndex];\n    var w = wheelBody.angularVelocity;\n    this.chassisBody.vectorToWorldFrame(axis, worldAxis);\n    return w.dot(worldAxis);\n};\n\n},{\"../constraints/HingeConstraint\":15,\"../math/Vec3\":30,\"../shapes/Box\":37,\"../shapes/Sphere\":44,\"./Body\":31}],34:[function(_dereq_,module,exports){\nmodule.exports = SPHSystem;\n\nvar Shape = _dereq_('../shapes/Shape');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar Particle = _dereq_('../shapes/Particle');\nvar Body = _dereq_('../objects/Body');\nvar Material = _dereq_('../material/Material');\n\n/**\n * Smoothed-particle hydrodynamics system\n * @class SPHSystem\n * @constructor\n */\nfunction SPHSystem(){\n    this.particles = [];\n\t\n    /**\n     * Density of the system (kg/m3).\n     * @property {number} density\n     */\n    this.density = 1;\n\t\n    /**\n     * Distance below which two particles are considered to be neighbors.\n     * It should be adjusted so there are about 15-20 neighbor particles within this radius.\n     * @property {number} smoothingRadius\n     */\n    this.smoothingRadius = 1;\n    this.speedOfSound = 1;\n\t\n    /**\n     * Viscosity of the system.\n     * @property {number} viscosity\n     */\n    this.viscosity = 0.01;\n    this.eps = 0.000001;\n\n    // Stuff Computed per particle\n    this.pressures = [];\n    this.densities = [];\n    this.neighbors = [];\n}\n\n/**\n * Add a particle to the system.\n * @method add\n * @param {Body} particle\n */\nSPHSystem.prototype.add = function(particle){\n    this.particles.push(particle);\n    if(this.neighbors.length < this.particles.length){\n        this.neighbors.push([]);\n    }\n};\n\n/**\n * Remove a particle from the system.\n * @method remove\n * @param {Body} particle\n */\nSPHSystem.prototype.remove = function(particle){\n    var idx = this.particles.indexOf(particle);\n    if(idx !== -1){\n        this.particles.splice(idx,1);\n        if(this.neighbors.length > this.particles.length){\n            this.neighbors.pop();\n        }\n    }\n};\n\n/**\n * Get neighbors within smoothing volume, save in the array neighbors\n * @method getNeighbors\n * @param {Body} particle\n * @param {Array} neighbors\n */\nvar SPHSystem_getNeighbors_dist = new Vec3();\nSPHSystem.prototype.getNeighbors = function(particle,neighbors){\n    var N = this.particles.length,\n        id = particle.id,\n        R2 = this.smoothingRadius * this.smoothingRadius,\n        dist = SPHSystem_getNeighbors_dist;\n    for(var i=0; i!==N; i++){\n        var p = this.particles[i];\n        p.position.vsub(particle.position,dist);\n        if(id!==p.id && dist.norm2() < R2){\n            neighbors.push(p);\n        }\n    }\n};\n\n// Temp vectors for calculation\nvar SPHSystem_update_dist = new Vec3(),\n    SPHSystem_update_a_pressure = new Vec3(),\n    SPHSystem_update_a_visc = new Vec3(),\n    SPHSystem_update_gradW = new Vec3(),\n    SPHSystem_update_r_vec = new Vec3(),\n    SPHSystem_update_u = new Vec3(); // Relative velocity\nSPHSystem.prototype.update = function(){\n    var N = this.particles.length,\n        dist = SPHSystem_update_dist,\n        cs = this.speedOfSound,\n        eps = this.eps;\n\n    for(var i=0; i!==N; i++){\n        var p = this.particles[i]; // Current particle\n        var neighbors = this.neighbors[i];\n\n        // Get neighbors\n        neighbors.length = 0;\n        this.getNeighbors(p,neighbors);\n        neighbors.push(this.particles[i]); // Add current too\n        var numNeighbors = neighbors.length;\n\n        // Accumulate density for the particle\n        var sum = 0.0;\n        for(var j=0; j!==numNeighbors; j++){\n\n            //printf(\"Current particle has position %f %f %f\\n\",objects[id].pos.x(),objects[id].pos.y(),objects[id].pos.z());\n            p.position.vsub(neighbors[j].position, dist);\n            var len = dist.norm();\n\n            var weight = this.w(len);\n            sum += neighbors[j].mass * weight;\n        }\n\n        // Save\n        this.densities[i] = sum;\n        this.pressures[i] = cs * cs * (this.densities[i] - this.density);\n    }\n\n    // Add forces\n\n    // Sum to these accelerations\n    var a_pressure= SPHSystem_update_a_pressure;\n    var a_visc =    SPHSystem_update_a_visc;\n    var gradW =     SPHSystem_update_gradW;\n    var r_vec =     SPHSystem_update_r_vec;\n    var u =         SPHSystem_update_u;\n\n    for(var i=0; i!==N; i++){\n\n        var particle = this.particles[i];\n\n        a_pressure.set(0,0,0);\n        a_visc.set(0,0,0);\n\n        // Init vars\n        var Pij;\n        var nabla;\n        var Vij;\n\n        // Sum up for all other neighbors\n        var neighbors = this.neighbors[i];\n        var numNeighbors = neighbors.length;\n\n        //printf(\"Neighbors: \");\n        for(var j=0; j!==numNeighbors; j++){\n\n            var neighbor = neighbors[j];\n            //printf(\"%d \",nj);\n\n            // Get r once for all..\n            particle.position.vsub(neighbor.position,r_vec);\n            var r = r_vec.norm();\n\n            // Pressure contribution\n            Pij = -neighbor.mass * (this.pressures[i] / (this.densities[i]*this.densities[i] + eps) + this.pressures[j] / (this.densities[j]*this.densities[j] + eps));\n            this.gradw(r_vec, gradW);\n            // Add to pressure acceleration\n            gradW.mult(Pij , gradW);\n            a_pressure.vadd(gradW, a_pressure);\n\n            // Viscosity contribution\n            neighbor.velocity.vsub(particle.velocity, u);\n            u.mult( 1.0 / (0.0001+this.densities[i] * this.densities[j]) * this.viscosity * neighbor.mass , u );\n            nabla = this.nablaw(r);\n            u.mult(nabla,u);\n            // Add to viscosity acceleration\n            a_visc.vadd( u, a_visc );\n        }\n\n        // Calculate force\n        a_visc.mult(particle.mass, a_visc);\n        a_pressure.mult(particle.mass, a_pressure);\n\n        // Add force to particles\n        particle.force.vadd(a_visc, particle.force);\n        particle.force.vadd(a_pressure, particle.force);\n    }\n};\n\n// Calculate the weight using the W(r) weightfunction\nSPHSystem.prototype.w = function(r){\n    // 315\n    var h = this.smoothingRadius;\n    return 315.0/(64.0*Math.PI*Math.pow(h,9)) * Math.pow(h*h-r*r,3);\n};\n\n// calculate gradient of the weight function\nSPHSystem.prototype.gradw = function(rVec,resultVec){\n    var r = rVec.norm(),\n        h = this.smoothingRadius;\n    rVec.mult(945.0/(32.0*Math.PI*Math.pow(h,9)) * Math.pow((h*h-r*r),2) , resultVec);\n};\n\n// Calculate nabla(W)\nSPHSystem.prototype.nablaw = function(r){\n    var h = this.smoothingRadius;\n    var nabla = 945.0/(32.0*Math.PI*Math.pow(h,9)) * (h*h-r*r)*(7*r*r - 3*h*h);\n    return nabla;\n};\n\n},{\"../material/Material\":25,\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../objects/Body\":31,\"../shapes/Particle\":41,\"../shapes/Shape\":43}],35:[function(_dereq_,module,exports){\nvar Vec3 = _dereq_('../math/Vec3');\n\nmodule.exports = Spring;\n\n/**\n * A spring, connecting two bodies.\n *\n * @class Spring\n * @constructor\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {Object} [options]\n * @param {number} [options.restLength]   A number > 0. Default: 1\n * @param {number} [options.stiffness]    A number >= 0. Default: 100\n * @param {number} [options.damping]      A number >= 0. Default: 1\n * @param {Vec3}  [options.worldAnchorA] Where to hook the spring to body A, in world coordinates.\n * @param {Vec3}  [options.worldAnchorB]\n * @param {Vec3}  [options.localAnchorA] Where to hook the spring to body A, in local body coordinates.\n * @param {Vec3}  [options.localAnchorB]\n */\nfunction Spring(bodyA,bodyB,options){\n    options = options || {};\n\n    /**\n     * Rest length of the spring.\n     * @property restLength\n     * @type {number}\n     */\n    this.restLength = typeof(options.restLength) === \"number\" ? options.restLength : 1;\n\n    /**\n     * Stiffness of the spring.\n     * @property stiffness\n     * @type {number}\n     */\n    this.stiffness = options.stiffness || 100;\n\n    /**\n     * Damping of the spring.\n     * @property damping\n     * @type {number}\n     */\n    this.damping = options.damping || 1;\n\n    /**\n     * First connected body.\n     * @property bodyA\n     * @type {Body}\n     */\n    this.bodyA = bodyA;\n\n    /**\n     * Second connected body.\n     * @property bodyB\n     * @type {Body}\n     */\n    this.bodyB = bodyB;\n\n    /**\n     * Anchor for bodyA in local bodyA coordinates.\n     * @property localAnchorA\n     * @type {Vec3}\n     */\n    this.localAnchorA = new Vec3();\n\n    /**\n     * Anchor for bodyB in local bodyB coordinates.\n     * @property localAnchorB\n     * @type {Vec3}\n     */\n    this.localAnchorB = new Vec3();\n\n    if(options.localAnchorA){\n        this.localAnchorA.copy(options.localAnchorA);\n    }\n    if(options.localAnchorB){\n        this.localAnchorB.copy(options.localAnchorB);\n    }\n    if(options.worldAnchorA){\n        this.setWorldAnchorA(options.worldAnchorA);\n    }\n    if(options.worldAnchorB){\n        this.setWorldAnchorB(options.worldAnchorB);\n    }\n}\n\n/**\n * Set the anchor point on body A, using world coordinates.\n * @method setWorldAnchorA\n * @param {Vec3} worldAnchorA\n */\nSpring.prototype.setWorldAnchorA = function(worldAnchorA){\n    this.bodyA.pointToLocalFrame(worldAnchorA,this.localAnchorA);\n};\n\n/**\n * Set the anchor point on body B, using world coordinates.\n * @method setWorldAnchorB\n * @param {Vec3} worldAnchorB\n */\nSpring.prototype.setWorldAnchorB = function(worldAnchorB){\n    this.bodyB.pointToLocalFrame(worldAnchorB,this.localAnchorB);\n};\n\n/**\n * Get the anchor point on body A, in world coordinates.\n * @method getWorldAnchorA\n * @param {Vec3} result The vector to store the result in.\n */\nSpring.prototype.getWorldAnchorA = function(result){\n    this.bodyA.pointToWorldFrame(this.localAnchorA,result);\n};\n\n/**\n * Get the anchor point on body B, in world coordinates.\n * @method getWorldAnchorB\n * @param {Vec3} result The vector to store the result in.\n */\nSpring.prototype.getWorldAnchorB = function(result){\n    this.bodyB.pointToWorldFrame(this.localAnchorB,result);\n};\n\nvar applyForce_r =              new Vec3(),\n    applyForce_r_unit =         new Vec3(),\n    applyForce_u =              new Vec3(),\n    applyForce_f =              new Vec3(),\n    applyForce_worldAnchorA =   new Vec3(),\n    applyForce_worldAnchorB =   new Vec3(),\n    applyForce_ri =             new Vec3(),\n    applyForce_rj =             new Vec3(),\n    applyForce_ri_x_f =         new Vec3(),\n    applyForce_rj_x_f =         new Vec3(),\n    applyForce_tmp =            new Vec3();\n\n/**\n * Apply the spring force to the connected bodies.\n * @method applyForce\n */\nSpring.prototype.applyForce = function(){\n    var k = this.stiffness,\n        d = this.damping,\n        l = this.restLength,\n        bodyA = this.bodyA,\n        bodyB = this.bodyB,\n        r = applyForce_r,\n        r_unit = applyForce_r_unit,\n        u = applyForce_u,\n        f = applyForce_f,\n        tmp = applyForce_tmp;\n\n    var worldAnchorA = applyForce_worldAnchorA,\n        worldAnchorB = applyForce_worldAnchorB,\n        ri = applyForce_ri,\n        rj = applyForce_rj,\n        ri_x_f = applyForce_ri_x_f,\n        rj_x_f = applyForce_rj_x_f;\n\n    // Get world anchors\n    this.getWorldAnchorA(worldAnchorA);\n    this.getWorldAnchorB(worldAnchorB);\n\n    // Get offset points\n    worldAnchorA.vsub(bodyA.position,ri);\n    worldAnchorB.vsub(bodyB.position,rj);\n\n    // Compute distance vector between world anchor points\n    worldAnchorB.vsub(worldAnchorA,r);\n    var rlen = r.norm();\n    r_unit.copy(r);\n    r_unit.normalize();\n\n    // Compute relative velocity of the anchor points, u\n    bodyB.velocity.vsub(bodyA.velocity,u);\n    // Add rotational velocity\n\n    bodyB.angularVelocity.cross(rj,tmp);\n    u.vadd(tmp,u);\n    bodyA.angularVelocity.cross(ri,tmp);\n    u.vsub(tmp,u);\n\n    // F = - k * ( x - L ) - D * ( u )\n    r_unit.mult(-k*(rlen-l) - d*u.dot(r_unit), f);\n\n    // Add forces to bodies\n    bodyA.force.vsub(f,bodyA.force);\n    bodyB.force.vadd(f,bodyB.force);\n\n    // Angular force\n    ri.cross(f,ri_x_f);\n    rj.cross(f,rj_x_f);\n    bodyA.torque.vsub(ri_x_f,bodyA.torque);\n    bodyB.torque.vadd(rj_x_f,bodyB.torque);\n};\n\n},{\"../math/Vec3\":30}],36:[function(_dereq_,module,exports){\nvar Vec3 = _dereq_('../math/Vec3');\nvar Transform = _dereq_('../math/Transform');\nvar RaycastResult = _dereq_('../collision/RaycastResult');\nvar Utils = _dereq_('../utils/Utils');\n\nmodule.exports = WheelInfo;\n\n/**\n * @class WheelInfo\n * @constructor\n * @param {Object} [options]\n *\n * @param {Vec3} [options.chassisConnectionPointLocal]\n * @param {Vec3} [options.chassisConnectionPointWorld]\n * @param {Vec3} [options.directionLocal]\n * @param {Vec3} [options.directionWorld]\n * @param {Vec3} [options.axleLocal]\n * @param {Vec3} [options.axleWorld]\n * @param {number} [options.suspensionRestLength=1]\n * @param {number} [options.suspensionMaxLength=2]\n * @param {number} [options.radius=1]\n * @param {number} [options.suspensionStiffness=100]\n * @param {number} [options.dampingCompression=10]\n * @param {number} [options.dampingRelaxation=10]\n * @param {number} [options.frictionSlip=10000]\n * @param {number} [options.steering=0]\n * @param {number} [options.rotation=0]\n * @param {number} [options.deltaRotation=0]\n * @param {number} [options.rollInfluence=0.01]\n * @param {number} [options.maxSuspensionForce]\n * @param {boolean} [options.isFrontWheel=true]\n * @param {number} [options.clippedInvContactDotSuspension=1]\n * @param {number} [options.suspensionRelativeVelocity=0]\n * @param {number} [options.suspensionForce=0]\n * @param {number} [options.skidInfo=0]\n * @param {number} [options.suspensionLength=0]\n * @param {number} [options.maxSuspensionTravel=1]\n * @param {boolean} [options.useCustomSlidingRotationalSpeed=false]\n * @param {number} [options.customSlidingRotationalSpeed=-0.1]\n */\nfunction WheelInfo(options){\n    options = Utils.defaults(options, {\n        chassisConnectionPointLocal: new Vec3(),\n        chassisConnectionPointWorld: new Vec3(),\n        directionLocal: new Vec3(),\n        directionWorld: new Vec3(),\n        axleLocal: new Vec3(),\n        axleWorld: new Vec3(),\n        suspensionRestLength: 1,\n        suspensionMaxLength: 2,\n        radius: 1,\n        suspensionStiffness: 100,\n        dampingCompression: 10,\n        dampingRelaxation: 10,\n        frictionSlip: 10000,\n        steering: 0,\n        rotation: 0,\n        deltaRotation: 0,\n        rollInfluence: 0.01,\n        maxSuspensionForce: Number.MAX_VALUE,\n        isFrontWheel: true,\n        clippedInvContactDotSuspension: 1,\n        suspensionRelativeVelocity: 0,\n        suspensionForce: 0,\n        skidInfo: 0,\n        suspensionLength: 0,\n        maxSuspensionTravel: 1,\n        useCustomSlidingRotationalSpeed: false,\n        customSlidingRotationalSpeed: -0.1\n    });\n\n    /**\n     * Max travel distance of the suspension, in meters.\n     * @property {number} maxSuspensionTravel\n     */\n    this.maxSuspensionTravel = options.maxSuspensionTravel;\n\n    /**\n     * Speed to apply to the wheel rotation when the wheel is sliding.\n     * @property {number} customSlidingRotationalSpeed\n     */\n    this.customSlidingRotationalSpeed = options.customSlidingRotationalSpeed;\n\n    /**\n     * If the customSlidingRotationalSpeed should be used.\n     * @property {Boolean} useCustomSlidingRotationalSpeed\n     */\n    this.useCustomSlidingRotationalSpeed = options.useCustomSlidingRotationalSpeed;\n\n    /**\n     * @property {Boolean} sliding\n     */\n    this.sliding = false;\n\n    /**\n     * Connection point, defined locally in the chassis body frame.\n     * @property {Vec3} chassisConnectionPointLocal\n     */\n    this.chassisConnectionPointLocal = options.chassisConnectionPointLocal.clone();\n\n    /**\n     * @property {Vec3} chassisConnectionPointWorld\n     */\n    this.chassisConnectionPointWorld = options.chassisConnectionPointWorld.clone();\n\n    /**\n     * @property {Vec3} directionLocal\n     */\n    this.directionLocal = options.directionLocal.clone();\n\n    /**\n     * @property {Vec3} directionWorld\n     */\n    this.directionWorld = options.directionWorld.clone();\n\n    /**\n     * @property {Vec3} axleLocal\n     */\n    this.axleLocal = options.axleLocal.clone();\n\n    /**\n     * @property {Vec3} axleWorld\n     */\n    this.axleWorld = options.axleWorld.clone();\n\n    /**\n     * @property {number} suspensionRestLength\n     */\n    this.suspensionRestLength = options.suspensionRestLength;\n\n    /**\n     * @property {number} suspensionMaxLength\n     */\n    this.suspensionMaxLength = options.suspensionMaxLength;\n\n    /**\n     * @property {number} radius\n     */\n    this.radius = options.radius;\n\n    /**\n     * @property {number} suspensionStiffness\n     */\n    this.suspensionStiffness = options.suspensionStiffness;\n\n    /**\n     * @property {number} dampingCompression\n     */\n    this.dampingCompression = options.dampingCompression;\n\n    /**\n     * @property {number} dampingRelaxation\n     */\n    this.dampingRelaxation = options.dampingRelaxation;\n\n    /**\n     * @property {number} frictionSlip\n     */\n    this.frictionSlip = options.frictionSlip;\n\n    /**\n     * @property {number} steering\n     */\n    this.steering = 0;\n\n    /**\n     * Rotation value, in radians.\n     * @property {number} rotation\n     */\n    this.rotation = 0;\n\n    /**\n     * @property {number} deltaRotation\n     */\n    this.deltaRotation = 0;\n\n    /**\n     * @property {number} rollInfluence\n     */\n    this.rollInfluence = options.rollInfluence;\n\n    /**\n     * @property {number} maxSuspensionForce\n     */\n    this.maxSuspensionForce = options.maxSuspensionForce;\n\n    /**\n     * @property {number} engineForce\n     */\n    this.engineForce = 0;\n\n    /**\n     * @property {number} brake\n     */\n    this.brake = 0;\n\n    /**\n     * @property {number} isFrontWheel\n     */\n    this.isFrontWheel = options.isFrontWheel;\n\n    /**\n     * @property {number} clippedInvContactDotSuspension\n     */\n    this.clippedInvContactDotSuspension = 1;\n\n    /**\n     * @property {number} suspensionRelativeVelocity\n     */\n    this.suspensionRelativeVelocity = 0;\n\n    /**\n     * @property {number} suspensionForce\n     */\n    this.suspensionForce = 0;\n\n    /**\n     * @property {number} skidInfo\n     */\n    this.skidInfo = 0;\n\n    /**\n     * @property {number} suspensionLength\n     */\n    this.suspensionLength = 0;\n\n    /**\n     * @property {number} sideImpulse\n     */\n    this.sideImpulse = 0;\n\n    /**\n     * @property {number} forwardImpulse\n     */\n    this.forwardImpulse = 0;\n\n    /**\n     * The result from raycasting\n     * @property {RaycastResult} raycastResult\n     */\n    this.raycastResult = new RaycastResult();\n\n    /**\n     * Wheel world transform\n     * @property {Transform} worldTransform\n     */\n    this.worldTransform = new Transform();\n\n    /**\n     * @property {boolean} isInContact\n     */\n    this.isInContact = false;\n}\n\nvar chassis_velocity_at_contactPoint = new Vec3();\nvar relpos = new Vec3();\nvar chassis_velocity_at_contactPoint = new Vec3();\nWheelInfo.prototype.updateWheel = function(chassis){\n    var raycastResult = this.raycastResult;\n\n    if (this.isInContact){\n        var project= raycastResult.hitNormalWorld.dot(raycastResult.directionWorld);\n        raycastResult.hitPointWorld.vsub(chassis.position, relpos);\n        chassis.getVelocityAtWorldPoint(relpos, chassis_velocity_at_contactPoint);\n        var projVel = raycastResult.hitNormalWorld.dot( chassis_velocity_at_contactPoint );\n        if (project >= -0.1) {\n            this.suspensionRelativeVelocity = 0.0;\n            this.clippedInvContactDotSuspension = 1.0 / 0.1;\n        } else {\n            var inv = -1 / project;\n            this.suspensionRelativeVelocity = projVel * inv;\n            this.clippedInvContactDotSuspension = inv;\n        }\n\n    } else {\n        // Not in contact : position wheel in a nice (rest length) position\n        raycastResult.suspensionLength = this.suspensionRestLength;\n        this.suspensionRelativeVelocity = 0.0;\n        raycastResult.directionWorld.scale(-1, raycastResult.hitNormalWorld);\n        this.clippedInvContactDotSuspension = 1.0;\n    }\n};\n},{\"../collision/RaycastResult\":10,\"../math/Transform\":29,\"../math/Vec3\":30,\"../utils/Utils\":53}],37:[function(_dereq_,module,exports){\nmodule.exports = Box;\n\nvar Shape = _dereq_('./Shape');\nvar Vec3 = _dereq_('../math/Vec3');\nvar ConvexPolyhedron = _dereq_('./ConvexPolyhedron');\n\n/**\n * A 3d box shape.\n * @class Box\n * @constructor\n * @param {Vec3} halfExtents\n * @author schteppe\n * @extends Shape\n */\nfunction Box(halfExtents){\n    Shape.call(this);\n\n    this.type = Shape.types.BOX;\n\n    /**\n     * @property halfExtents\n     * @type {Vec3}\n     */\n    this.halfExtents = halfExtents;\n\n    /**\n     * Used by the contact generator to make contacts with other convex polyhedra for example\n     * @property convexPolyhedronRepresentation\n     * @type {ConvexPolyhedron}\n     */\n    this.convexPolyhedronRepresentation = null;\n\n    this.updateConvexPolyhedronRepresentation();\n    this.updateBoundingSphereRadius();\n}\nBox.prototype = new Shape();\nBox.prototype.constructor = Box;\n\n/**\n * Updates the local convex polyhedron representation used for some collisions.\n * @method updateConvexPolyhedronRepresentation\n */\nBox.prototype.updateConvexPolyhedronRepresentation = function(){\n    var sx = this.halfExtents.x;\n    var sy = this.halfExtents.y;\n    var sz = this.halfExtents.z;\n    var V = Vec3;\n\n    var vertices = [\n        new V(-sx,-sy,-sz),\n        new V( sx,-sy,-sz),\n        new V( sx, sy,-sz),\n        new V(-sx, sy,-sz),\n        new V(-sx,-sy, sz),\n        new V( sx,-sy, sz),\n        new V( sx, sy, sz),\n        new V(-sx, sy, sz)\n    ];\n\n    var indices = [\n        [3,2,1,0], // -z\n        [4,5,6,7], // +z\n        [5,4,0,1], // -y\n        [2,3,7,6], // +y\n        [0,4,7,3], // -x\n        [1,2,6,5], // +x\n    ];\n\n    var axes = [\n        new V(0, 0, 1),\n        new V(0, 1, 0),\n        new V(1, 0, 0)\n    ];\n\n    var h = new ConvexPolyhedron(vertices, indices);\n    this.convexPolyhedronRepresentation = h;\n    h.material = this.material;\n};\n\n/**\n * @method calculateLocalInertia\n * @param  {Number} mass\n * @param  {Vec3} target\n * @return {Vec3}\n */\nBox.prototype.calculateLocalInertia = function(mass,target){\n    target = target || new Vec3();\n    Box.calculateInertia(this.halfExtents, mass, target);\n    return target;\n};\n\nBox.calculateInertia = function(halfExtents,mass,target){\n    var e = halfExtents;\n    target.x = 1.0 / 12.0 * mass * (   2*e.y*2*e.y + 2*e.z*2*e.z );\n    target.y = 1.0 / 12.0 * mass * (   2*e.x*2*e.x + 2*e.z*2*e.z );\n    target.z = 1.0 / 12.0 * mass * (   2*e.y*2*e.y + 2*e.x*2*e.x );\n};\n\n/**\n * Get the box 6 side normals\n * @method getSideNormals\n * @param {array}      sixTargetVectors An array of 6 vectors, to store the resulting side normals in.\n * @param {Quaternion} quat             Orientation to apply to the normal vectors. If not provided, the vectors will be in respect to the local frame.\n * @return {array}\n */\nBox.prototype.getSideNormals = function(sixTargetVectors,quat){\n    var sides = sixTargetVectors;\n    var ex = this.halfExtents;\n    sides[0].set(  ex.x,     0,     0);\n    sides[1].set(     0,  ex.y,     0);\n    sides[2].set(     0,     0,  ex.z);\n    sides[3].set( -ex.x,     0,     0);\n    sides[4].set(     0, -ex.y,     0);\n    sides[5].set(     0,     0, -ex.z);\n\n    if(quat!==undefined){\n        for(var i=0; i!==sides.length; i++){\n            quat.vmult(sides[i],sides[i]);\n        }\n    }\n\n    return sides;\n};\n\nBox.prototype.volume = function(){\n    return 8.0 * this.halfExtents.x * this.halfExtents.y * this.halfExtents.z;\n};\n\nBox.prototype.updateBoundingSphereRadius = function(){\n    this.boundingSphereRadius = this.halfExtents.norm();\n};\n\nvar worldCornerTempPos = new Vec3();\nvar worldCornerTempNeg = new Vec3();\nBox.prototype.forEachWorldCorner = function(pos,quat,callback){\n\n    var e = this.halfExtents;\n    var corners = [[  e.x,  e.y,  e.z],\n                   [ -e.x,  e.y,  e.z],\n                   [ -e.x, -e.y,  e.z],\n                   [ -e.x, -e.y, -e.z],\n                   [  e.x, -e.y, -e.z],\n                   [  e.x,  e.y, -e.z],\n                   [ -e.x,  e.y, -e.z],\n                   [  e.x, -e.y,  e.z]];\n    for(var i=0; i<corners.length; i++){\n        worldCornerTempPos.set(corners[i][0],corners[i][1],corners[i][2]);\n        quat.vmult(worldCornerTempPos,worldCornerTempPos);\n        pos.vadd(worldCornerTempPos,worldCornerTempPos);\n        callback(worldCornerTempPos.x,\n                 worldCornerTempPos.y,\n                 worldCornerTempPos.z);\n    }\n};\n\nvar worldCornersTemp = [\n    new Vec3(),\n    new Vec3(),\n    new Vec3(),\n    new Vec3(),\n    new Vec3(),\n    new Vec3(),\n    new Vec3(),\n    new Vec3()\n];\nBox.prototype.calculateWorldAABB = function(pos,quat,min,max){\n\n    var e = this.halfExtents;\n    worldCornersTemp[0].set(e.x, e.y, e.z);\n    worldCornersTemp[1].set(-e.x,  e.y, e.z);\n    worldCornersTemp[2].set(-e.x, -e.y, e.z);\n    worldCornersTemp[3].set(-e.x, -e.y, -e.z);\n    worldCornersTemp[4].set(e.x, -e.y, -e.z);\n    worldCornersTemp[5].set(e.x,  e.y, -e.z);\n    worldCornersTemp[6].set(-e.x,  e.y, -e.z);\n    worldCornersTemp[7].set(e.x, -e.y,  e.z);\n\n    var wc = worldCornersTemp[0];\n    quat.vmult(wc, wc);\n    pos.vadd(wc, wc);\n    max.copy(wc);\n    min.copy(wc);\n    for(var i=1; i<8; i++){\n        var wc = worldCornersTemp[i];\n        quat.vmult(wc, wc);\n        pos.vadd(wc, wc);\n        var x = wc.x;\n        var y = wc.y;\n        var z = wc.z;\n        if(x > max.x){\n            max.x = x;\n        }\n        if(y > max.y){\n            max.y = y;\n        }\n        if(z > max.z){\n            max.z = z;\n        }\n\n        if(x < min.x){\n            min.x = x;\n        }\n        if(y < min.y){\n            min.y = y;\n        }\n        if(z < min.z){\n            min.z = z;\n        }\n    }\n\n    // Get each axis max\n    // min.set(Infinity,Infinity,Infinity);\n    // max.set(-Infinity,-Infinity,-Infinity);\n    // this.forEachWorldCorner(pos,quat,function(x,y,z){\n    //     if(x > max.x){\n    //         max.x = x;\n    //     }\n    //     if(y > max.y){\n    //         max.y = y;\n    //     }\n    //     if(z > max.z){\n    //         max.z = z;\n    //     }\n\n    //     if(x < min.x){\n    //         min.x = x;\n    //     }\n    //     if(y < min.y){\n    //         min.y = y;\n    //     }\n    //     if(z < min.z){\n    //         min.z = z;\n    //     }\n    // });\n};\n\n},{\"../math/Vec3\":30,\"./ConvexPolyhedron\":38,\"./Shape\":43}],38:[function(_dereq_,module,exports){\nmodule.exports = ConvexPolyhedron;\n\nvar Shape = _dereq_('./Shape');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar Transform = _dereq_('../math/Transform');\n\n/**\n * A set of polygons describing a convex shape.\n * @class ConvexPolyhedron\n * @constructor\n * @extends Shape\n * @description The shape MUST be convex for the code to work properly. No polygons may be coplanar (contained\n * in the same 3D plane), instead these should be merged into one polygon.\n *\n * @param {array} points An array of Vec3's\n * @param {array} faces Array of integer arrays, describing which vertices that is included in each face.\n *\n * @author qiao / https://github.com/qiao (original author, see https://github.com/qiao/three.js/commit/85026f0c769e4000148a67d45a9e9b9c5108836f)\n * @author schteppe / https://github.com/schteppe\n * @see http://www.altdevblogaday.com/2011/05/13/contact-generation-between-3d-convex-meshes/\n * @see http://bullet.googlecode.com/svn/trunk/src/BulletCollision/NarrowPhaseCollision/btPolyhedralContactClipping.cpp\n *\n * @todo Move the clipping functions to ContactGenerator?\n * @todo Automatically merge coplanar polygons in constructor.\n */\nfunction ConvexPolyhedron(points, faces, uniqueAxes) {\n    var that = this;\n    Shape.call(this);\n    this.type = Shape.types.CONVEXPOLYHEDRON;\n\n    /**\n     * Array of Vec3\n     * @property vertices\n     * @type {Array}\n     */\n    this.vertices = points||[];\n\n    this.worldVertices = []; // World transformed version of .vertices\n    this.worldVerticesNeedsUpdate = true;\n\n    /**\n     * Array of integer arrays, indicating which vertices each face consists of\n     * @property faces\n     * @type {Array}\n     */\n    this.faces = faces||[];\n\n    /**\n     * Array of Vec3\n     * @property faceNormals\n     * @type {Array}\n     */\n    this.faceNormals = [];\n    this.computeNormals();\n\n    this.worldFaceNormalsNeedsUpdate = true;\n    this.worldFaceNormals = []; // World transformed version of .faceNormals\n\n    /**\n     * Array of Vec3\n     * @property uniqueEdges\n     * @type {Array}\n     */\n    this.uniqueEdges = [];\n\n    /**\n     * If given, these locally defined, normalized axes are the only ones being checked when doing separating axis check.\n     * @property {Array} uniqueAxes\n     */\n    this.uniqueAxes = uniqueAxes ? uniqueAxes.slice() : null;\n\n    this.computeEdges();\n    this.updateBoundingSphereRadius();\n}\nConvexPolyhedron.prototype = new Shape();\nConvexPolyhedron.prototype.constructor = ConvexPolyhedron;\n\nvar computeEdges_tmpEdge = new Vec3();\n/**\n * Computes uniqueEdges\n * @method computeEdges\n */\nConvexPolyhedron.prototype.computeEdges = function(){\n    var faces = this.faces;\n    var vertices = this.vertices;\n    var nv = vertices.length;\n    var edges = this.uniqueEdges;\n\n    edges.length = 0;\n\n    var edge = computeEdges_tmpEdge;\n\n    for(var i=0; i !== faces.length; i++){\n        var face = faces[i];\n        var numVertices = face.length;\n        for(var j = 0; j !== numVertices; j++){\n            var k = ( j+1 ) % numVertices;\n            vertices[face[j]].vsub(vertices[face[k]], edge);\n            edge.normalize();\n            var found = false;\n            for(var p=0; p !== edges.length; p++){\n                if (edges[p].almostEquals(edge) || edges[p].almostEquals(edge)){\n                    found = true;\n                    break;\n                }\n            }\n\n            if (!found){\n                edges.push(edge.clone());\n            }\n        }\n    }\n};\n\n/**\n * Compute the normals of the faces. Will reuse existing Vec3 objects in the .faceNormals array if they exist.\n * @method computeNormals\n */\nConvexPolyhedron.prototype.computeNormals = function(){\n    this.faceNormals.length = this.faces.length;\n\n    // Generate normals\n    for(var i=0; i<this.faces.length; i++){\n\n        // Check so all vertices exists for this face\n        for(var j=0; j<this.faces[i].length; j++){\n            if(!this.vertices[this.faces[i][j]]){\n                throw new Error(\"Vertex \"+this.faces[i][j]+\" not found!\");\n            }\n        }\n\n        var n = this.faceNormals[i] || new Vec3();\n        this.getFaceNormal(i,n);\n        n.negate(n);\n        this.faceNormals[i] = n;\n        var vertex = this.vertices[this.faces[i][0]];\n        if(n.dot(vertex) < 0){\n            console.error(\".faceNormals[\" + i + \"] = Vec3(\"+n.toString()+\") looks like it points into the shape? The vertices follow. Make sure they are ordered CCW around the normal, using the right hand rule.\");\n            for(var j=0; j<this.faces[i].length; j++){\n                console.warn(\".vertices[\"+this.faces[i][j]+\"] = Vec3(\"+this.vertices[this.faces[i][j]].toString()+\")\");\n            }\n        }\n    }\n};\n\n/**\n * Get face normal given 3 vertices\n * @static\n * @method getFaceNormal\n * @param {Vec3} va\n * @param {Vec3} vb\n * @param {Vec3} vc\n * @param {Vec3} target\n */\nvar cb = new Vec3();\nvar ab = new Vec3();\nConvexPolyhedron.computeNormal = function ( va, vb, vc, target ) {\n    vb.vsub(va,ab);\n    vc.vsub(vb,cb);\n    cb.cross(ab,target);\n    if ( !target.isZero() ) {\n        target.normalize();\n    }\n};\n\n/**\n * Compute the normal of a face from its vertices\n * @method getFaceNormal\n * @param  {Number} i\n * @param  {Vec3} target\n */\nConvexPolyhedron.prototype.getFaceNormal = function(i,target){\n    var f = this.faces[i];\n    var va = this.vertices[f[0]];\n    var vb = this.vertices[f[1]];\n    var vc = this.vertices[f[2]];\n    return ConvexPolyhedron.computeNormal(va,vb,vc,target);\n};\n\n/**\n * @method clipAgainstHull\n * @param {Vec3} posA\n * @param {Quaternion} quatA\n * @param {ConvexPolyhedron} hullB\n * @param {Vec3} posB\n * @param {Quaternion} quatB\n * @param {Vec3} separatingNormal\n * @param {Number} minDist Clamp distance\n * @param {Number} maxDist\n * @param {array} result The an array of contact point objects, see clipFaceAgainstHull\n * @see http://bullet.googlecode.com/svn/trunk/src/BulletCollision/NarrowPhaseCollision/btPolyhedralContactClipping.cpp\n */\nvar cah_WorldNormal = new Vec3();\nConvexPolyhedron.prototype.clipAgainstHull = function(posA,quatA,hullB,posB,quatB,separatingNormal,minDist,maxDist,result){\n    var WorldNormal = cah_WorldNormal;\n    var hullA = this;\n    var curMaxDist = maxDist;\n    var closestFaceB = -1;\n    var dmax = -Number.MAX_VALUE;\n    for(var face=0; face < hullB.faces.length; face++){\n        WorldNormal.copy(hullB.faceNormals[face]);\n        quatB.vmult(WorldNormal,WorldNormal);\n        //posB.vadd(WorldNormal,WorldNormal);\n        var d = WorldNormal.dot(separatingNormal);\n        if (d > dmax){\n            dmax = d;\n            closestFaceB = face;\n        }\n    }\n    var worldVertsB1 = [];\n    var polyB = hullB.faces[closestFaceB];\n    var numVertices = polyB.length;\n    for(var e0=0; e0<numVertices; e0++){\n        var b = hullB.vertices[polyB[e0]];\n        var worldb = new Vec3();\n        worldb.copy(b);\n        quatB.vmult(worldb,worldb);\n        posB.vadd(worldb,worldb);\n        worldVertsB1.push(worldb);\n    }\n\n    if (closestFaceB>=0){\n        this.clipFaceAgainstHull(separatingNormal,\n                                 posA,\n                                 quatA,\n                                 worldVertsB1,\n                                 minDist,\n                                 maxDist,\n                                 result);\n    }\n};\n\n/**\n * Find the separating axis between this hull and another\n * @method findSeparatingAxis\n * @param {ConvexPolyhedron} hullB\n * @param {Vec3} posA\n * @param {Quaternion} quatA\n * @param {Vec3} posB\n * @param {Quaternion} quatB\n * @param {Vec3} target The target vector to save the axis in\n * @return {bool} Returns false if a separation is found, else true\n */\nvar fsa_faceANormalWS3 = new Vec3(),\n    fsa_Worldnormal1 = new Vec3(),\n    fsa_deltaC = new Vec3(),\n    fsa_worldEdge0 = new Vec3(),\n    fsa_worldEdge1 = new Vec3(),\n    fsa_Cross = new Vec3();\nConvexPolyhedron.prototype.findSeparatingAxis = function(hullB,posA,quatA,posB,quatB,target, faceListA, faceListB){\n    var faceANormalWS3 = fsa_faceANormalWS3,\n        Worldnormal1 = fsa_Worldnormal1,\n        deltaC = fsa_deltaC,\n        worldEdge0 = fsa_worldEdge0,\n        worldEdge1 = fsa_worldEdge1,\n        Cross = fsa_Cross;\n\n    var dmin = Number.MAX_VALUE;\n    var hullA = this;\n    var curPlaneTests=0;\n\n    if(!hullA.uniqueAxes){\n\n        var numFacesA = faceListA ? faceListA.length : hullA.faces.length;\n\n        // Test face normals from hullA\n        for(var i=0; i<numFacesA; i++){\n            var fi = faceListA ? faceListA[i] : i;\n\n            // Get world face normal\n            faceANormalWS3.copy(hullA.faceNormals[fi]);\n            quatA.vmult(faceANormalWS3,faceANormalWS3);\n\n            var d = hullA.testSepAxis(faceANormalWS3, hullB, posA, quatA, posB, quatB);\n            if(d===false){\n                return false;\n            }\n\n            if(d<dmin){\n                dmin = d;\n                target.copy(faceANormalWS3);\n            }\n        }\n\n    } else {\n\n        // Test unique axes\n        for(var i = 0; i !== hullA.uniqueAxes.length; i++){\n\n            // Get world axis\n            quatA.vmult(hullA.uniqueAxes[i],faceANormalWS3);\n\n            var d = hullA.testSepAxis(faceANormalWS3, hullB, posA, quatA, posB, quatB);\n            if(d===false){\n                return false;\n            }\n\n            if(d<dmin){\n                dmin = d;\n                target.copy(faceANormalWS3);\n            }\n        }\n    }\n\n    if(!hullB.uniqueAxes){\n\n        // Test face normals from hullB\n        var numFacesB = faceListB ? faceListB.length : hullB.faces.length;\n        for(var i=0;i<numFacesB;i++){\n\n            var fi = faceListB ? faceListB[i] : i;\n\n            Worldnormal1.copy(hullB.faceNormals[fi]);\n            quatB.vmult(Worldnormal1,Worldnormal1);\n            curPlaneTests++;\n            var d = hullA.testSepAxis(Worldnormal1, hullB,posA,quatA,posB,quatB);\n            if(d===false){\n                return false;\n            }\n\n            if(d<dmin){\n                dmin = d;\n                target.copy(Worldnormal1);\n            }\n        }\n    } else {\n\n        // Test unique axes in B\n        for(var i = 0; i !== hullB.uniqueAxes.length; i++){\n            quatB.vmult(hullB.uniqueAxes[i],Worldnormal1);\n\n            curPlaneTests++;\n            var d = hullA.testSepAxis(Worldnormal1, hullB,posA,quatA,posB,quatB);\n            if(d===false){\n                return false;\n            }\n\n            if(d<dmin){\n                dmin = d;\n                target.copy(Worldnormal1);\n            }\n        }\n    }\n\n    // Test edges\n    for(var e0=0; e0 !== hullA.uniqueEdges.length; e0++){\n\n        // Get world edge\n        quatA.vmult(hullA.uniqueEdges[e0],worldEdge0);\n\n        for(var e1=0; e1 !== hullB.uniqueEdges.length; e1++){\n\n            // Get world edge 2\n            quatB.vmult(hullB.uniqueEdges[e1], worldEdge1);\n            worldEdge0.cross(worldEdge1,Cross);\n\n            if(!Cross.almostZero()){\n                Cross.normalize();\n                var dist = hullA.testSepAxis(Cross, hullB, posA, quatA, posB, quatB);\n                if(dist === false){\n                    return false;\n                }\n                if(dist < dmin){\n                    dmin = dist;\n                    target.copy(Cross);\n                }\n            }\n        }\n    }\n\n    posB.vsub(posA,deltaC);\n    if((deltaC.dot(target))>0.0){\n        target.negate(target);\n    }\n\n    return true;\n};\n\nvar maxminA=[], maxminB=[];\n\n/**\n * Test separating axis against two hulls. Both hulls are projected onto the axis and the overlap size is returned if there is one.\n * @method testSepAxis\n * @param {Vec3} axis\n * @param {ConvexPolyhedron} hullB\n * @param {Vec3} posA\n * @param {Quaternion} quatA\n * @param {Vec3} posB\n * @param {Quaternion} quatB\n * @return {number} The overlap depth, or FALSE if no penetration.\n */\nConvexPolyhedron.prototype.testSepAxis = function(axis, hullB, posA, quatA, posB, quatB){\n    var hullA=this;\n    ConvexPolyhedron.project(hullA, axis, posA, quatA, maxminA);\n    ConvexPolyhedron.project(hullB, axis, posB, quatB, maxminB);\n    var maxA = maxminA[0];\n    var minA = maxminA[1];\n    var maxB = maxminB[0];\n    var minB = maxminB[1];\n    if(maxA<minB || maxB<minA){\n        return false; // Separated\n    }\n    var d0 = maxA - minB;\n    var d1 = maxB - minA;\n    var depth = d0<d1 ? d0:d1;\n    return depth;\n};\n\nvar cli_aabbmin = new Vec3(),\n    cli_aabbmax = new Vec3();\n\n/**\n * @method calculateLocalInertia\n * @param  {Number} mass\n * @param  {Vec3} target\n */\nConvexPolyhedron.prototype.calculateLocalInertia = function(mass,target){\n    // Approximate with box inertia\n    // Exact inertia calculation is overkill, but see http://geometrictools.com/Documentation/PolyhedralMassProperties.pdf for the correct way to do it\n    this.computeLocalAABB(cli_aabbmin,cli_aabbmax);\n    var x = cli_aabbmax.x - cli_aabbmin.x,\n        y = cli_aabbmax.y - cli_aabbmin.y,\n        z = cli_aabbmax.z - cli_aabbmin.z;\n    target.x = 1.0 / 12.0 * mass * ( 2*y*2*y + 2*z*2*z );\n    target.y = 1.0 / 12.0 * mass * ( 2*x*2*x + 2*z*2*z );\n    target.z = 1.0 / 12.0 * mass * ( 2*y*2*y + 2*x*2*x );\n};\n\n/**\n * @method getPlaneConstantOfFace\n * @param  {Number} face_i Index of the face\n * @return {Number}\n */\nConvexPolyhedron.prototype.getPlaneConstantOfFace = function(face_i){\n    var f = this.faces[face_i];\n    var n = this.faceNormals[face_i];\n    var v = this.vertices[f[0]];\n    var c = -n.dot(v);\n    return c;\n};\n\n/**\n * Clip a face against a hull.\n * @method clipFaceAgainstHull\n * @param {Vec3} separatingNormal\n * @param {Vec3} posA\n * @param {Quaternion} quatA\n * @param {Array} worldVertsB1 An array of Vec3 with vertices in the world frame.\n * @param {Number} minDist Distance clamping\n * @param {Number} maxDist\n * @param Array result Array to store resulting contact points in. Will be objects with properties: point, depth, normal. These are represented in world coordinates.\n */\nvar cfah_faceANormalWS = new Vec3(),\n    cfah_edge0 = new Vec3(),\n    cfah_WorldEdge0 = new Vec3(),\n    cfah_worldPlaneAnormal1 = new Vec3(),\n    cfah_planeNormalWS1 = new Vec3(),\n    cfah_worldA1 = new Vec3(),\n    cfah_localPlaneNormal = new Vec3(),\n    cfah_planeNormalWS = new Vec3();\nConvexPolyhedron.prototype.clipFaceAgainstHull = function(separatingNormal, posA, quatA, worldVertsB1, minDist, maxDist,result){\n    var faceANormalWS = cfah_faceANormalWS,\n        edge0 = cfah_edge0,\n        WorldEdge0 = cfah_WorldEdge0,\n        worldPlaneAnormal1 = cfah_worldPlaneAnormal1,\n        planeNormalWS1 = cfah_planeNormalWS1,\n        worldA1 = cfah_worldA1,\n        localPlaneNormal = cfah_localPlaneNormal,\n        planeNormalWS = cfah_planeNormalWS;\n\n    var hullA = this;\n    var worldVertsB2 = [];\n    var pVtxIn = worldVertsB1;\n    var pVtxOut = worldVertsB2;\n    // Find the face with normal closest to the separating axis\n    var closestFaceA = -1;\n    var dmin = Number.MAX_VALUE;\n    for(var face=0; face<hullA.faces.length; face++){\n        faceANormalWS.copy(hullA.faceNormals[face]);\n        quatA.vmult(faceANormalWS,faceANormalWS);\n        //posA.vadd(faceANormalWS,faceANormalWS);\n        var d = faceANormalWS.dot(separatingNormal);\n        if (d < dmin){\n            dmin = d;\n            closestFaceA = face;\n        }\n    }\n    if (closestFaceA < 0){\n        // console.log(\"--- did not find any closest face... ---\");\n        return;\n    }\n    //console.log(\"closest A: \",closestFaceA);\n    // Get the face and construct connected faces\n    var polyA = hullA.faces[closestFaceA];\n    polyA.connectedFaces = [];\n    for(var i=0; i<hullA.faces.length; i++){\n        for(var j=0; j<hullA.faces[i].length; j++){\n            if(polyA.indexOf(hullA.faces[i][j])!==-1 /* Sharing a vertex*/ && i!==closestFaceA /* Not the one we are looking for connections from */ && polyA.connectedFaces.indexOf(i)===-1 /* Not already added */ ){\n                polyA.connectedFaces.push(i);\n            }\n        }\n    }\n    // Clip the polygon to the back of the planes of all faces of hull A, that are adjacent to the witness face\n    var numContacts = pVtxIn.length;\n    var numVerticesA = polyA.length;\n    var res = [];\n    for(var e0=0; e0<numVerticesA; e0++){\n        var a = hullA.vertices[polyA[e0]];\n        var b = hullA.vertices[polyA[(e0+1)%numVerticesA]];\n        a.vsub(b,edge0);\n        WorldEdge0.copy(edge0);\n        quatA.vmult(WorldEdge0,WorldEdge0);\n        posA.vadd(WorldEdge0,WorldEdge0);\n        worldPlaneAnormal1.copy(this.faceNormals[closestFaceA]);//transA.getBasis()* btVector3(polyA.m_plane[0],polyA.m_plane[1],polyA.m_plane[2]);\n        quatA.vmult(worldPlaneAnormal1,worldPlaneAnormal1);\n        posA.vadd(worldPlaneAnormal1,worldPlaneAnormal1);\n        WorldEdge0.cross(worldPlaneAnormal1,planeNormalWS1);\n        planeNormalWS1.negate(planeNormalWS1);\n        worldA1.copy(a);\n        quatA.vmult(worldA1,worldA1);\n        posA.vadd(worldA1,worldA1);\n        var planeEqWS1 = -worldA1.dot(planeNormalWS1);\n        var planeEqWS;\n        if(true){\n            var otherFace = polyA.connectedFaces[e0];\n            localPlaneNormal.copy(this.faceNormals[otherFace]);\n            var localPlaneEq = this.getPlaneConstantOfFace(otherFace);\n\n            planeNormalWS.copy(localPlaneNormal);\n            quatA.vmult(planeNormalWS,planeNormalWS);\n            //posA.vadd(planeNormalWS,planeNormalWS);\n            var planeEqWS = localPlaneEq - planeNormalWS.dot(posA);\n        } else  {\n            planeNormalWS.copy(planeNormalWS1);\n            planeEqWS = planeEqWS1;\n        }\n\n        // Clip face against our constructed plane\n        this.clipFaceAgainstPlane(pVtxIn, pVtxOut, planeNormalWS, planeEqWS);\n\n        // Throw away all clipped points, but save the reamining until next clip\n        while(pVtxIn.length){\n            pVtxIn.shift();\n        }\n        while(pVtxOut.length){\n            pVtxIn.push(pVtxOut.shift());\n        }\n    }\n\n    //console.log(\"Resulting points after clip:\",pVtxIn);\n\n    // only keep contact points that are behind the witness face\n    localPlaneNormal.copy(this.faceNormals[closestFaceA]);\n\n    var localPlaneEq = this.getPlaneConstantOfFace(closestFaceA);\n    planeNormalWS.copy(localPlaneNormal);\n    quatA.vmult(planeNormalWS,planeNormalWS);\n\n    var planeEqWS = localPlaneEq - planeNormalWS.dot(posA);\n    for (var i=0; i<pVtxIn.length; i++){\n        var depth = planeNormalWS.dot(pVtxIn[i]) + planeEqWS; //???\n        /*console.log(\"depth calc from normal=\",planeNormalWS.toString(),\" and constant \"+planeEqWS+\" and vertex \",pVtxIn[i].toString(),\" gives \"+depth);*/\n        if (depth <=minDist){\n            console.log(\"clamped: depth=\"+depth+\" to minDist=\"+(minDist+\"\"));\n            depth = minDist;\n        }\n\n        if (depth <=maxDist){\n            var point = pVtxIn[i];\n            if(depth<=0){\n                /*console.log(\"Got contact point \",point.toString(),\n                  \", depth=\",depth,\n                  \"contact normal=\",separatingNormal.toString(),\n                  \"plane\",planeNormalWS.toString(),\n                  \"planeConstant\",planeEqWS);*/\n                var p = {\n                    point:point,\n                    normal:planeNormalWS,\n                    depth: depth,\n                };\n                result.push(p);\n            }\n        }\n    }\n};\n\n/**\n * Clip a face in a hull against the back of a plane.\n * @method clipFaceAgainstPlane\n * @param {Array} inVertices\n * @param {Array} outVertices\n * @param {Vec3} planeNormal\n * @param {Number} planeConstant The constant in the mathematical plane equation\n */\nConvexPolyhedron.prototype.clipFaceAgainstPlane = function(inVertices,outVertices, planeNormal, planeConstant){\n    var n_dot_first, n_dot_last;\n    var numVerts = inVertices.length;\n\n    if(numVerts < 2){\n        return outVertices;\n    }\n\n    var firstVertex = inVertices[inVertices.length-1],\n        lastVertex =   inVertices[0];\n\n    n_dot_first = planeNormal.dot(firstVertex) + planeConstant;\n\n    for(var vi = 0; vi < numVerts; vi++){\n        lastVertex = inVertices[vi];\n        n_dot_last = planeNormal.dot(lastVertex) + planeConstant;\n        if(n_dot_first < 0){\n            if(n_dot_last < 0){\n                // Start < 0, end < 0, so output lastVertex\n                var newv = new Vec3();\n                newv.copy(lastVertex);\n                outVertices.push(newv);\n            } else {\n                // Start < 0, end >= 0, so output intersection\n                var newv = new Vec3();\n                firstVertex.lerp(lastVertex,\n                                 n_dot_first / (n_dot_first - n_dot_last),\n                                 newv);\n                outVertices.push(newv);\n            }\n        } else {\n            if(n_dot_last<0){\n                // Start >= 0, end < 0 so output intersection and end\n                var newv = new Vec3();\n                firstVertex.lerp(lastVertex,\n                                 n_dot_first / (n_dot_first - n_dot_last),\n                                 newv);\n                outVertices.push(newv);\n                outVertices.push(lastVertex);\n            }\n        }\n        firstVertex = lastVertex;\n        n_dot_first = n_dot_last;\n    }\n    return outVertices;\n};\n\n// Updates .worldVertices and sets .worldVerticesNeedsUpdate to false.\nConvexPolyhedron.prototype.computeWorldVertices = function(position,quat){\n    var N = this.vertices.length;\n    while(this.worldVertices.length < N){\n        this.worldVertices.push( new Vec3() );\n    }\n\n    var verts = this.vertices,\n        worldVerts = this.worldVertices;\n    for(var i=0; i!==N; i++){\n        quat.vmult( verts[i] , worldVerts[i] );\n        position.vadd( worldVerts[i] , worldVerts[i] );\n    }\n\n    this.worldVerticesNeedsUpdate = false;\n};\n\nvar computeLocalAABB_worldVert = new Vec3();\nConvexPolyhedron.prototype.computeLocalAABB = function(aabbmin,aabbmax){\n    var n = this.vertices.length,\n        vertices = this.vertices,\n        worldVert = computeLocalAABB_worldVert;\n\n    aabbmin.set(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n    aabbmax.set(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE);\n\n    for(var i=0; i<n; i++){\n        var v = vertices[i];\n        if     (v.x < aabbmin.x){\n            aabbmin.x = v.x;\n        } else if(v.x > aabbmax.x){\n            aabbmax.x = v.x;\n        }\n        if     (v.y < aabbmin.y){\n            aabbmin.y = v.y;\n        } else if(v.y > aabbmax.y){\n            aabbmax.y = v.y;\n        }\n        if     (v.z < aabbmin.z){\n            aabbmin.z = v.z;\n        } else if(v.z > aabbmax.z){\n            aabbmax.z = v.z;\n        }\n    }\n};\n\n/**\n * Updates .worldVertices and sets .worldVerticesNeedsUpdate to false.\n * @method computeWorldFaceNormals\n * @param  {Quaternion} quat\n */\nConvexPolyhedron.prototype.computeWorldFaceNormals = function(quat){\n    var N = this.faceNormals.length;\n    while(this.worldFaceNormals.length < N){\n        this.worldFaceNormals.push( new Vec3() );\n    }\n\n    var normals = this.faceNormals,\n        worldNormals = this.worldFaceNormals;\n    for(var i=0; i!==N; i++){\n        quat.vmult( normals[i] , worldNormals[i] );\n    }\n\n    this.worldFaceNormalsNeedsUpdate = false;\n};\n\n/**\n * @method updateBoundingSphereRadius\n */\nConvexPolyhedron.prototype.updateBoundingSphereRadius = function(){\n    // Assume points are distributed with local (0,0,0) as center\n    var max2 = 0;\n    var verts = this.vertices;\n    for(var i=0, N=verts.length; i!==N; i++) {\n        var norm2 = verts[i].norm2();\n        if(norm2 > max2){\n            max2 = norm2;\n        }\n    }\n    this.boundingSphereRadius = Math.sqrt(max2);\n};\n\nvar tempWorldVertex = new Vec3();\n\n/**\n * @method calculateWorldAABB\n * @param {Vec3}        pos\n * @param {Quaternion}  quat\n * @param {Vec3}        min\n * @param {Vec3}        max\n */\nConvexPolyhedron.prototype.calculateWorldAABB = function(pos,quat,min,max){\n    var n = this.vertices.length, verts = this.vertices;\n    var minx,miny,minz,maxx,maxy,maxz;\n    for(var i=0; i<n; i++){\n        tempWorldVertex.copy(verts[i]);\n        quat.vmult(tempWorldVertex,tempWorldVertex);\n        pos.vadd(tempWorldVertex,tempWorldVertex);\n        var v = tempWorldVertex;\n        if     (v.x < minx || minx===undefined){\n            minx = v.x;\n        } else if(v.x > maxx || maxx===undefined){\n            maxx = v.x;\n        }\n\n        if     (v.y < miny || miny===undefined){\n            miny = v.y;\n        } else if(v.y > maxy || maxy===undefined){\n            maxy = v.y;\n        }\n\n        if     (v.z < minz || minz===undefined){\n            minz = v.z;\n        } else if(v.z > maxz || maxz===undefined){\n            maxz = v.z;\n        }\n    }\n    min.set(minx,miny,minz);\n    max.set(maxx,maxy,maxz);\n};\n\n/**\n * Get approximate convex volume\n * @method volume\n * @return {Number}\n */\nConvexPolyhedron.prototype.volume = function(){\n    return 4.0 * Math.PI * this.boundingSphereRadius / 3.0;\n};\n\n/**\n * Get an average of all the vertices positions\n * @method getAveragePointLocal\n * @param  {Vec3} target\n * @return {Vec3}\n */\nConvexPolyhedron.prototype.getAveragePointLocal = function(target){\n    target = target || new Vec3();\n    var n = this.vertices.length,\n        verts = this.vertices;\n    for(var i=0; i<n; i++){\n        target.vadd(verts[i],target);\n    }\n    target.mult(1/n,target);\n    return target;\n};\n\n/**\n * Transform all local points. Will change the .vertices\n * @method transformAllPoints\n * @param  {Vec3} offset\n * @param  {Quaternion} quat\n */\nConvexPolyhedron.prototype.transformAllPoints = function(offset,quat){\n    var n = this.vertices.length,\n        verts = this.vertices;\n\n    // Apply rotation\n    if(quat){\n        // Rotate vertices\n        for(var i=0; i<n; i++){\n            var v = verts[i];\n            quat.vmult(v,v);\n        }\n        // Rotate face normals\n        for(var i=0; i<this.faceNormals.length; i++){\n            var v = this.faceNormals[i];\n            quat.vmult(v,v);\n        }\n        /*\n        // Rotate edges\n        for(var i=0; i<this.uniqueEdges.length; i++){\n            var v = this.uniqueEdges[i];\n            quat.vmult(v,v);\n        }*/\n    }\n\n    // Apply offset\n    if(offset){\n        for(var i=0; i<n; i++){\n            var v = verts[i];\n            v.vadd(offset,v);\n        }\n    }\n};\n\n/**\n * Checks whether p is inside the polyhedra. Must be in local coords. The point lies outside of the convex hull of the other points if and only if the direction of all the vectors from it to those other points are on less than one half of a sphere around it.\n * @method pointIsInside\n * @param  {Vec3} p      A point given in local coordinates\n * @return {Boolean}\n */\nvar ConvexPolyhedron_pointIsInside = new Vec3();\nvar ConvexPolyhedron_vToP = new Vec3();\nvar ConvexPolyhedron_vToPointInside = new Vec3();\nConvexPolyhedron.prototype.pointIsInside = function(p){\n    var n = this.vertices.length,\n        verts = this.vertices,\n        faces = this.faces,\n        normals = this.faceNormals;\n    var positiveResult = null;\n    var N = this.faces.length;\n    var pointInside = ConvexPolyhedron_pointIsInside;\n    this.getAveragePointLocal(pointInside);\n    for(var i=0; i<N; i++){\n        var numVertices = this.faces[i].length;\n        var n = normals[i];\n        var v = verts[faces[i][0]]; // We only need one point in the face\n\n        // This dot product determines which side of the edge the point is\n        var vToP = ConvexPolyhedron_vToP;\n        p.vsub(v,vToP);\n        var r1 = n.dot(vToP);\n\n        var vToPointInside = ConvexPolyhedron_vToPointInside;\n        pointInside.vsub(v,vToPointInside);\n        var r2 = n.dot(vToPointInside);\n\n        if((r1<0 && r2>0) || (r1>0 && r2<0)){\n            return false; // Encountered some other sign. Exit.\n        } else {\n        }\n    }\n\n    // If we got here, all dot products were of the same sign.\n    return positiveResult ? 1 : -1;\n};\n\n/**\n * Get max and min dot product of a convex hull at position (pos,quat) projected onto an axis. Results are saved in the array maxmin.\n * @static\n * @method project\n * @param {ConvexPolyhedron} hull\n * @param {Vec3} axis\n * @param {Vec3} pos\n * @param {Quaternion} quat\n * @param {array} result result[0] and result[1] will be set to maximum and minimum, respectively.\n */\nvar project_worldVertex = new Vec3();\nvar project_localAxis = new Vec3();\nvar project_localOrigin = new Vec3();\nConvexPolyhedron.project = function(hull, axis, pos, quat, result){\n    var n = hull.vertices.length,\n        worldVertex = project_worldVertex,\n        localAxis = project_localAxis,\n        max = 0,\n        min = 0,\n        localOrigin = project_localOrigin,\n        vs = hull.vertices;\n\n    localOrigin.setZero();\n\n    // Transform the axis to local\n    Transform.vectorToLocalFrame(pos, quat, axis, localAxis);\n    Transform.pointToLocalFrame(pos, quat, localOrigin, localOrigin);\n    var add = localOrigin.dot(localAxis);\n\n    min = max = vs[0].dot(localAxis);\n\n    for(var i = 1; i < n; i++){\n        var val = vs[i].dot(localAxis);\n\n        if(val > max){\n            max = val;\n        }\n\n        if(val < min){\n            min = val;\n        }\n    }\n\n    min -= add;\n    max -= add;\n\n    if(min > max){\n        // Inconsistent - swap\n        var temp = min;\n        min = max;\n        max = temp;\n    }\n    // Output\n    result[0] = max;\n    result[1] = min;\n};\n\n},{\"../math/Quaternion\":28,\"../math/Transform\":29,\"../math/Vec3\":30,\"./Shape\":43}],39:[function(_dereq_,module,exports){\nmodule.exports = Cylinder;\n\nvar Shape = _dereq_('./Shape');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar ConvexPolyhedron = _dereq_('./ConvexPolyhedron');\n\n/**\n * @class Cylinder\n * @constructor\n * @extends ConvexPolyhedron\n * @author schteppe / https://github.com/schteppe\n * @param {Number} radiusTop\n * @param {Number} radiusBottom\n * @param {Number} height\n * @param {Number} numSegments The number of segments to build the cylinder out of\n */\nfunction Cylinder( radiusTop, radiusBottom, height , numSegments ) {\n    var N = numSegments,\n        verts = [],\n        axes = [],\n        faces = [],\n        bottomface = [],\n        topface = [],\n        cos = Math.cos,\n        sin = Math.sin;\n\n    // First bottom point\n    verts.push(new Vec3(radiusBottom*cos(0),\n                               radiusBottom*sin(0),\n                               -height*0.5));\n    bottomface.push(0);\n\n    // First top point\n    verts.push(new Vec3(radiusTop*cos(0),\n                               radiusTop*sin(0),\n                               height*0.5));\n    topface.push(1);\n\n    for(var i=0; i<N; i++){\n        var theta = 2*Math.PI/N * (i+1);\n        var thetaN = 2*Math.PI/N * (i+0.5);\n        if(i<N-1){\n            // Bottom\n            verts.push(new Vec3(radiusBottom*cos(theta),\n                                       radiusBottom*sin(theta),\n                                       -height*0.5));\n            bottomface.push(2*i+2);\n            // Top\n            verts.push(new Vec3(radiusTop*cos(theta),\n                                       radiusTop*sin(theta),\n                                       height*0.5));\n            topface.push(2*i+3);\n\n            // Face\n            faces.push([2*i+2, 2*i+3, 2*i+1,2*i]);\n        } else {\n            faces.push([0,1, 2*i+1, 2*i]); // Connect\n        }\n\n        // Axis: we can cut off half of them if we have even number of segments\n        if(N % 2 === 1 || i < N / 2){\n            axes.push(new Vec3(cos(thetaN), sin(thetaN), 0));\n        }\n    }\n    faces.push(topface);\n    axes.push(new Vec3(0,0,1));\n\n    // Reorder bottom face\n    var temp = [];\n    for(var i=0; i<bottomface.length; i++){\n        temp.push(bottomface[bottomface.length - i - 1]);\n    }\n    faces.push(temp);\n\n    this.type = Shape.types.CONVEXPOLYHEDRON;\n    ConvexPolyhedron.call( this, verts, faces, axes );\n}\n\nCylinder.prototype = new ConvexPolyhedron();\n\n},{\"../math/Quaternion\":28,\"../math/Vec3\":30,\"./ConvexPolyhedron\":38,\"./Shape\":43}],40:[function(_dereq_,module,exports){\nvar Shape = _dereq_('./Shape');\nvar ConvexPolyhedron = _dereq_('./ConvexPolyhedron');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Utils = _dereq_('../utils/Utils');\n\nmodule.exports = Heightfield;\n\n/**\n * Heightfield shape class. Height data is given as an array. These data points are spread out evenly with a given distance.\n * @class Heightfield\n * @extends Shape\n * @constructor\n * @param {Array} data An array of Y values that will be used to construct the terrain.\n * @param {object} options\n * @param {Number} [options.minValue] Minimum value of the data points in the data array. Will be computed automatically if not given.\n * @param {Number} [options.maxValue] Maximum value.\n * @param {Number} [options.elementSize=0.1] World spacing between the data points in X direction.\n * @todo Should be possible to use along all axes, not just y\n *\n * @example\n *     // Generate some height data (y-values).\n *     var data = [];\n *     for(var i = 0; i < 1000; i++){\n *         var y = 0.5 * Math.cos(0.2 * i);\n *         data.push(y);\n *     }\n *\n *     // Create the heightfield shape\n *     var heightfieldShape = new Heightfield(data, {\n *         elementSize: 1 // Distance between the data points in X and Y directions\n *     });\n *     var heightfieldBody = new Body();\n *     heightfieldBody.addShape(heightfieldShape);\n *     world.addBody(heightfieldBody);\n */\nfunction Heightfield(data, options){\n    options = Utils.defaults(options, {\n        maxValue : null,\n        minValue : null,\n        elementSize : 1\n    });\n\n    /**\n     * An array of numbers, or height values, that are spread out along the x axis.\n     * @property {array} data\n     */\n    this.data = data;\n\n    /**\n     * Max value of the data\n     * @property {number} maxValue\n     */\n    this.maxValue = options.maxValue;\n\n    /**\n     * Max value of the data\n     * @property {number} minValue\n     */\n    this.minValue = options.minValue;\n\n    /**\n     * The width of each element\n     * @property {number} elementSize\n     * @todo elementSizeX and Y\n     */\n    this.elementSize = options.elementSize;\n\n    if(options.minValue === null){\n        this.updateMinValue();\n    }\n    if(options.maxValue === null){\n        this.updateMaxValue();\n    }\n\n    this.cacheEnabled = true;\n\n    Shape.call(this);\n\n    this.pillarConvex = new ConvexPolyhedron();\n    this.pillarOffset = new Vec3();\n\n    this.type = Shape.types.HEIGHTFIELD;\n    this.updateBoundingSphereRadius();\n\n    // \"i_j_isUpper\" => { convex: ..., offset: ... }\n    // for example:\n    // _cachedPillars[\"0_2_1\"]\n    this._cachedPillars = {};\n}\nHeightfield.prototype = new Shape();\n\n/**\n * Call whenever you change the data array.\n * @method update\n */\nHeightfield.prototype.update = function(){\n    this._cachedPillars = {};\n};\n\n/**\n * Update the .minValue property\n * @method updateMinValue\n */\nHeightfield.prototype.updateMinValue = function(){\n    var data = this.data;\n    var minValue = data[0][0];\n    for(var i=0; i !== data.length; i++){\n        for(var j=0; j !== data[i].length; j++){\n            var v = data[i][j];\n            if(v < minValue){\n                minValue = v;\n            }\n        }\n    }\n    this.minValue = minValue;\n};\n\n/**\n * Update the .maxValue property\n * @method updateMaxValue\n */\nHeightfield.prototype.updateMaxValue = function(){\n    var data = this.data;\n    var maxValue = data[0][0];\n    for(var i=0; i !== data.length; i++){\n        for(var j=0; j !== data[i].length; j++){\n            var v = data[i][j];\n            if(v > maxValue){\n                maxValue = v;\n            }\n        }\n    }\n    this.maxValue = maxValue;\n};\n\n/**\n * Set the height value at an index. Don't forget to update maxValue and minValue after you're done.\n * @method setHeightValueAtIndex\n * @param {integer} xi\n * @param {integer} yi\n * @param {number} value\n */\nHeightfield.prototype.setHeightValueAtIndex = function(xi, yi, value){\n    var data = this.data;\n    data[xi][yi] = value;\n\n    // Invalidate cache\n    this.clearCachedConvexTrianglePillar(xi, yi, false);\n    if(xi > 0){\n        this.clearCachedConvexTrianglePillar(xi - 1, yi, true);\n        this.clearCachedConvexTrianglePillar(xi - 1, yi, false);\n    }\n    if(yi > 0){\n        this.clearCachedConvexTrianglePillar(xi, yi - 1, true);\n        this.clearCachedConvexTrianglePillar(xi, yi - 1, false);\n    }\n    if(yi > 0 && xi > 0){\n        this.clearCachedConvexTrianglePillar(xi - 1, yi - 1, true);\n    }\n};\n\n/**\n * Get max/min in a rectangle in the matrix data\n * @method getRectMinMax\n * @param  {integer} iMinX\n * @param  {integer} iMinY\n * @param  {integer} iMaxX\n * @param  {integer} iMaxY\n * @param  {array} [result] An array to store the results in.\n * @return {array} The result array, if it was passed in. Minimum will be at position 0 and max at 1.\n */\nHeightfield.prototype.getRectMinMax = function (iMinX, iMinY, iMaxX, iMaxY, result) {\n    result = result || [];\n\n    // Get max and min of the data\n    var data = this.data,\n        max = this.minValue; // Set first value\n    for(var i = iMinX; i <= iMaxX; i++){\n        for(var j = iMinY; j <= iMaxY; j++){\n            var height = data[i][j];\n            if(height > max){\n                max = height;\n            }\n        }\n    }\n\n    result[0] = this.minValue;\n    result[1] = max;\n};\n\n/**\n * Get the index of a local position on the heightfield. The indexes indicate the rectangles, so if your terrain is made of N x N height data points, you will have rectangle indexes ranging from 0 to N-1.\n * @method getIndexOfPosition\n * @param  {number} x\n * @param  {number} y\n * @param  {array} result Two-element array\n * @param  {boolean} clamp If the position should be clamped to the heightfield edge.\n * @return {boolean}\n */\nHeightfield.prototype.getIndexOfPosition = function (x, y, result, clamp) {\n\n    // Get the index of the data points to test against\n    var w = this.elementSize;\n    var data = this.data;\n    var xi = Math.floor(x / w);\n    var yi = Math.floor(y / w);\n\n    result[0] = xi;\n    result[1] = yi;\n\n    if(clamp){\n        // Clamp index to edges\n        if(xi < 0){ xi = 0; }\n        if(yi < 0){ yi = 0; }\n        if(xi >= data.length - 1){ xi = data.length - 1; }\n        if(yi >= data[0].length - 1){ yi = data[0].length - 1; }\n    }\n\n    // Bail out if we are out of the terrain\n    if(xi < 0 || yi < 0 || xi >= data.length-1 || yi >= data[0].length-1){\n        return false;\n    }\n\n    return true;\n};\n\nHeightfield.prototype.getHeightAt = function(x, y, edgeClamp){\n    var idx = [];\n    this.getIndexOfPosition(x, y, idx, edgeClamp);\n\n    // TODO: get upper or lower triangle, then use barycentric interpolation to get the height in the triangle.\n    var minmax = [];\n    this.getRectMinMax(idx[0], idx[1] + 1, idx[0], idx[1] + 1, minmax);\n\n    return (minmax[0] + minmax[1]) / 2; // average\n};\n\nHeightfield.prototype.getCacheConvexTrianglePillarKey = function(xi, yi, getUpperTriangle){\n    return xi + '_' + yi + '_' + (getUpperTriangle ? 1 : 0);\n};\n\nHeightfield.prototype.getCachedConvexTrianglePillar = function(xi, yi, getUpperTriangle){\n    return this._cachedPillars[this.getCacheConvexTrianglePillarKey(xi, yi, getUpperTriangle)];\n};\n\nHeightfield.prototype.setCachedConvexTrianglePillar = function(xi, yi, getUpperTriangle, convex, offset){\n    this._cachedPillars[this.getCacheConvexTrianglePillarKey(xi, yi, getUpperTriangle)] = {\n        convex: convex,\n        offset: offset\n    };\n};\n\nHeightfield.prototype.clearCachedConvexTrianglePillar = function(xi, yi, getUpperTriangle){\n    delete this._cachedPillars[this.getCacheConvexTrianglePillarKey(xi, yi, getUpperTriangle)];\n};\n\n/**\n * Get a triangle in the terrain in the form of a triangular convex shape.\n * @method getConvexTrianglePillar\n * @param  {integer} i\n * @param  {integer} j\n * @param  {boolean} getUpperTriangle\n */\nHeightfield.prototype.getConvexTrianglePillar = function(xi, yi, getUpperTriangle){\n    var result = this.pillarConvex;\n    var offsetResult = this.pillarOffset;\n\n    if(this.cacheEnabled){\n        var data = this.getCachedConvexTrianglePillar(xi, yi, getUpperTriangle);\n        if(data){\n            this.pillarConvex = data.convex;\n            this.pillarOffset = data.offset;\n            return;\n        }\n\n        result = new ConvexPolyhedron();\n        offsetResult = new Vec3();\n\n        this.pillarConvex = result;\n        this.pillarOffset = offsetResult;\n    }\n\n    var data = this.data;\n    var elementSize = this.elementSize;\n    var faces = result.faces;\n\n    // Reuse verts if possible\n    result.vertices.length = 6;\n    for (var i = 0; i < 6; i++) {\n        if(!result.vertices[i]){\n            result.vertices[i] = new Vec3();\n        }\n    }\n\n    // Reuse faces if possible\n    faces.length = 5;\n    for (var i = 0; i < 5; i++) {\n        if(!faces[i]){\n            faces[i] = [];\n        }\n    }\n\n    var verts = result.vertices;\n\n    var h = (Math.min(\n        data[xi][yi],\n        data[xi+1][yi],\n        data[xi][yi+1],\n        data[xi+1][yi+1]\n    ) - this.minValue ) / 2 + this.minValue;\n\n    if (!getUpperTriangle) {\n\n        // Center of the triangle pillar - all polygons are given relative to this one\n        offsetResult.set(\n            (xi + 0.25) * elementSize, // sort of center of a triangle\n            (yi + 0.25) * elementSize,\n            h // vertical center\n        );\n\n        // Top triangle verts\n        verts[0].set(\n            -0.25 * elementSize,\n            -0.25 * elementSize,\n            data[xi][yi] - h\n        );\n        verts[1].set(\n            0.75 * elementSize,\n            -0.25 * elementSize,\n            data[xi + 1][yi] - h\n        );\n        verts[2].set(\n            -0.25 * elementSize,\n            0.75 * elementSize,\n            data[xi][yi + 1] - h\n        );\n\n        // bottom triangle verts\n        verts[3].set(\n            -0.25 * elementSize,\n            -0.25 * elementSize,\n            -h-1\n        );\n        verts[4].set(\n            0.75 * elementSize,\n            -0.25 * elementSize,\n            -h-1\n        );\n        verts[5].set(\n            -0.25 * elementSize,\n            0.75  * elementSize,\n            -h-1\n        );\n\n        // top triangle\n        faces[0][0] = 0;\n        faces[0][1] = 1;\n        faces[0][2] = 2;\n\n        // bottom triangle\n        faces[1][0] = 5;\n        faces[1][1] = 4;\n        faces[1][2] = 3;\n\n        // -x facing quad\n        faces[2][0] = 0;\n        faces[2][1] = 2;\n        faces[2][2] = 5;\n        faces[2][3] = 3;\n\n        // -y facing quad\n        faces[3][0] = 1;\n        faces[3][1] = 0;\n        faces[3][2] = 3;\n        faces[3][3] = 4;\n\n        // +xy facing quad\n        faces[4][0] = 4;\n        faces[4][1] = 5;\n        faces[4][2] = 2;\n        faces[4][3] = 1;\n\n\n    } else {\n\n        // Center of the triangle pillar - all polygons are given relative to this one\n        offsetResult.set(\n            (xi + 0.75) * elementSize, // sort of center of a triangle\n            (yi + 0.75) * elementSize,\n            h // vertical center\n        );\n\n        // Top triangle verts\n        verts[0].set(\n            0.25 * elementSize,\n            0.25 * elementSize,\n            data[xi + 1][yi + 1] - h\n        );\n        verts[1].set(\n            -0.75 * elementSize,\n            0.25 * elementSize,\n            data[xi][yi + 1] - h\n        );\n        verts[2].set(\n            0.25 * elementSize,\n            -0.75 * elementSize,\n            data[xi + 1][yi] - h\n        );\n\n        // bottom triangle verts\n        verts[3].set(\n            0.25 * elementSize,\n            0.25 * elementSize,\n            - h-1\n        );\n        verts[4].set(\n            -0.75 * elementSize,\n            0.25 * elementSize,\n            - h-1\n        );\n        verts[5].set(\n            0.25 * elementSize,\n            -0.75 * elementSize,\n            - h-1\n        );\n\n        // Top triangle\n        faces[0][0] = 0;\n        faces[0][1] = 1;\n        faces[0][2] = 2;\n\n        // bottom triangle\n        faces[1][0] = 5;\n        faces[1][1] = 4;\n        faces[1][2] = 3;\n\n        // +x facing quad\n        faces[2][0] = 2;\n        faces[2][1] = 5;\n        faces[2][2] = 3;\n        faces[2][3] = 0;\n\n        // +y facing quad\n        faces[3][0] = 3;\n        faces[3][1] = 4;\n        faces[3][2] = 1;\n        faces[3][3] = 0;\n\n        // -xy facing quad\n        faces[4][0] = 1;\n        faces[4][1] = 4;\n        faces[4][2] = 5;\n        faces[4][3] = 2;\n    }\n\n    result.computeNormals();\n    result.computeEdges();\n    result.updateBoundingSphereRadius();\n\n    this.setCachedConvexTrianglePillar(xi, yi, getUpperTriangle, result, offsetResult);\n};\n\nHeightfield.prototype.calculateLocalInertia = function(mass, target){\n    target = target || new Vec3();\n    target.set(0, 0, 0);\n    return target;\n};\n\nHeightfield.prototype.volume = function(){\n    return Number.MAX_VALUE; // The terrain is infinite\n};\n\nHeightfield.prototype.calculateWorldAABB = function(pos, quat, min, max){\n    // TODO: do it properly\n    min.set(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE);\n    max.set(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n};\n\nHeightfield.prototype.updateBoundingSphereRadius = function(){\n    // Use the bounding box of the min/max values\n    var data = this.data,\n        s = this.elementSize;\n    this.boundingSphereRadius = new Vec3(data.length * s, data[0].length * s, Math.max(Math.abs(this.maxValue), Math.abs(this.minValue))).norm();\n};\n\n},{\"../math/Vec3\":30,\"../utils/Utils\":53,\"./ConvexPolyhedron\":38,\"./Shape\":43}],41:[function(_dereq_,module,exports){\nmodule.exports = Particle;\n\nvar Shape = _dereq_('./Shape');\nvar Vec3 = _dereq_('../math/Vec3');\n\n/**\n * Particle shape.\n * @class Particle\n * @constructor\n * @author schteppe\n * @extends Shape\n */\nfunction Particle(){\n    Shape.call(this);\n\n    this.type = Shape.types.PARTICLE;\n}\nParticle.prototype = new Shape();\nParticle.prototype.constructor = Particle;\n\n/**\n * @method calculateLocalInertia\n * @param  {Number} mass\n * @param  {Vec3} target\n * @return {Vec3}\n */\nParticle.prototype.calculateLocalInertia = function(mass,target){\n    target = target || new Vec3();\n    target.set(0, 0, 0);\n    return target;\n};\n\nParticle.prototype.volume = function(){\n    return 0;\n};\n\nParticle.prototype.updateBoundingSphereRadius = function(){\n    this.boundingSphereRadius = 0;\n};\n\nParticle.prototype.calculateWorldAABB = function(pos,quat,min,max){\n    // Get each axis max\n    min.copy(pos);\n    max.copy(pos);\n};\n\n},{\"../math/Vec3\":30,\"./Shape\":43}],42:[function(_dereq_,module,exports){\nmodule.exports = Plane;\n\nvar Shape = _dereq_('./Shape');\nvar Vec3 = _dereq_('../math/Vec3');\n\n/**\n * A plane, facing in the Z direction. The plane has its surface at z=0 and everything below z=0 is assumed to be solid plane. To make the plane face in some other direction than z, you must put it inside a RigidBody and rotate that body. See the demos.\n * @class Plane\n * @constructor\n * @extends Shape\n * @author schteppe\n */\nfunction Plane(){\n    Shape.call(this);\n    this.type = Shape.types.PLANE;\n\n    // World oriented normal\n    this.worldNormal = new Vec3();\n    this.worldNormalNeedsUpdate = true;\n\n    this.boundingSphereRadius = Number.MAX_VALUE;\n}\nPlane.prototype = new Shape();\nPlane.prototype.constructor = Plane;\n\nPlane.prototype.computeWorldNormal = function(quat){\n    var n = this.worldNormal;\n    n.set(0,0,1);\n    quat.vmult(n,n);\n    this.worldNormalNeedsUpdate = false;\n};\n\nPlane.prototype.calculateLocalInertia = function(mass,target){\n    target = target || new Vec3();\n    return target;\n};\n\nPlane.prototype.volume = function(){\n    return Number.MAX_VALUE; // The plane is infinite...\n};\n\nvar tempNormal = new Vec3();\nPlane.prototype.calculateWorldAABB = function(pos, quat, min, max){\n    // The plane AABB is infinite, except if the normal is pointing along any axis\n    tempNormal.set(0,0,1); // Default plane normal is z\n    quat.vmult(tempNormal,tempNormal);\n    var maxVal = Number.MAX_VALUE;\n    min.set(-maxVal, -maxVal, -maxVal);\n    max.set(maxVal, maxVal, maxVal);\n\n    if(tempNormal.x === 1){ max.x = pos.x; }\n    if(tempNormal.y === 1){ max.y = pos.y; }\n    if(tempNormal.z === 1){ max.z = pos.z; }\n\n    if(tempNormal.x === -1){ min.x = pos.x; }\n    if(tempNormal.y === -1){ min.y = pos.y; }\n    if(tempNormal.z === -1){ min.z = pos.z; }\n};\n\nPlane.prototype.updateBoundingSphereRadius = function(){\n    this.boundingSphereRadius = Number.MAX_VALUE;\n};\n},{\"../math/Vec3\":30,\"./Shape\":43}],43:[function(_dereq_,module,exports){\nmodule.exports = Shape;\n\nvar Shape = _dereq_('./Shape');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar Material = _dereq_('../material/Material');\n\n/**\n * Base class for shapes\n * @class Shape\n * @constructor\n * @author schteppe\n * @todo Should have a mechanism for caching bounding sphere radius instead of calculating it each time\n */\nfunction Shape(){\n\n    /**\n     * Identifyer of the Shape.\n     * @property {number} id\n     */\n    this.id = Shape.idCounter++;\n\n    /**\n     * The type of this shape. Must be set to an int > 0 by subclasses.\n     * @property type\n     * @type {Number}\n     * @see Shape.types\n     */\n    this.type = 0;\n\n    /**\n     * The local bounding sphere radius of this shape.\n     * @property {Number} boundingSphereRadius\n     */\n    this.boundingSphereRadius = 0;\n\n    /**\n     * Whether to produce contact forces when in contact with other bodies. Note that contacts will be generated, but they will be disabled.\n     * @property {boolean} collisionResponse\n     */\n    this.collisionResponse = true;\n\n    /**\n     * @property {Material} material\n     */\n    this.material = null;\n}\nShape.prototype.constructor = Shape;\n\n/**\n * Computes the bounding sphere radius. The result is stored in the property .boundingSphereRadius\n * @method updateBoundingSphereRadius\n * @return {Number}\n */\nShape.prototype.updateBoundingSphereRadius = function(){\n    throw \"computeBoundingSphereRadius() not implemented for shape type \"+this.type;\n};\n\n/**\n * Get the volume of this shape\n * @method volume\n * @return {Number}\n */\nShape.prototype.volume = function(){\n    throw \"volume() not implemented for shape type \"+this.type;\n};\n\n/**\n * Calculates the inertia in the local frame for this shape.\n * @method calculateLocalInertia\n * @return {Vec3}\n * @see http://en.wikipedia.org/wiki/List_of_moments_of_inertia\n */\nShape.prototype.calculateLocalInertia = function(mass,target){\n    throw \"calculateLocalInertia() not implemented for shape type \"+this.type;\n};\n\nShape.idCounter = 0;\n\n/**\n * The available shape types.\n * @static\n * @property types\n * @type {Object}\n */\nShape.types = {\n    SPHERE:1,\n    PLANE:2,\n    BOX:4,\n    COMPOUND:8,\n    CONVEXPOLYHEDRON:16,\n    HEIGHTFIELD:32,\n    PARTICLE:64,\n    CYLINDER:128,\n    TRIMESH:256\n};\n\n\n},{\"../material/Material\":25,\"../math/Quaternion\":28,\"../math/Vec3\":30,\"./Shape\":43}],44:[function(_dereq_,module,exports){\nmodule.exports = Sphere;\n\nvar Shape = _dereq_('./Shape');\nvar Vec3 = _dereq_('../math/Vec3');\n\n/**\n * Spherical shape\n * @class Sphere\n * @constructor\n * @extends Shape\n * @param {Number} radius The radius of the sphere, a non-negative number.\n * @author schteppe / http://github.com/schteppe\n */\nfunction Sphere(radius){\n    Shape.call(this);\n\n    /**\n     * @property {Number} radius\n     */\n    this.radius = radius!==undefined ? Number(radius) : 1.0;\n    this.type = Shape.types.SPHERE;\n\n    if(this.radius < 0){\n        throw new Error('The sphere radius cannot be negative.');\n    }\n\n    this.updateBoundingSphereRadius();\n}\nSphere.prototype = new Shape();\nSphere.prototype.constructor = Sphere;\n\nSphere.prototype.calculateLocalInertia = function(mass,target){\n    target = target || new Vec3();\n    var I = 2.0*mass*this.radius*this.radius/5.0;\n    target.x = I;\n    target.y = I;\n    target.z = I;\n    return target;\n};\n\nSphere.prototype.volume = function(){\n    return 4.0 * Math.PI * this.radius / 3.0;\n};\n\nSphere.prototype.updateBoundingSphereRadius = function(){\n    this.boundingSphereRadius = this.radius;\n};\n\nSphere.prototype.calculateWorldAABB = function(pos,quat,min,max){\n    var r = this.radius;\n    var axes = ['x','y','z'];\n    for(var i=0; i<axes.length; i++){\n        var ax = axes[i];\n        min[ax] = pos[ax] - r;\n        max[ax] = pos[ax] + r;\n    }\n};\n\n},{\"../math/Vec3\":30,\"./Shape\":43}],45:[function(_dereq_,module,exports){\nmodule.exports = Trimesh;\n\nvar Shape = _dereq_('./Shape');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar Transform = _dereq_('../math/Transform');\nvar AABB = _dereq_('../collision/AABB');\nvar Octree = _dereq_('../utils/Octree');\n\n/**\n * @class Trimesh\n * @constructor\n * @param {array} vertices\n * @param {array} indices\n * @extends Shape\n * @example\n *     // How to make a mesh with a single triangle\n *     var vertices = [\n *         0, 0, 0, // vertex 0\n *         1, 0, 0, // vertex 1\n *         0, 1, 0  // vertex 2\n *     ];\n *     var indices = [\n *         0, 1, 2  // triangle 0\n *     ];\n *     var trimeshShape = new Trimesh(vertices, indices);\n */\nfunction Trimesh(vertices, indices) {\n    Shape.call(this);\n    this.type = Shape.types.TRIMESH;\n\n    /**\n     * @property vertices\n     * @type {Array}\n     */\n    this.vertices = new Float32Array(vertices);\n\n    /**\n     * Array of integers, indicating which vertices each triangle consists of. The length of this array is thus 3 times the number of triangles.\n     * @property indices\n     * @type {Array}\n     */\n    this.indices = new Int16Array(indices);\n\n    /**\n     * The normals data.\n     * @property normals\n     * @type {Array}\n     */\n    this.normals = new Float32Array(indices.length);\n\n    /**\n     * The local AABB of the mesh.\n     * @property aabb\n     * @type {Array}\n     */\n    this.aabb = new AABB();\n\n    /**\n     * References to vertex pairs, making up all unique edges in the trimesh.\n     * @property {array} edges\n     */\n    this.edges = null;\n\n    /**\n     * Local scaling of the mesh. Use .setScale() to set it.\n     * @property {Vec3} scale\n     */\n    this.scale = new Vec3(1, 1, 1);\n\n    /**\n     * The indexed triangles. Use .updateTree() to update it.\n     * @property {Octree} tree\n     */\n    this.tree = new Octree();\n\n    this.updateEdges();\n    this.updateNormals();\n    this.updateAABB();\n    this.updateBoundingSphereRadius();\n    this.updateTree();\n}\nTrimesh.prototype = new Shape();\nTrimesh.prototype.constructor = Trimesh;\n\nvar computeNormals_n = new Vec3();\n\n/**\n * @method updateTree\n */\nTrimesh.prototype.updateTree = function(){\n    var tree = this.tree;\n\n    tree.reset();\n    tree.aabb.copy(this.aabb);\n    var scale = this.scale; // The local mesh AABB is scaled, but the octree AABB should be unscaled\n    tree.aabb.lowerBound.x *= 1 / scale.x;\n    tree.aabb.lowerBound.y *= 1 / scale.y;\n    tree.aabb.lowerBound.z *= 1 / scale.z;\n    tree.aabb.upperBound.x *= 1 / scale.x;\n    tree.aabb.upperBound.y *= 1 / scale.y;\n    tree.aabb.upperBound.z *= 1 / scale.z;\n\n    // Insert all triangles\n    var triangleAABB = new AABB();\n    var a = new Vec3();\n    var b = new Vec3();\n    var c = new Vec3();\n    var points = [a, b, c];\n    for (var i = 0; i < this.indices.length / 3; i++) {\n        //this.getTriangleVertices(i, a, b, c);\n\n        // Get unscaled triangle verts\n        var i3 = i * 3;\n        this._getUnscaledVertex(this.indices[i3], a);\n        this._getUnscaledVertex(this.indices[i3 + 1], b);\n        this._getUnscaledVertex(this.indices[i3 + 2], c);\n\n        triangleAABB.setFromPoints(points);\n        tree.insert(triangleAABB, i);\n    }\n    tree.removeEmptyNodes();\n};\n\nvar unscaledAABB = new AABB();\n\n/**\n * Get triangles in a local AABB from the trimesh.\n * @method getTrianglesInAABB\n * @param  {AABB} aabb\n * @param  {array} result An array of integers, referencing the queried triangles.\n */\nTrimesh.prototype.getTrianglesInAABB = function(aabb, result){\n    unscaledAABB.copy(aabb);\n\n    // Scale it to local\n    var scale = this.scale;\n    var isx = scale.x;\n    var isy = scale.y;\n    var isz = scale.z;\n    var l = unscaledAABB.lowerBound;\n    var u = unscaledAABB.upperBound;\n    l.x /= isx;\n    l.y /= isy;\n    l.z /= isz;\n    u.x /= isx;\n    u.y /= isy;\n    u.z /= isz;\n\n    return this.tree.aabbQuery(unscaledAABB, result);\n};\n\n/**\n * @method setScale\n * @param {Vec3} scale\n */\nTrimesh.prototype.setScale = function(scale){\n    var wasUniform = this.scale.x === this.scale.y === this.scale.z;\n    var isUniform = scale.x === scale.y === scale.z;\n\n    if(!(wasUniform && isUniform)){\n        // Non-uniform scaling. Need to update normals.\n        this.updateNormals();\n    }\n    this.scale.copy(scale);\n    this.updateAABB();\n    this.updateBoundingSphereRadius();\n};\n\n/**\n * Compute the normals of the faces. Will save in the .normals array.\n * @method updateNormals\n */\nTrimesh.prototype.updateNormals = function(){\n    var n = computeNormals_n;\n\n    // Generate normals\n    var normals = this.normals;\n    for(var i=0; i < this.indices.length / 3; i++){\n        var i3 = i * 3;\n\n        var a = this.indices[i3],\n            b = this.indices[i3 + 1],\n            c = this.indices[i3 + 2];\n\n        this.getVertex(a, va);\n        this.getVertex(b, vb);\n        this.getVertex(c, vc);\n\n        Trimesh.computeNormal(vb, va, vc, n);\n\n        normals[i3] = n.x;\n        normals[i3 + 1] = n.y;\n        normals[i3 + 2] = n.z;\n    }\n};\n\n/**\n * Update the .edges property\n * @method updateEdges\n */\nTrimesh.prototype.updateEdges = function(){\n    var edges = {};\n    var add = function(indexA, indexB){\n        var key = a < b ? a + '_' + b : b + '_' + a;\n        edges[key] = true;\n    };\n    for(var i=0; i < this.indices.length / 3; i++){\n        var i3 = i * 3;\n        var a = this.indices[i3],\n            b = this.indices[i3 + 1],\n            c = this.indices[i3 + 2];\n        add(a,b);\n        add(b,c);\n        add(c,a);\n    }\n    var keys = Object.keys(edges);\n    this.edges = new Int16Array(keys.length * 2);\n    for (var i = 0; i < keys.length; i++) {\n        var indices = keys[i].split('_');\n        this.edges[2 * i] = parseInt(indices[0], 10);\n        this.edges[2 * i + 1] = parseInt(indices[1], 10);\n    }\n};\n\n/**\n * Get an edge vertex\n * @method getEdgeVertex\n * @param  {number} edgeIndex\n * @param  {number} firstOrSecond 0 or 1, depending on which one of the vertices you need.\n * @param  {Vec3} vertexStore Where to store the result\n */\nTrimesh.prototype.getEdgeVertex = function(edgeIndex, firstOrSecond, vertexStore){\n    var vertexIndex = this.edges[edgeIndex * 2 + (firstOrSecond ? 1 : 0)];\n    this.getVertex(vertexIndex, vertexStore);\n};\n\nvar getEdgeVector_va = new Vec3();\nvar getEdgeVector_vb = new Vec3();\n\n/**\n * Get a vector along an edge.\n * @method getEdgeVector\n * @param  {number} edgeIndex\n * @param  {Vec3} vectorStore\n */\nTrimesh.prototype.getEdgeVector = function(edgeIndex, vectorStore){\n    var va = getEdgeVector_va;\n    var vb = getEdgeVector_vb;\n    this.getEdgeVertex(edgeIndex, 0, va);\n    this.getEdgeVertex(edgeIndex, 1, vb);\n    vb.vsub(va, vectorStore);\n};\n\n/**\n * Get face normal given 3 vertices\n * @static\n * @method computeNormal\n * @param {Vec3} va\n * @param {Vec3} vb\n * @param {Vec3} vc\n * @param {Vec3} target\n */\nvar cb = new Vec3();\nvar ab = new Vec3();\nTrimesh.computeNormal = function ( va, vb, vc, target ) {\n    vb.vsub(va,ab);\n    vc.vsub(vb,cb);\n    cb.cross(ab,target);\n    if ( !target.isZero() ) {\n        target.normalize();\n    }\n};\n\nvar va = new Vec3();\nvar vb = new Vec3();\nvar vc = new Vec3();\n\n/**\n * Get vertex i.\n * @method getVertex\n * @param  {number} i\n * @param  {Vec3} out\n * @return {Vec3} The \"out\" vector object\n */\nTrimesh.prototype.getVertex = function(i, out){\n    var scale = this.scale;\n    this._getUnscaledVertex(i, out);\n    out.x *= scale.x;\n    out.y *= scale.y;\n    out.z *= scale.z;\n    return out;\n};\n\n/**\n * Get raw vertex i\n * @private\n * @method _getUnscaledVertex\n * @param  {number} i\n * @param  {Vec3} out\n * @return {Vec3} The \"out\" vector object\n */\nTrimesh.prototype._getUnscaledVertex = function(i, out){\n    var i3 = i * 3;\n    var vertices = this.vertices;\n    return out.set(\n        vertices[i3],\n        vertices[i3 + 1],\n        vertices[i3 + 2]\n    );\n};\n\n/**\n * Get a vertex from the trimesh,transformed by the given position and quaternion.\n * @method getWorldVertex\n * @param  {number} i\n * @param  {Vec3} pos\n * @param  {Quaternion} quat\n * @param  {Vec3} out\n * @return {Vec3} The \"out\" vector object\n */\nTrimesh.prototype.getWorldVertex = function(i, pos, quat, out){\n    this.getVertex(i, out);\n    Transform.pointToWorldFrame(pos, quat, out, out);\n    return out;\n};\n\n/**\n * Get the three vertices for triangle i.\n * @method getTriangleVertices\n * @param  {number} i\n * @param  {Vec3} a\n * @param  {Vec3} b\n * @param  {Vec3} c\n */\nTrimesh.prototype.getTriangleVertices = function(i, a, b, c){\n    var i3 = i * 3;\n    this.getVertex(this.indices[i3], a);\n    this.getVertex(this.indices[i3 + 1], b);\n    this.getVertex(this.indices[i3 + 2], c);\n};\n\n/**\n * Compute the normal of triangle i.\n * @method getNormal\n * @param  {Number} i\n * @param  {Vec3} target\n * @return {Vec3} The \"target\" vector object\n */\nTrimesh.prototype.getNormal = function(i, target){\n    var i3 = i * 3;\n    return target.set(\n        this.normals[i3],\n        this.normals[i3 + 1],\n        this.normals[i3 + 2]\n    );\n};\n\nvar cli_aabb = new AABB();\n\n/**\n * @method calculateLocalInertia\n * @param  {Number} mass\n * @param  {Vec3} target\n * @return {Vec3} The \"target\" vector object\n */\nTrimesh.prototype.calculateLocalInertia = function(mass,target){\n    // Approximate with box inertia\n    // Exact inertia calculation is overkill, but see http://geometrictools.com/Documentation/PolyhedralMassProperties.pdf for the correct way to do it\n    this.computeLocalAABB(cli_aabb);\n    var x = cli_aabb.upperBound.x - cli_aabb.lowerBound.x,\n        y = cli_aabb.upperBound.y - cli_aabb.lowerBound.y,\n        z = cli_aabb.upperBound.z - cli_aabb.lowerBound.z;\n    return target.set(\n        1.0 / 12.0 * mass * ( 2*y*2*y + 2*z*2*z ),\n        1.0 / 12.0 * mass * ( 2*x*2*x + 2*z*2*z ),\n        1.0 / 12.0 * mass * ( 2*y*2*y + 2*x*2*x )\n    );\n};\n\nvar computeLocalAABB_worldVert = new Vec3();\n\n/**\n * Compute the local AABB for the trimesh\n * @method computeLocalAABB\n * @param  {AABB} aabb\n */\nTrimesh.prototype.computeLocalAABB = function(aabb){\n    var l = aabb.lowerBound,\n        u = aabb.upperBound,\n        n = this.vertices.length,\n        vertices = this.vertices,\n        v = computeLocalAABB_worldVert;\n\n    this.getVertex(0, v);\n    l.copy(v);\n    u.copy(v);\n\n    for(var i=0; i !== n; i++){\n        this.getVertex(i, v);\n\n        if(v.x < l.x){\n            l.x = v.x;\n        } else if(v.x > u.x){\n            u.x = v.x;\n        }\n\n        if(v.y < l.y){\n            l.y = v.y;\n        } else if(v.y > u.y){\n            u.y = v.y;\n        }\n\n        if(v.z < l.z){\n            l.z = v.z;\n        } else if(v.z > u.z){\n            u.z = v.z;\n        }\n    }\n};\n\n\n/**\n * Update the .aabb property\n * @method updateAABB\n */\nTrimesh.prototype.updateAABB = function(){\n    this.computeLocalAABB(this.aabb);\n};\n\n/**\n * Will update the .boundingSphereRadius property\n * @method updateBoundingSphereRadius\n */\nTrimesh.prototype.updateBoundingSphereRadius = function(){\n    // Assume points are distributed with local (0,0,0) as center\n    var max2 = 0;\n    var vertices = this.vertices;\n    var v = new Vec3();\n    for(var i=0, N=vertices.length / 3; i !== N; i++) {\n        this.getVertex(i, v);\n        var norm2 = v.norm2();\n        if(norm2 > max2){\n            max2 = norm2;\n        }\n    }\n    this.boundingSphereRadius = Math.sqrt(max2);\n};\n\nvar tempWorldVertex = new Vec3();\nvar calculateWorldAABB_frame = new Transform();\nvar calculateWorldAABB_aabb = new AABB();\n\n/**\n * @method calculateWorldAABB\n * @param {Vec3}        pos\n * @param {Quaternion}  quat\n * @param {Vec3}        min\n * @param {Vec3}        max\n */\nTrimesh.prototype.calculateWorldAABB = function(pos,quat,min,max){\n    /*\n    var n = this.vertices.length / 3,\n        verts = this.vertices;\n    var minx,miny,minz,maxx,maxy,maxz;\n\n    var v = tempWorldVertex;\n    for(var i=0; i<n; i++){\n        this.getVertex(i, v);\n        quat.vmult(v, v);\n        pos.vadd(v, v);\n        if (v.x < minx || minx===undefined){\n            minx = v.x;\n        } else if(v.x > maxx || maxx===undefined){\n            maxx = v.x;\n        }\n\n        if (v.y < miny || miny===undefined){\n            miny = v.y;\n        } else if(v.y > maxy || maxy===undefined){\n            maxy = v.y;\n        }\n\n        if (v.z < minz || minz===undefined){\n            minz = v.z;\n        } else if(v.z > maxz || maxz===undefined){\n            maxz = v.z;\n        }\n    }\n    min.set(minx,miny,minz);\n    max.set(maxx,maxy,maxz);\n    */\n\n    // Faster approximation using local AABB\n    var frame = calculateWorldAABB_frame;\n    var result = calculateWorldAABB_aabb;\n    frame.position = pos;\n    frame.quaternion = quat;\n    this.aabb.toWorldFrame(frame, result);\n    min.copy(result.lowerBound);\n    max.copy(result.upperBound);\n};\n\n/**\n * Get approximate volume\n * @method volume\n * @return {Number}\n */\nTrimesh.prototype.volume = function(){\n    return 4.0 * Math.PI * this.boundingSphereRadius / 3.0;\n};\n\n/**\n * Create a Trimesh instance, shaped as a torus.\n * @static\n * @method createTorus\n * @param  {number} [radius=1]\n * @param  {number} [tube=0.5]\n * @param  {number} [radialSegments=8]\n * @param  {number} [tubularSegments=6]\n * @param  {number} [arc=6.283185307179586]\n * @return {Trimesh} A torus\n */\nTrimesh.createTorus = function (radius, tube, radialSegments, tubularSegments, arc) {\n    radius = radius || 1;\n    tube = tube || 0.5;\n    radialSegments = radialSegments || 8;\n    tubularSegments = tubularSegments || 6;\n    arc = arc || Math.PI * 2;\n\n    var vertices = [];\n    var indices = [];\n\n    for ( var j = 0; j <= radialSegments; j ++ ) {\n        for ( var i = 0; i <= tubularSegments; i ++ ) {\n            var u = i / tubularSegments * arc;\n            var v = j / radialSegments * Math.PI * 2;\n\n            var x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n            var y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n            var z = tube * Math.sin( v );\n\n            vertices.push( x, y, z );\n        }\n    }\n\n    for ( var j = 1; j <= radialSegments; j ++ ) {\n        for ( var i = 1; i <= tubularSegments; i ++ ) {\n            var a = ( tubularSegments + 1 ) * j + i - 1;\n            var b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n            var c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n            var d = ( tubularSegments + 1 ) * j + i;\n\n            indices.push(a, b, d);\n            indices.push(b, c, d);\n        }\n    }\n\n    return new Trimesh(vertices, indices);\n};\n\n},{\"../collision/AABB\":3,\"../math/Quaternion\":28,\"../math/Transform\":29,\"../math/Vec3\":30,\"../utils/Octree\":50,\"./Shape\":43}],46:[function(_dereq_,module,exports){\nmodule.exports = GSSolver;\n\nvar Vec3 = _dereq_('../math/Vec3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar Solver = _dereq_('./Solver');\n\n/**\n * Constraint equation Gauss-Seidel solver.\n * @class GSSolver\n * @constructor\n * @todo The spook parameters should be specified for each constraint, not globally.\n * @author schteppe / https://github.com/schteppe\n * @see https://www8.cs.umu.se/kurser/5DV058/VT09/lectures/spooknotes.pdf\n * @extends Solver\n */\nfunction GSSolver(){\n    Solver.call(this);\n\n    /**\n     * The number of solver iterations determines quality of the constraints in the world. The more iterations, the more correct simulation. More iterations need more computations though. If you have a large gravity force in your world, you will need more iterations.\n     * @property iterations\n     * @type {Number}\n     * @todo write more about solver and iterations in the wiki\n     */\n    this.iterations = 10;\n\n    /**\n     * When tolerance is reached, the system is assumed to be converged.\n     * @property tolerance\n     * @type {Number}\n     */\n    this.tolerance = 1e-7;\n}\nGSSolver.prototype = new Solver();\n\nvar GSSolver_solve_lambda = []; // Just temporary number holders that we want to reuse each solve.\nvar GSSolver_solve_invCs = [];\nvar GSSolver_solve_Bs = [];\nGSSolver.prototype.solve = function(dt,world){\n    var iter = 0,\n        maxIter = this.iterations,\n        tolSquared = this.tolerance*this.tolerance,\n        equations = this.equations,\n        Neq = equations.length,\n        bodies = world.bodies,\n        Nbodies = bodies.length,\n        h = dt,\n        q, B, invC, deltalambda, deltalambdaTot, GWlambda, lambdaj;\n\n    // Update solve mass\n    if(Neq !== 0){\n        for(var i=0; i!==Nbodies; i++){\n            bodies[i].updateSolveMassProperties();\n        }\n    }\n\n    // Things that does not change during iteration can be computed once\n    var invCs = GSSolver_solve_invCs,\n        Bs = GSSolver_solve_Bs,\n        lambda = GSSolver_solve_lambda;\n    invCs.length = Neq;\n    Bs.length = Neq;\n    lambda.length = Neq;\n    for(var i=0; i!==Neq; i++){\n        var c = equations[i];\n        lambda[i] = 0.0;\n        Bs[i] = c.computeB(h);\n        invCs[i] = 1.0 / c.computeC();\n    }\n\n    if(Neq !== 0){\n\n        // Reset vlambda\n        for(var i=0; i!==Nbodies; i++){\n            var b=bodies[i],\n                vlambda=b.vlambda,\n                wlambda=b.wlambda;\n            vlambda.set(0,0,0);\n            if(wlambda){\n                wlambda.set(0,0,0);\n            }\n        }\n\n        // Iterate over equations\n        for(iter=0; iter!==maxIter; iter++){\n\n            // Accumulate the total error for each iteration.\n            deltalambdaTot = 0.0;\n\n            for(var j=0; j!==Neq; j++){\n\n                var c = equations[j];\n\n                // Compute iteration\n                B = Bs[j];\n                invC = invCs[j];\n                lambdaj = lambda[j];\n                GWlambda = c.computeGWlambda();\n                deltalambda = invC * ( B - GWlambda - c.eps * lambdaj );\n\n                // Clamp if we are not within the min/max interval\n                if(lambdaj + deltalambda < c.minForce){\n                    deltalambda = c.minForce - lambdaj;\n                } else if(lambdaj + deltalambda > c.maxForce){\n                    deltalambda = c.maxForce - lambdaj;\n                }\n                lambda[j] += deltalambda;\n\n                deltalambdaTot += deltalambda > 0.0 ? deltalambda : -deltalambda; // abs(deltalambda)\n\n                c.addToWlambda(deltalambda);\n            }\n\n            // If the total error is small enough - stop iterate\n            if(deltalambdaTot*deltalambdaTot < tolSquared){\n                break;\n            }\n        }\n\n        // Add result to velocity\n        for(var i=0; i!==Nbodies; i++){\n            var b=bodies[i],\n                v=b.velocity,\n                w=b.angularVelocity;\n            v.vadd(b.vlambda, v);\n            if(w){\n                w.vadd(b.wlambda, w);\n            }\n        }\n    }\n\n    return iter;\n};\n\n},{\"../math/Quaternion\":28,\"../math/Vec3\":30,\"./Solver\":47}],47:[function(_dereq_,module,exports){\nmodule.exports = Solver;\n\n/**\n * Constraint equation solver base class.\n * @class Solver\n * @constructor\n * @author schteppe / https://github.com/schteppe\n */\nfunction Solver(){\n    /**\n     * All equations to be solved\n     * @property {Array} equations\n     */\n    this.equations = [];\n}\n\n/**\n * Should be implemented in subclasses!\n * @method solve\n * @param  {Number} dt\n * @param  {World} world\n */\nSolver.prototype.solve = function(dt,world){\n    // Should return the number of iterations done!\n    return 0;\n};\n\n/**\n * Add an equation\n * @method addEquation\n * @param {Equation} eq\n */\nSolver.prototype.addEquation = function(eq){\n    if (eq.enabled) {\n        this.equations.push(eq);\n    }\n};\n\n/**\n * Remove an equation\n * @method removeEquation\n * @param {Equation} eq\n */\nSolver.prototype.removeEquation = function(eq){\n    var eqs = this.equations;\n    var i = eqs.indexOf(eq);\n    if(i !== -1){\n        eqs.splice(i,1);\n    }\n};\n\n/**\n * Add all equations\n * @method removeAllEquations\n */\nSolver.prototype.removeAllEquations = function(){\n    this.equations.length = 0;\n};\n\n\n},{}],48:[function(_dereq_,module,exports){\nmodule.exports = SplitSolver;\n\nvar Vec3 = _dereq_('../math/Vec3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar Solver = _dereq_('./Solver');\nvar Body = _dereq_('../objects/Body');\n\n/**\n * Splits the equations into islands and solves them independently. Can improve performance.\n * @class SplitSolver\n * @constructor\n * @extends Solver\n * @param {Solver} subsolver\n */\nfunction SplitSolver(subsolver){\n    Solver.call(this);\n    this.iterations = 10;\n    this.tolerance = 1e-7;\n    this.subsolver = subsolver;\n    this.nodes = [];\n    this.nodePool = [];\n\n    // Create needed nodes, reuse if possible\n    while(this.nodePool.length < 128){\n        this.nodePool.push(this.createNode());\n    }\n}\nSplitSolver.prototype = new Solver();\n\n// Returns the number of subsystems\nvar SplitSolver_solve_nodes = []; // All allocated node objects\nvar SplitSolver_solve_nodePool = []; // All allocated node objects\nvar SplitSolver_solve_eqs = [];   // Temp array\nvar SplitSolver_solve_bds = [];   // Temp array\nvar SplitSolver_solve_dummyWorld = {bodies:[]}; // Temp object\n\nvar STATIC = Body.STATIC;\nfunction getUnvisitedNode(nodes){\n    var Nnodes = nodes.length;\n    for(var i=0; i!==Nnodes; i++){\n        var node = nodes[i];\n        if(!node.visited && !(node.body.type & STATIC)){\n            return node;\n        }\n    }\n    return false;\n}\n\nvar queue = [];\nfunction bfs(root,visitFunc,bds,eqs){\n    queue.push(root);\n    root.visited = true;\n    visitFunc(root,bds,eqs);\n    while(queue.length) {\n        var node = queue.pop();\n        // Loop over unvisited child nodes\n        var child;\n        while((child = getUnvisitedNode(node.children))) {\n            child.visited = true;\n            visitFunc(child,bds,eqs);\n            queue.push(child);\n        }\n    }\n}\n\nfunction visitFunc(node,bds,eqs){\n    bds.push(node.body);\n    var Neqs = node.eqs.length;\n    for(var i=0; i!==Neqs; i++){\n        var eq = node.eqs[i];\n        if(eqs.indexOf(eq) === -1){\n            eqs.push(eq);\n        }\n    }\n}\n\nSplitSolver.prototype.createNode = function(){\n    return { body:null, children:[], eqs:[], visited:false };\n};\n\n/**\n * Solve the subsystems\n * @method solve\n * @param  {Number} dt\n * @param  {World} world\n */\nSplitSolver.prototype.solve = function(dt,world){\n    var nodes=SplitSolver_solve_nodes,\n        nodePool=this.nodePool,\n        bodies=world.bodies,\n        equations=this.equations,\n        Neq=equations.length,\n        Nbodies=bodies.length,\n        subsolver=this.subsolver;\n\n    // Create needed nodes, reuse if possible\n    while(nodePool.length < Nbodies){\n        nodePool.push(this.createNode());\n    }\n    nodes.length = Nbodies;\n    for (var i = 0; i < Nbodies; i++) {\n        nodes[i] = nodePool[i];\n    }\n\n    // Reset node values\n    for(var i=0; i!==Nbodies; i++){\n        var node = nodes[i];\n        node.body = bodies[i];\n        node.children.length = 0;\n        node.eqs.length = 0;\n        node.visited = false;\n    }\n    for(var k=0; k!==Neq; k++){\n        var eq=equations[k],\n            i=bodies.indexOf(eq.bi),\n            j=bodies.indexOf(eq.bj),\n            ni=nodes[i],\n            nj=nodes[j];\n        ni.children.push(nj);\n        ni.eqs.push(eq);\n        nj.children.push(ni);\n        nj.eqs.push(eq);\n    }\n\n    var child, n=0, eqs=SplitSolver_solve_eqs;\n\n    subsolver.tolerance = this.tolerance;\n    subsolver.iterations = this.iterations;\n\n    var dummyWorld = SplitSolver_solve_dummyWorld;\n    while((child = getUnvisitedNode(nodes))){\n        eqs.length = 0;\n        dummyWorld.bodies.length = 0;\n        bfs(child, visitFunc, dummyWorld.bodies, eqs);\n\n        var Neqs = eqs.length;\n\n        eqs = eqs.sort(sortById);\n\n        for(var i=0; i!==Neqs; i++){\n            subsolver.addEquation(eqs[i]);\n        }\n\n        var iter = subsolver.solve(dt,dummyWorld);\n        subsolver.removeAllEquations();\n        n++;\n    }\n\n    return n;\n};\n\nfunction sortById(a, b){\n    return b.id - a.id;\n}\n},{\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../objects/Body\":31,\"./Solver\":47}],49:[function(_dereq_,module,exports){\n/**\n * Base class for objects that dispatches events.\n * @class EventTarget\n * @constructor\n */\nvar EventTarget = function () {\n\n};\n\nmodule.exports = EventTarget;\n\nEventTarget.prototype = {\n    constructor: EventTarget,\n\n    /**\n     * Add an event listener\n     * @method addEventListener\n     * @param  {String} type\n     * @param  {Function} listener\n     * @return {EventTarget} The self object, for chainability.\n     */\n    addEventListener: function ( type, listener ) {\n        if ( this._listeners === undefined ){ this._listeners = {}; }\n        var listeners = this._listeners;\n        if ( listeners[ type ] === undefined ) {\n            listeners[ type ] = [];\n        }\n        if ( listeners[ type ].indexOf( listener ) === - 1 ) {\n            listeners[ type ].push( listener );\n        }\n        return this;\n    },\n\n    /**\n     * Check if an event listener is added\n     * @method hasEventListener\n     * @param  {String} type\n     * @param  {Function} listener\n     * @return {Boolean}\n     */\n    hasEventListener: function ( type, listener ) {\n        if ( this._listeners === undefined ){ return false; }\n        var listeners = this._listeners;\n        if ( listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1 ) {\n            return true;\n        }\n        return false;\n    },\n\n    /**\n     * Remove an event listener\n     * @method removeEventListener\n     * @param  {String} type\n     * @param  {Function} listener\n     * @return {EventTarget} The self object, for chainability.\n     */\n    removeEventListener: function ( type, listener ) {\n        if ( this._listeners === undefined ){ return this; }\n        var listeners = this._listeners;\n        if ( listeners[type] === undefined ){ return this; }\n        var index = listeners[ type ].indexOf( listener );\n        if ( index !== - 1 ) {\n            listeners[ type ].splice( index, 1 );\n        }\n        return this;\n    },\n\n    /**\n     * Emit an event.\n     * @method dispatchEvent\n     * @param  {Object} event\n     * @param  {String} event.type\n     * @return {EventTarget} The self object, for chainability.\n     */\n    dispatchEvent: function ( event ) {\n        if ( this._listeners === undefined ){ return this; }\n        var listeners = this._listeners;\n        var listenerArray = listeners[ event.type ];\n        if ( listenerArray !== undefined ) {\n            event.target = this;\n            for ( var i = 0, l = listenerArray.length; i < l; i ++ ) {\n                listenerArray[ i ].call( this, event );\n            }\n        }\n        return this;\n    }\n};\n\n},{}],50:[function(_dereq_,module,exports){\nvar AABB = _dereq_('../collision/AABB');\nvar Vec3 = _dereq_('../math/Vec3');\n\nmodule.exports = Octree;\n\n/**\n * @class OctreeNode\n * @param {object} [options]\n * @param {Octree} [options.root]\n * @param {AABB} [options.aabb]\n */\nfunction OctreeNode(options){\n    options = options || {};\n\n    /**\n     * The root node\n     * @property {OctreeNode} root\n     */\n    this.root = options.root || null;\n\n    /**\n     * Boundary of this node\n     * @property {AABB} aabb\n     */\n    this.aabb = options.aabb ? options.aabb.clone() : new AABB();\n\n    /**\n     * Contained data at the current node level.\n     * @property {Array} data\n     */\n    this.data = [];\n\n    /**\n     * Children to this node\n     * @property {Array} children\n     */\n    this.children = [];\n}\n\n/**\n * @class Octree\n * @param {AABB} aabb The total AABB of the tree\n * @param {object} [options]\n * @param {number} [options.maxDepth=8]\n * @extends OctreeNode\n */\nfunction Octree(aabb, options){\n    options = options || {};\n    options.root = null;\n    options.aabb = aabb;\n    OctreeNode.call(this, options);\n\n    /**\n     * Maximum subdivision depth\n     * @property {number} maxDepth\n     */\n    this.maxDepth = typeof(options.maxDepth) !== 'undefined' ? options.maxDepth : 8;\n}\nOctree.prototype = new OctreeNode();\n\nOctreeNode.prototype.reset = function(aabb, options){\n    this.children.length = this.data.length = 0;\n};\n\n/**\n * Insert data into this node\n * @method insert\n * @param  {AABB} aabb\n * @param  {object} elementData\n * @return {boolean} True if successful, otherwise false\n */\nOctreeNode.prototype.insert = function(aabb, elementData, level){\n    var nodeData = this.data;\n    level = level || 0;\n\n    // Ignore objects that do not belong in this node\n    if (!this.aabb.contains(aabb)){\n        return false; // object cannot be added\n    }\n\n    var children = this.children;\n\n    if(level < (this.maxDepth || this.root.maxDepth)){\n        // Subdivide if there are no children yet\n        var subdivided = false;\n        if (!children.length){\n            this.subdivide();\n            subdivided = true;\n        }\n\n        // add to whichever node will accept it\n        for (var i = 0; i !== 8; i++) {\n            if (children[i].insert(aabb, elementData, level + 1)){\n                return true;\n            }\n        }\n\n        if(subdivided){\n            // No children accepted! Might as well just remove em since they contain none\n            children.length = 0;\n        }\n    }\n\n    // Too deep, or children didnt want it. add it in current node\n    nodeData.push(elementData);\n\n    return true;\n};\n\nvar halfDiagonal = new Vec3();\n\n/**\n * Create 8 equally sized children nodes and put them in the .children array.\n * @method subdivide\n */\nOctreeNode.prototype.subdivide = function() {\n    var aabb = this.aabb;\n    var l = aabb.lowerBound;\n    var u = aabb.upperBound;\n\n    var children = this.children;\n\n    children.push(\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(0,0,0) }) }),\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(1,0,0) }) }),\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(1,1,0) }) }),\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(1,1,1) }) }),\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(0,1,1) }) }),\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(0,0,1) }) }),\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(1,0,1) }) }),\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(0,1,0) }) })\n    );\n\n    u.vsub(l, halfDiagonal);\n    halfDiagonal.scale(0.5, halfDiagonal);\n\n    var root = this.root || this;\n\n    for (var i = 0; i !== 8; i++) {\n        var child = children[i];\n\n        // Set current node as root\n        child.root = root;\n\n        // Compute bounds\n        var lowerBound = child.aabb.lowerBound;\n        lowerBound.x *= halfDiagonal.x;\n        lowerBound.y *= halfDiagonal.y;\n        lowerBound.z *= halfDiagonal.z;\n\n        lowerBound.vadd(l, lowerBound);\n\n        // Upper bound is always lower bound + halfDiagonal\n        lowerBound.vadd(halfDiagonal, child.aabb.upperBound);\n    }\n};\n\n/**\n * Get all data, potentially within an AABB\n * @method aabbQuery\n * @param  {AABB} aabb\n * @param  {array} result\n * @return {array} The \"result\" object\n */\nOctreeNode.prototype.aabbQuery = function(aabb, result) {\n\n    var nodeData = this.data;\n\n    // abort if the range does not intersect this node\n    // if (!this.aabb.overlaps(aabb)){\n    //     return result;\n    // }\n\n    // Add objects at this level\n    // Array.prototype.push.apply(result, nodeData);\n\n    // Add child data\n    // @todo unwrap recursion into a queue / loop, that's faster in JS\n    var children = this.children;\n\n\n    // for (var i = 0, N = this.children.length; i !== N; i++) {\n    //     children[i].aabbQuery(aabb, result);\n    // }\n\n    var queue = [this];\n    while (queue.length) {\n        var node = queue.pop();\n        if (node.aabb.overlaps(aabb)){\n            Array.prototype.push.apply(result, node.data);\n        }\n        Array.prototype.push.apply(queue, node.children);\n    }\n\n    return result;\n};\n\nvar tmpAABB = new AABB();\n\n/**\n * Get all data, potentially intersected by a ray.\n * @method rayQuery\n * @param  {Ray} ray\n * @param  {Transform} treeTransform\n * @param  {array} result\n * @return {array} The \"result\" object\n */\nOctreeNode.prototype.rayQuery = function(ray, treeTransform, result) {\n\n    // Use aabb query for now.\n    // @todo implement real ray query which needs less lookups\n    ray.getAABB(tmpAABB);\n    tmpAABB.toLocalFrame(treeTransform, tmpAABB);\n    this.aabbQuery(tmpAABB, result);\n\n    return result;\n};\n\n/**\n * @method removeEmptyNodes\n */\nOctreeNode.prototype.removeEmptyNodes = function() {\n    var queue = [this];\n    while (queue.length) {\n        var node = queue.pop();\n        for (var i = node.children.length - 1; i >= 0; i--) {\n            if(!node.children[i].data.length){\n                node.children.splice(i, 1);\n            }\n        }\n        Array.prototype.push.apply(queue, node.children);\n    }\n};\n\n},{\"../collision/AABB\":3,\"../math/Vec3\":30}],51:[function(_dereq_,module,exports){\nmodule.exports = Pool;\n\n/**\n * For pooling objects that can be reused.\n * @class Pool\n * @constructor\n */\nfunction Pool(){\n    /**\n     * The pooled objects\n     * @property {Array} objects\n     */\n    this.objects = [];\n\n    /**\n     * Constructor of the objects\n     * @property {mixed} type\n     */\n    this.type = Object;\n}\n\n/**\n * Release an object after use\n * @method release\n * @param {Object} obj\n */\nPool.prototype.release = function(){\n    var Nargs = arguments.length;\n    for(var i=0; i!==Nargs; i++){\n        this.objects.push(arguments[i]);\n    }\n};\n\n/**\n * Get an object\n * @method get\n * @return {mixed}\n */\nPool.prototype.get = function(){\n    if(this.objects.length===0){\n        return this.constructObject();\n    } else {\n        return this.objects.pop();\n    }\n};\n\n/**\n * Construct an object. Should be implmented in each subclass.\n * @method constructObject\n * @return {mixed}\n */\nPool.prototype.constructObject = function(){\n    throw new Error(\"constructObject() not implemented in this Pool subclass yet!\");\n};\n\n},{}],52:[function(_dereq_,module,exports){\nmodule.exports = TupleDictionary;\n\n/**\n * @class TupleDictionary\n * @constructor\n */\nfunction TupleDictionary() {\n\n    /**\n     * The data storage\n     * @property data\n     * @type {Object}\n     */\n    this.data = { keys:[] };\n}\n\n/**\n * @method get\n * @param  {Number} i\n * @param  {Number} j\n * @return {Number}\n */\nTupleDictionary.prototype.get = function(i, j) {\n    if (i > j) {\n        // swap\n        var temp = j;\n        j = i;\n        i = temp;\n    }\n    return this.data[i+'-'+j];\n};\n\n/**\n * @method set\n * @param  {Number} i\n * @param  {Number} j\n * @param {Number} value\n */\nTupleDictionary.prototype.set = function(i, j, value) {\n    if (i > j) {\n        var temp = j;\n        j = i;\n        i = temp;\n    }\n    var key = i+'-'+j;\n\n    // Check if key already exists\n    if(!this.get(i,j)){\n        this.data.keys.push(key);\n    }\n\n    this.data[key] = value;\n};\n\n/**\n * @method reset\n */\nTupleDictionary.prototype.reset = function() {\n    var data = this.data,\n        keys = data.keys;\n    while(keys.length > 0){\n        var key = keys.pop();\n        delete data[key];\n    }\n};\n\n},{}],53:[function(_dereq_,module,exports){\nfunction Utils(){}\n\nmodule.exports = Utils;\n\n/**\n * Extend an options object with default values.\n * @static\n * @method defaults\n * @param  {object} options The options object. May be falsy: in this case, a new object is created and returned.\n * @param  {object} defaults An object containing default values.\n * @return {object} The modified options object.\n */\nUtils.defaults = function(options, defaults){\n    options = options || {};\n\n    for(var key in defaults){\n        if(!(key in options)){\n            options[key] = defaults[key];\n        }\n    }\n\n    return options;\n};\n\n},{}],54:[function(_dereq_,module,exports){\nmodule.exports = Vec3Pool;\n\nvar Vec3 = _dereq_('../math/Vec3');\nvar Pool = _dereq_('./Pool');\n\n/**\n * @class Vec3Pool\n * @constructor\n * @extends Pool\n */\nfunction Vec3Pool(){\n    Pool.call(this);\n    this.type = Vec3;\n}\nVec3Pool.prototype = new Pool();\n\n/**\n * Construct a vector\n * @method constructObject\n * @return {Vec3}\n */\nVec3Pool.prototype.constructObject = function(){\n    return new Vec3();\n};\n\n},{\"../math/Vec3\":30,\"./Pool\":51}],55:[function(_dereq_,module,exports){\nmodule.exports = Narrowphase;\n\nvar AABB = _dereq_('../collision/AABB');\nvar Shape = _dereq_('../shapes/Shape');\nvar Ray = _dereq_('../collision/Ray');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Transform = _dereq_('../math/Transform');\nvar ConvexPolyhedron = _dereq_('../shapes/ConvexPolyhedron');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar Solver = _dereq_('../solver/Solver');\nvar Vec3Pool = _dereq_('../utils/Vec3Pool');\nvar ContactEquation = _dereq_('../equations/ContactEquation');\nvar FrictionEquation = _dereq_('../equations/FrictionEquation');\n\n/**\n * Helper class for the World. Generates ContactEquations.\n * @class Narrowphase\n * @constructor\n * @todo Sphere-ConvexPolyhedron contacts\n * @todo Contact reduction\n * @todo  should move methods to prototype\n */\nfunction Narrowphase(world){\n\n    /**\n     * Internal storage of pooled contact points.\n     * @property {Array} contactPointPool\n     */\n    this.contactPointPool = [];\n\n    this.frictionEquationPool = [];\n\n    this.result = [];\n    this.frictionResult = [];\n\n    /**\n     * Pooled vectors.\n     * @property {Vec3Pool} v3pool\n     */\n    this.v3pool = new Vec3Pool();\n\n    this.world = world;\n    this.currentContactMaterial = null;\n\n    /**\n     * @property {Boolean} enableFrictionReduction\n     */\n    this.enableFrictionReduction = false;\n}\n\n/**\n * Make a contact object, by using the internal pool or creating a new one.\n * @method createContactEquation\n * @return {ContactEquation}\n */\nNarrowphase.prototype.createContactEquation = function(bi, bj, si, sj, rsi, rsj){\n    var c;\n    if(this.contactPointPool.length){\n        c = this.contactPointPool.pop();\n        c.bi = bi;\n        c.bj = bj;\n    } else {\n        c = new ContactEquation(bi, bj);\n    }\n\n    c.enabled = bi.collisionResponse && bj.collisionResponse && si.collisionResponse && sj.collisionResponse;\n\n    var cm = this.currentContactMaterial;\n\n    c.restitution = cm.restitution;\n\n    c.setSpookParams(\n        cm.contactEquationStiffness,\n        cm.contactEquationRelaxation,\n        this.world.dt\n    );\n\n    var matA = si.material || bi.material;\n    var matB = sj.material || bj.material;\n    if(matA && matB && matA.restitution >= 0 && matB.restitution >= 0){\n        c.restitution = matA.restitution * matB.restitution;\n    }\n\n    c.si = rsi || si;\n    c.sj = rsj || sj;\n\n    return c;\n};\n\nNarrowphase.prototype.createFrictionEquationsFromContact = function(contactEquation, outArray){\n    var bodyA = contactEquation.bi;\n    var bodyB = contactEquation.bj;\n    var shapeA = contactEquation.si;\n    var shapeB = contactEquation.sj;\n\n    var world = this.world;\n    var cm = this.currentContactMaterial;\n\n    // If friction or restitution were specified in the material, use them\n    var friction = cm.friction;\n    var matA = shapeA.material || bodyA.material;\n    var matB = shapeB.material || bodyB.material;\n    if(matA && matB && matA.friction >= 0 && matB.friction >= 0){\n        friction = matA.friction * matB.friction;\n    }\n\n    if(friction > 0){\n\n        // Create 2 tangent equations\n        var mug = friction * world.gravity.length();\n        var reducedMass = (bodyA.invMass + bodyB.invMass);\n        if(reducedMass > 0){\n            reducedMass = 1/reducedMass;\n        }\n        var pool = this.frictionEquationPool;\n        var c1 = pool.length ? pool.pop() : new FrictionEquation(bodyA,bodyB,mug*reducedMass);\n        var c2 = pool.length ? pool.pop() : new FrictionEquation(bodyA,bodyB,mug*reducedMass);\n\n        c1.bi = c2.bi = bodyA;\n        c1.bj = c2.bj = bodyB;\n        c1.minForce = c2.minForce = -mug*reducedMass;\n        c1.maxForce = c2.maxForce = mug*reducedMass;\n\n        // Copy over the relative vectors\n        c1.ri.copy(contactEquation.ri);\n        c1.rj.copy(contactEquation.rj);\n        c2.ri.copy(contactEquation.ri);\n        c2.rj.copy(contactEquation.rj);\n\n        // Construct tangents\n        contactEquation.ni.tangents(c1.t, c2.t);\n\n        // Set spook params\n        c1.setSpookParams(cm.frictionEquationStiffness, cm.frictionEquationRelaxation, world.dt);\n        c2.setSpookParams(cm.frictionEquationStiffness, cm.frictionEquationRelaxation, world.dt);\n\n        c1.enabled = c2.enabled = contactEquation.enabled;\n\n        outArray.push(c1, c2);\n\n        return true;\n    }\n\n    return false;\n};\n\nvar averageNormal = new Vec3();\nvar averageContactPointA = new Vec3();\nvar averageContactPointB = new Vec3();\n\n// Take the average N latest contact point on the plane.\nNarrowphase.prototype.createFrictionFromAverage = function(numContacts){\n    // The last contactEquation\n    var c = this.result[this.result.length - 1];\n\n    // Create the result: two \"average\" friction equations\n    if (!this.createFrictionEquationsFromContact(c, this.frictionResult) || numContacts === 1) {\n        return;\n    }\n\n    var f1 = this.frictionResult[this.frictionResult.length - 2];\n    var f2 = this.frictionResult[this.frictionResult.length - 1];\n\n    averageNormal.setZero();\n    averageContactPointA.setZero();\n    averageContactPointB.setZero();\n\n    var bodyA = c.bi;\n    var bodyB = c.bj;\n    for(var i=0; i!==numContacts; i++){\n        c = this.result[this.result.length - 1 - i];\n        if(c.bodyA !== bodyA){\n            averageNormal.vadd(c.ni, averageNormal); // vec2.add(eq.t, eq.t, c.normalA);\n            averageContactPointA.vadd(c.ri, averageContactPointA); // vec2.add(eq.contactPointA, eq.contactPointA, c.contactPointA);\n            averageContactPointB.vadd(c.rj, averageContactPointB);\n        } else {\n            averageNormal.vsub(c.ni, averageNormal); // vec2.sub(eq.t, eq.t, c.normalA);\n            averageContactPointA.vadd(c.rj, averageContactPointA); // vec2.add(eq.contactPointA, eq.contactPointA, c.contactPointA);\n            averageContactPointB.vadd(c.ri, averageContactPointB);\n        }\n    }\n\n    var invNumContacts = 1 / numContacts;\n    averageContactPointA.scale(invNumContacts, f1.ri); // vec2.scale(eq.contactPointA, eq.contactPointA, invNumContacts);\n    averageContactPointB.scale(invNumContacts, f1.rj); // vec2.scale(eq.contactPointB, eq.contactPointB, invNumContacts);\n    f2.ri.copy(f1.ri); // Should be the same\n    f2.rj.copy(f1.rj);\n    averageNormal.normalize();\n    averageNormal.tangents(f1.t, f2.t);\n    // return eq;\n};\n\n\nvar tmpVec1 = new Vec3();\nvar tmpVec2 = new Vec3();\nvar tmpQuat1 = new Quaternion();\nvar tmpQuat2 = new Quaternion();\n\n/**\n * Generate all contacts between a list of body pairs\n * @method getContacts\n * @param {array} p1 Array of body indices\n * @param {array} p2 Array of body indices\n * @param {World} world\n * @param {array} result Array to store generated contacts\n * @param {array} oldcontacts Optional. Array of reusable contact objects\n */\nNarrowphase.prototype.getContacts = function(p1, p2, world, result, oldcontacts, frictionResult, frictionPool){\n    // Save old contact objects\n    this.contactPointPool = oldcontacts;\n    this.frictionEquationPool = frictionPool;\n    this.result = result;\n    this.frictionResult = frictionResult;\n\n    var qi = tmpQuat1;\n    var qj = tmpQuat2;\n    var xi = tmpVec1;\n    var xj = tmpVec2;\n\n    for(var k=0, N=p1.length; k!==N; k++){\n\n        // Get current collision bodies\n        var bi = p1[k],\n            bj = p2[k];\n\n        // Get contact material\n        var bodyContactMaterial = null;\n        if(bi.material && bj.material){\n            bodyContactMaterial = world.getContactMaterial(bi.material,bj.material) || null;\n        }\n\n        for (var i = 0; i < bi.shapes.length; i++) {\n            bi.quaternion.mult(bi.shapeOrientations[i], qi);\n            bi.quaternion.vmult(bi.shapeOffsets[i], xi);\n            xi.vadd(bi.position, xi);\n            var si = bi.shapes[i];\n\n            for (var j = 0; j < bj.shapes.length; j++) {\n\n                // Compute world transform of shapes\n                bj.quaternion.mult(bj.shapeOrientations[j], qj);\n                bj.quaternion.vmult(bj.shapeOffsets[j], xj);\n                xj.vadd(bj.position, xj);\n                var sj = bj.shapes[j];\n\n                if(xi.distanceTo(xj) > si.boundingSphereRadius + sj.boundingSphereRadius){\n                    continue;\n                }\n\n                // Get collision material\n                var shapeContactMaterial = null;\n                if(si.material && sj.material){\n                    shapeContactMaterial = world.getContactMaterial(si.material,sj.material) || null;\n                }\n\n                this.currentContactMaterial = shapeContactMaterial || bodyContactMaterial || world.defaultContactMaterial;\n\n                // Get contacts\n                var resolver = this[si.type | sj.type];\n                if(resolver){\n                    if (si.type < sj.type) {\n                        resolver.call(this, si, sj, xi, xj, qi, qj, bi, bj, si, sj);\n                    } else {\n                        resolver.call(this, sj, si, xj, xi, qj, qi, bj, bi, si, sj);\n                    }\n                }\n            }\n        }\n    }\n};\n\nvar numWarnings = 0;\nvar maxWarnings = 10;\n\nfunction warn(msg){\n    if(numWarnings > maxWarnings){\n        return;\n    }\n\n    numWarnings++;\n\n    console.warn(msg);\n}\n\nNarrowphase.prototype[Shape.types.BOX | Shape.types.BOX] =\nNarrowphase.prototype.boxBox = function(si,sj,xi,xj,qi,qj,bi,bj){\n    si.convexPolyhedronRepresentation.material = si.material;\n    sj.convexPolyhedronRepresentation.material = sj.material;\n    si.convexPolyhedronRepresentation.collisionResponse = si.collisionResponse;\n    sj.convexPolyhedronRepresentation.collisionResponse = sj.collisionResponse;\n    this.convexConvex(si.convexPolyhedronRepresentation,sj.convexPolyhedronRepresentation,xi,xj,qi,qj,bi,bj,si,sj);\n};\n\nNarrowphase.prototype[Shape.types.BOX | Shape.types.CONVEXPOLYHEDRON] =\nNarrowphase.prototype.boxConvex = function(si,sj,xi,xj,qi,qj,bi,bj){\n    si.convexPolyhedronRepresentation.material = si.material;\n    si.convexPolyhedronRepresentation.collisionResponse = si.collisionResponse;\n    this.convexConvex(si.convexPolyhedronRepresentation,sj,xi,xj,qi,qj,bi,bj,si,sj);\n};\n\nNarrowphase.prototype[Shape.types.BOX | Shape.types.PARTICLE] =\nNarrowphase.prototype.boxParticle = function(si,sj,xi,xj,qi,qj,bi,bj){\n    si.convexPolyhedronRepresentation.material = si.material;\n    si.convexPolyhedronRepresentation.collisionResponse = si.collisionResponse;\n    this.convexParticle(si.convexPolyhedronRepresentation,sj,xi,xj,qi,qj,bi,bj,si,sj);\n};\n\n/**\n * @method sphereSphere\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\nNarrowphase.prototype[Shape.types.SPHERE] =\nNarrowphase.prototype.sphereSphere = function(si,sj,xi,xj,qi,qj,bi,bj){\n    // We will have only one contact in this case\n    var r = this.createContactEquation(bi,bj,si,sj);\n\n    // Contact normal\n    xj.vsub(xi, r.ni);\n    r.ni.normalize();\n\n    // Contact point locations\n    r.ri.copy(r.ni);\n    r.rj.copy(r.ni);\n    r.ri.mult(si.radius, r.ri);\n    r.rj.mult(-sj.radius, r.rj);\n\n    r.ri.vadd(xi, r.ri);\n    r.ri.vsub(bi.position, r.ri);\n\n    r.rj.vadd(xj, r.rj);\n    r.rj.vsub(bj.position, r.rj);\n\n    this.result.push(r);\n\n    this.createFrictionEquationsFromContact(r, this.frictionResult);\n};\n\n/**\n * @method planeTrimesh\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\nvar planeTrimesh_normal = new Vec3();\nvar planeTrimesh_relpos = new Vec3();\nvar planeTrimesh_projected = new Vec3();\nNarrowphase.prototype[Shape.types.PLANE | Shape.types.TRIMESH] =\nNarrowphase.prototype.planeTrimesh = function(\n    planeShape,\n    trimeshShape,\n    planePos,\n    trimeshPos,\n    planeQuat,\n    trimeshQuat,\n    planeBody,\n    trimeshBody\n){\n    // Make contacts!\n    var v = new Vec3();\n\n    var normal = planeTrimesh_normal;\n    normal.set(0,0,1);\n    planeQuat.vmult(normal,normal); // Turn normal according to plane\n\n    for(var i=0; i<trimeshShape.vertices.length / 3; i++){\n\n        // Get world vertex from trimesh\n        trimeshShape.getVertex(i, v);\n\n        // Safe up\n        var v2 = new Vec3();\n        v2.copy(v);\n        Transform.pointToWorldFrame(trimeshPos, trimeshQuat, v2, v);\n\n        // Check plane side\n        var relpos = planeTrimesh_relpos;\n        v.vsub(planePos, relpos);\n        var dot = normal.dot(relpos);\n\n        if(dot <= 0.0){\n            var r = this.createContactEquation(planeBody,trimeshBody,planeShape,trimeshShape);\n\n            r.ni.copy(normal); // Contact normal is the plane normal\n\n            // Get vertex position projected on plane\n            var projected = planeTrimesh_projected;\n            normal.scale(relpos.dot(normal), projected);\n            v.vsub(projected,projected);\n\n            // ri is the projected world position minus plane position\n            r.ri.copy(projected);\n            r.ri.vsub(planeBody.position, r.ri);\n\n            r.rj.copy(v);\n            r.rj.vsub(trimeshBody.position, r.rj);\n\n            // Store result\n            this.result.push(r);\n            this.createFrictionEquationsFromContact(r, this.frictionResult);\n        }\n    }\n};\n\n/**\n * @method sphereTrimesh\n * @param  {Shape}      sphereShape\n * @param  {Shape}      trimeshShape\n * @param  {Vec3}       spherePos\n * @param  {Vec3}       trimeshPos\n * @param  {Quaternion} sphereQuat\n * @param  {Quaternion} trimeshQuat\n * @param  {Body}       sphereBody\n * @param  {Body}       trimeshBody\n */\nvar sphereTrimesh_normal = new Vec3();\nvar sphereTrimesh_relpos = new Vec3();\nvar sphereTrimesh_projected = new Vec3();\nvar sphereTrimesh_v = new Vec3();\nvar sphereTrimesh_v2 = new Vec3();\nvar sphereTrimesh_edgeVertexA = new Vec3();\nvar sphereTrimesh_edgeVertexB = new Vec3();\nvar sphereTrimesh_edgeVector = new Vec3();\nvar sphereTrimesh_edgeVectorUnit = new Vec3();\nvar sphereTrimesh_localSpherePos = new Vec3();\nvar sphereTrimesh_tmp = new Vec3();\nvar sphereTrimesh_va = new Vec3();\nvar sphereTrimesh_vb = new Vec3();\nvar sphereTrimesh_vc = new Vec3();\nvar sphereTrimesh_localSphereAABB = new AABB();\nvar sphereTrimesh_triangles = [];\nNarrowphase.prototype[Shape.types.SPHERE | Shape.types.TRIMESH] =\nNarrowphase.prototype.sphereTrimesh = function (\n    sphereShape,\n    trimeshShape,\n    spherePos,\n    trimeshPos,\n    sphereQuat,\n    trimeshQuat,\n    sphereBody,\n    trimeshBody\n) {\n\n    var edgeVertexA = sphereTrimesh_edgeVertexA;\n    var edgeVertexB = sphereTrimesh_edgeVertexB;\n    var edgeVector = sphereTrimesh_edgeVector;\n    var edgeVectorUnit = sphereTrimesh_edgeVectorUnit;\n    var localSpherePos = sphereTrimesh_localSpherePos;\n    var tmp = sphereTrimesh_tmp;\n    var localSphereAABB = sphereTrimesh_localSphereAABB;\n    var v2 = sphereTrimesh_v2;\n    var relpos = sphereTrimesh_relpos;\n    var triangles = sphereTrimesh_triangles;\n\n    // Convert sphere position to local in the trimesh\n    Transform.pointToLocalFrame(trimeshPos, trimeshQuat, spherePos, localSpherePos);\n\n    // Get the aabb of the sphere locally in the trimesh\n    var sphereRadius = sphereShape.radius;\n    localSphereAABB.lowerBound.set(\n        localSpherePos.x - sphereRadius,\n        localSpherePos.y - sphereRadius,\n        localSpherePos.z - sphereRadius\n    );\n    localSphereAABB.upperBound.set(\n        localSpherePos.x + sphereRadius,\n        localSpherePos.y + sphereRadius,\n        localSpherePos.z + sphereRadius\n    );\n\n    trimeshShape.getTrianglesInAABB(localSphereAABB, triangles);\n    //for (var i = 0; i < trimeshShape.indices.length / 3; i++) triangles.push(i); // All\n\n    // Vertices\n    var v = sphereTrimesh_v;\n    var radiusSquared = sphereShape.radius * sphereShape.radius;\n    for(var i=0; i<triangles.length; i++){\n        for (var j = 0; j < 3; j++) {\n\n            trimeshShape.getVertex(trimeshShape.indices[triangles[i] * 3 + j], v);\n\n            // Check vertex overlap in sphere\n            v.vsub(localSpherePos, relpos);\n\n            if(relpos.norm2() <= radiusSquared){\n\n                // Safe up\n                v2.copy(v);\n                Transform.pointToWorldFrame(trimeshPos, trimeshQuat, v2, v);\n\n                v.vsub(spherePos, relpos);\n\n                var r = this.createContactEquation(sphereBody,trimeshBody,sphereShape,trimeshShape);\n                r.ni.copy(relpos);\n                r.ni.normalize();\n\n                // ri is the vector from sphere center to the sphere surface\n                r.ri.copy(r.ni);\n                r.ri.scale(sphereShape.radius, r.ri);\n                r.ri.vadd(spherePos, r.ri);\n                r.ri.vsub(sphereBody.position, r.ri);\n\n                r.rj.copy(v);\n                r.rj.vsub(trimeshBody.position, r.rj);\n\n                // Store result\n                this.result.push(r);\n                this.createFrictionEquationsFromContact(r, this.frictionResult);\n            }\n        }\n    }\n\n    // Check all edges\n    for(var i=0; i<triangles.length; i++){\n        for (var j = 0; j < 3; j++) {\n\n            trimeshShape.getVertex(trimeshShape.indices[triangles[i] * 3 + j], edgeVertexA);\n            trimeshShape.getVertex(trimeshShape.indices[triangles[i] * 3 + ((j+1)%3)], edgeVertexB);\n            edgeVertexB.vsub(edgeVertexA, edgeVector);\n\n            // Project sphere position to the edge\n            localSpherePos.vsub(edgeVertexB, tmp);\n            var positionAlongEdgeB = tmp.dot(edgeVector);\n\n            localSpherePos.vsub(edgeVertexA, tmp);\n            var positionAlongEdgeA = tmp.dot(edgeVector);\n\n            if(positionAlongEdgeA > 0 && positionAlongEdgeB < 0){\n\n                // Now check the orthogonal distance from edge to sphere center\n                localSpherePos.vsub(edgeVertexA, tmp);\n\n                edgeVectorUnit.copy(edgeVector);\n                edgeVectorUnit.normalize();\n                positionAlongEdgeA = tmp.dot(edgeVectorUnit);\n\n                edgeVectorUnit.scale(positionAlongEdgeA, tmp);\n                tmp.vadd(edgeVertexA, tmp);\n\n                // tmp is now the sphere center position projected to the edge, defined locally in the trimesh frame\n                var dist = tmp.distanceTo(localSpherePos);\n                if(dist < sphereShape.radius){\n                    var r = this.createContactEquation(sphereBody, trimeshBody, sphereShape, trimeshShape);\n\n                    tmp.vsub(localSpherePos, r.ni);\n                    r.ni.normalize();\n                    r.ni.scale(sphereShape.radius, r.ri);\n\n                    Transform.pointToWorldFrame(trimeshPos, trimeshQuat, tmp, tmp);\n                    tmp.vsub(trimeshBody.position, r.rj);\n\n                    Transform.vectorToWorldFrame(trimeshQuat, r.ni, r.ni);\n                    Transform.vectorToWorldFrame(trimeshQuat, r.ri, r.ri);\n\n                    this.result.push(r);\n                    this.createFrictionEquationsFromContact(r, this.frictionResult);\n                }\n            }\n        }\n    }\n\n    // Triangle faces\n    var va = sphereTrimesh_va;\n    var vb = sphereTrimesh_vb;\n    var vc = sphereTrimesh_vc;\n    var normal = sphereTrimesh_normal;\n    for(var i=0, N = triangles.length; i !== N; i++){\n        trimeshShape.getTriangleVertices(triangles[i], va, vb, vc);\n        trimeshShape.getNormal(triangles[i], normal);\n        localSpherePos.vsub(va, tmp);\n        var dist = tmp.dot(normal);\n        normal.scale(dist, tmp);\n        localSpherePos.vsub(tmp, tmp);\n\n        // tmp is now the sphere position projected to the triangle plane\n        dist = tmp.distanceTo(localSpherePos);\n        if(Ray.pointInTriangle(tmp, va, vb, vc) && dist < sphereShape.radius){\n            var r = this.createContactEquation(sphereBody, trimeshBody, sphereShape, trimeshShape);\n\n            tmp.vsub(localSpherePos, r.ni);\n            r.ni.normalize();\n            r.ni.scale(sphereShape.radius, r.ri);\n\n            Transform.pointToWorldFrame(trimeshPos, trimeshQuat, tmp, tmp);\n            tmp.vsub(trimeshBody.position, r.rj);\n\n            Transform.vectorToWorldFrame(trimeshQuat, r.ni, r.ni);\n            Transform.vectorToWorldFrame(trimeshQuat, r.ri, r.ri);\n\n            this.result.push(r);\n            this.createFrictionEquationsFromContact(r, this.frictionResult);\n        }\n    }\n\n    triangles.length = 0;\n};\n\nvar point_on_plane_to_sphere = new Vec3();\nvar plane_to_sphere_ortho = new Vec3();\n\n/**\n * @method spherePlane\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\nNarrowphase.prototype[Shape.types.SPHERE | Shape.types.PLANE] =\nNarrowphase.prototype.spherePlane = function(si,sj,xi,xj,qi,qj,bi,bj){\n    // We will have one contact in this case\n    var r = this.createContactEquation(bi,bj,si,sj);\n\n    // Contact normal\n    r.ni.set(0,0,1);\n    qj.vmult(r.ni, r.ni);\n    r.ni.negate(r.ni); // body i is the sphere, flip normal\n    r.ni.normalize(); // Needed?\n\n    // Vector from sphere center to contact point\n    r.ni.mult(si.radius, r.ri);\n\n    // Project down sphere on plane\n    xi.vsub(xj, point_on_plane_to_sphere);\n    r.ni.mult(r.ni.dot(point_on_plane_to_sphere), plane_to_sphere_ortho);\n    point_on_plane_to_sphere.vsub(plane_to_sphere_ortho,r.rj); // The sphere position projected to plane\n\n    if(-point_on_plane_to_sphere.dot(r.ni) <= si.radius){\n\n        // Make it relative to the body\n        var ri = r.ri;\n        var rj = r.rj;\n        ri.vadd(xi, ri);\n        ri.vsub(bi.position, ri);\n        rj.vadd(xj, rj);\n        rj.vsub(bj.position, rj);\n\n        this.result.push(r);\n        this.createFrictionEquationsFromContact(r, this.frictionResult);\n    }\n};\n\n// See http://bulletphysics.com/Bullet/BulletFull/SphereTriangleDetector_8cpp_source.html\nvar pointInPolygon_edge = new Vec3();\nvar pointInPolygon_edge_x_normal = new Vec3();\nvar pointInPolygon_vtp = new Vec3();\nfunction pointInPolygon(verts, normal, p){\n    var positiveResult = null;\n    var N = verts.length;\n    for(var i=0; i!==N; i++){\n        var v = verts[i];\n\n        // Get edge to the next vertex\n        var edge = pointInPolygon_edge;\n        verts[(i+1) % (N)].vsub(v,edge);\n\n        // Get cross product between polygon normal and the edge\n        var edge_x_normal = pointInPolygon_edge_x_normal;\n        //var edge_x_normal = new Vec3();\n        edge.cross(normal,edge_x_normal);\n\n        // Get vector between point and current vertex\n        var vertex_to_p = pointInPolygon_vtp;\n        p.vsub(v,vertex_to_p);\n\n        // This dot product determines which side of the edge the point is\n        var r = edge_x_normal.dot(vertex_to_p);\n\n        // If all such dot products have same sign, we are inside the polygon.\n        if(positiveResult===null || (r>0 && positiveResult===true) || (r<=0 && positiveResult===false)){\n            if(positiveResult===null){\n                positiveResult = r>0;\n            }\n            continue;\n        } else {\n            return false; // Encountered some other sign. Exit.\n        }\n    }\n\n    // If we got here, all dot products were of the same sign.\n    return true;\n}\n\nvar box_to_sphere = new Vec3();\nvar sphereBox_ns = new Vec3();\nvar sphereBox_ns1 = new Vec3();\nvar sphereBox_ns2 = new Vec3();\nvar sphereBox_sides = [new Vec3(),new Vec3(),new Vec3(),new Vec3(),new Vec3(),new Vec3()];\nvar sphereBox_sphere_to_corner = new Vec3();\nvar sphereBox_side_ns = new Vec3();\nvar sphereBox_side_ns1 = new Vec3();\nvar sphereBox_side_ns2 = new Vec3();\n\n/**\n * @method sphereBox\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\nNarrowphase.prototype[Shape.types.SPHERE | Shape.types.BOX] =\nNarrowphase.prototype.sphereBox = function(si,sj,xi,xj,qi,qj,bi,bj){\n    var v3pool = this.v3pool;\n\n    // we refer to the box as body j\n    var sides = sphereBox_sides;\n    xi.vsub(xj,box_to_sphere);\n    sj.getSideNormals(sides,qj);\n    var R =     si.radius;\n    var penetrating_sides = [];\n\n    // Check side (plane) intersections\n    var found = false;\n\n    // Store the resulting side penetration info\n    var side_ns = sphereBox_side_ns;\n    var side_ns1 = sphereBox_side_ns1;\n    var side_ns2 = sphereBox_side_ns2;\n    var side_h = null;\n    var side_penetrations = 0;\n    var side_dot1 = 0;\n    var side_dot2 = 0;\n    var side_distance = null;\n    for(var idx=0,nsides=sides.length; idx!==nsides && found===false; idx++){\n        // Get the plane side normal (ns)\n        var ns = sphereBox_ns;\n        ns.copy(sides[idx]);\n\n        var h = ns.norm();\n        ns.normalize();\n\n        // The normal/distance dot product tells which side of the plane we are\n        var dot = box_to_sphere.dot(ns);\n\n        if(dot<h+R && dot>0){\n            // Intersects plane. Now check the other two dimensions\n            var ns1 = sphereBox_ns1;\n            var ns2 = sphereBox_ns2;\n            ns1.copy(sides[(idx+1)%3]);\n            ns2.copy(sides[(idx+2)%3]);\n            var h1 = ns1.norm();\n            var h2 = ns2.norm();\n            ns1.normalize();\n            ns2.normalize();\n            var dot1 = box_to_sphere.dot(ns1);\n            var dot2 = box_to_sphere.dot(ns2);\n            if(dot1<h1 && dot1>-h1 && dot2<h2 && dot2>-h2){\n                var dist = Math.abs(dot-h-R);\n                if(side_distance===null || dist < side_distance){\n                    side_distance = dist;\n                    side_dot1 = dot1;\n                    side_dot2 = dot2;\n                    side_h = h;\n                    side_ns.copy(ns);\n                    side_ns1.copy(ns1);\n                    side_ns2.copy(ns2);\n                    side_penetrations++;\n                }\n            }\n        }\n    }\n    if(side_penetrations){\n        found = true;\n        var r = this.createContactEquation(bi,bj,si,sj);\n        side_ns.mult(-R,r.ri); // Sphere r\n        r.ni.copy(side_ns);\n        r.ni.negate(r.ni); // Normal should be out of sphere\n        side_ns.mult(side_h,side_ns);\n        side_ns1.mult(side_dot1,side_ns1);\n        side_ns.vadd(side_ns1,side_ns);\n        side_ns2.mult(side_dot2,side_ns2);\n        side_ns.vadd(side_ns2,r.rj);\n\n        // Make relative to bodies\n        r.ri.vadd(xi, r.ri);\n        r.ri.vsub(bi.position, r.ri);\n        r.rj.vadd(xj, r.rj);\n        r.rj.vsub(bj.position, r.rj);\n\n        this.result.push(r);\n        this.createFrictionEquationsFromContact(r, this.frictionResult);\n    }\n\n    // Check corners\n    var rj = v3pool.get();\n    var sphere_to_corner = sphereBox_sphere_to_corner;\n    for(var j=0; j!==2 && !found; j++){\n        for(var k=0; k!==2 && !found; k++){\n            for(var l=0; l!==2 && !found; l++){\n                rj.set(0,0,0);\n                if(j){\n                    rj.vadd(sides[0],rj);\n                } else {\n                    rj.vsub(sides[0],rj);\n                }\n                if(k){\n                    rj.vadd(sides[1],rj);\n                } else {\n                    rj.vsub(sides[1],rj);\n                }\n                if(l){\n                    rj.vadd(sides[2],rj);\n                } else {\n                    rj.vsub(sides[2],rj);\n                }\n\n                // World position of corner\n                xj.vadd(rj,sphere_to_corner);\n                sphere_to_corner.vsub(xi,sphere_to_corner);\n\n                if(sphere_to_corner.norm2() < R*R){\n                    found = true;\n                    var r = this.createContactEquation(bi,bj,si,sj);\n                    r.ri.copy(sphere_to_corner);\n                    r.ri.normalize();\n                    r.ni.copy(r.ri);\n                    r.ri.mult(R,r.ri);\n                    r.rj.copy(rj);\n\n                    // Make relative to bodies\n                    r.ri.vadd(xi, r.ri);\n                    r.ri.vsub(bi.position, r.ri);\n                    r.rj.vadd(xj, r.rj);\n                    r.rj.vsub(bj.position, r.rj);\n\n                    this.result.push(r);\n                    this.createFrictionEquationsFromContact(r, this.frictionResult);\n                }\n            }\n        }\n    }\n    v3pool.release(rj);\n    rj = null;\n\n    // Check edges\n    var edgeTangent = v3pool.get();\n    var edgeCenter = v3pool.get();\n    var r = v3pool.get(); // r = edge center to sphere center\n    var orthogonal = v3pool.get();\n    var dist = v3pool.get();\n    var Nsides = sides.length;\n    for(var j=0; j!==Nsides && !found; j++){\n        for(var k=0; k!==Nsides && !found; k++){\n            if(j%3 !== k%3){\n                // Get edge tangent\n                sides[k].cross(sides[j],edgeTangent);\n                edgeTangent.normalize();\n                sides[j].vadd(sides[k], edgeCenter);\n                r.copy(xi);\n                r.vsub(edgeCenter,r);\n                r.vsub(xj,r);\n                var orthonorm = r.dot(edgeTangent); // distance from edge center to sphere center in the tangent direction\n                edgeTangent.mult(orthonorm,orthogonal); // Vector from edge center to sphere center in the tangent direction\n\n                // Find the third side orthogonal to this one\n                var l = 0;\n                while(l===j%3 || l===k%3){\n                    l++;\n                }\n\n                // vec from edge center to sphere projected to the plane orthogonal to the edge tangent\n                dist.copy(xi);\n                dist.vsub(orthogonal,dist);\n                dist.vsub(edgeCenter,dist);\n                dist.vsub(xj,dist);\n\n                // Distances in tangent direction and distance in the plane orthogonal to it\n                var tdist = Math.abs(orthonorm);\n                var ndist = dist.norm();\n\n                if(tdist < sides[l].norm() && ndist<R){\n                    found = true;\n                    var res = this.createContactEquation(bi,bj,si,sj);\n                    edgeCenter.vadd(orthogonal,res.rj); // box rj\n                    res.rj.copy(res.rj);\n                    dist.negate(res.ni);\n                    res.ni.normalize();\n\n                    res.ri.copy(res.rj);\n                    res.ri.vadd(xj,res.ri);\n                    res.ri.vsub(xi,res.ri);\n                    res.ri.normalize();\n                    res.ri.mult(R,res.ri);\n\n                    // Make relative to bodies\n                    res.ri.vadd(xi, res.ri);\n                    res.ri.vsub(bi.position, res.ri);\n                    res.rj.vadd(xj, res.rj);\n                    res.rj.vsub(bj.position, res.rj);\n\n                    this.result.push(res);\n                    this.createFrictionEquationsFromContact(res, this.frictionResult);\n                }\n            }\n        }\n    }\n    v3pool.release(edgeTangent,edgeCenter,r,orthogonal,dist);\n};\n\nvar convex_to_sphere = new Vec3();\nvar sphereConvex_edge = new Vec3();\nvar sphereConvex_edgeUnit = new Vec3();\nvar sphereConvex_sphereToCorner = new Vec3();\nvar sphereConvex_worldCorner = new Vec3();\nvar sphereConvex_worldNormal = new Vec3();\nvar sphereConvex_worldPoint = new Vec3();\nvar sphereConvex_worldSpherePointClosestToPlane = new Vec3();\nvar sphereConvex_penetrationVec = new Vec3();\nvar sphereConvex_sphereToWorldPoint = new Vec3();\n\n/**\n * @method sphereConvex\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\nNarrowphase.prototype[Shape.types.SPHERE | Shape.types.CONVEXPOLYHEDRON] =\nNarrowphase.prototype.sphereConvex = function(si,sj,xi,xj,qi,qj,bi,bj){\n    var v3pool = this.v3pool;\n    xi.vsub(xj,convex_to_sphere);\n    var normals = sj.faceNormals;\n    var faces = sj.faces;\n    var verts = sj.vertices;\n    var R =     si.radius;\n    var penetrating_sides = [];\n\n    // if(convex_to_sphere.norm2() > si.boundingSphereRadius + sj.boundingSphereRadius){\n    //     return;\n    // }\n\n    // Check corners\n    for(var i=0; i!==verts.length; i++){\n        var v = verts[i];\n\n        // World position of corner\n        var worldCorner = sphereConvex_worldCorner;\n        qj.vmult(v,worldCorner);\n        xj.vadd(worldCorner,worldCorner);\n        var sphere_to_corner = sphereConvex_sphereToCorner;\n        worldCorner.vsub(xi, sphere_to_corner);\n        if(sphere_to_corner.norm2() < R * R){\n            found = true;\n            var r = this.createContactEquation(bi,bj,si,sj);\n            r.ri.copy(sphere_to_corner);\n            r.ri.normalize();\n            r.ni.copy(r.ri);\n            r.ri.mult(R,r.ri);\n            worldCorner.vsub(xj,r.rj);\n\n            // Should be relative to the body.\n            r.ri.vadd(xi, r.ri);\n            r.ri.vsub(bi.position, r.ri);\n\n            // Should be relative to the body.\n            r.rj.vadd(xj, r.rj);\n            r.rj.vsub(bj.position, r.rj);\n\n            this.result.push(r);\n            this.createFrictionEquationsFromContact(r, this.frictionResult);\n            return;\n        }\n    }\n\n    // Check side (plane) intersections\n    var found = false;\n    for(var i=0, nfaces=faces.length; i!==nfaces && found===false; i++){\n        var normal = normals[i];\n        var face = faces[i];\n\n        // Get world-transformed normal of the face\n        var worldNormal = sphereConvex_worldNormal;\n        qj.vmult(normal,worldNormal);\n\n        // Get a world vertex from the face\n        var worldPoint = sphereConvex_worldPoint;\n        qj.vmult(verts[face[0]],worldPoint);\n        worldPoint.vadd(xj,worldPoint);\n\n        // Get a point on the sphere, closest to the face normal\n        var worldSpherePointClosestToPlane = sphereConvex_worldSpherePointClosestToPlane;\n        worldNormal.mult(-R, worldSpherePointClosestToPlane);\n        xi.vadd(worldSpherePointClosestToPlane, worldSpherePointClosestToPlane);\n\n        // Vector from a face point to the closest point on the sphere\n        var penetrationVec = sphereConvex_penetrationVec;\n        worldSpherePointClosestToPlane.vsub(worldPoint,penetrationVec);\n\n        // The penetration. Negative value means overlap.\n        var penetration = penetrationVec.dot(worldNormal);\n\n        var worldPointToSphere = sphereConvex_sphereToWorldPoint;\n        xi.vsub(worldPoint, worldPointToSphere);\n\n        if(penetration < 0 && worldPointToSphere.dot(worldNormal)>0){\n            // Intersects plane. Now check if the sphere is inside the face polygon\n            var faceVerts = []; // Face vertices, in world coords\n            for(var j=0, Nverts=face.length; j!==Nverts; j++){\n                var worldVertex = v3pool.get();\n                qj.vmult(verts[face[j]], worldVertex);\n                xj.vadd(worldVertex,worldVertex);\n                faceVerts.push(worldVertex);\n            }\n\n            if(pointInPolygon(faceVerts,worldNormal,xi)){ // Is the sphere center in the face polygon?\n                found = true;\n                var r = this.createContactEquation(bi,bj,si,sj);\n\n                worldNormal.mult(-R, r.ri); // Contact offset, from sphere center to contact\n                worldNormal.negate(r.ni); // Normal pointing out of sphere\n\n                var penetrationVec2 = v3pool.get();\n                worldNormal.mult(-penetration, penetrationVec2);\n                var penetrationSpherePoint = v3pool.get();\n                worldNormal.mult(-R, penetrationSpherePoint);\n\n                //xi.vsub(xj).vadd(penetrationSpherePoint).vadd(penetrationVec2 , r.rj);\n                xi.vsub(xj,r.rj);\n                r.rj.vadd(penetrationSpherePoint,r.rj);\n                r.rj.vadd(penetrationVec2 , r.rj);\n\n                // Should be relative to the body.\n                r.rj.vadd(xj, r.rj);\n                r.rj.vsub(bj.position, r.rj);\n\n                // Should be relative to the body.\n                r.ri.vadd(xi, r.ri);\n                r.ri.vsub(bi.position, r.ri);\n\n                v3pool.release(penetrationVec2);\n                v3pool.release(penetrationSpherePoint);\n\n                this.result.push(r);\n                this.createFrictionEquationsFromContact(r, this.frictionResult);\n\n                // Release world vertices\n                for(var j=0, Nfaceverts=faceVerts.length; j!==Nfaceverts; j++){\n                    v3pool.release(faceVerts[j]);\n                }\n\n                return; // We only expect *one* face contact\n            } else {\n                // Edge?\n                for(var j=0; j!==face.length; j++){\n\n                    // Get two world transformed vertices\n                    var v1 = v3pool.get();\n                    var v2 = v3pool.get();\n                    qj.vmult(verts[face[(j+1)%face.length]], v1);\n                    qj.vmult(verts[face[(j+2)%face.length]], v2);\n                    xj.vadd(v1, v1);\n                    xj.vadd(v2, v2);\n\n                    // Construct edge vector\n                    var edge = sphereConvex_edge;\n                    v2.vsub(v1,edge);\n\n                    // Construct the same vector, but normalized\n                    var edgeUnit = sphereConvex_edgeUnit;\n                    edge.unit(edgeUnit);\n\n                    // p is xi projected onto the edge\n                    var p = v3pool.get();\n                    var v1_to_xi = v3pool.get();\n                    xi.vsub(v1, v1_to_xi);\n                    var dot = v1_to_xi.dot(edgeUnit);\n                    edgeUnit.mult(dot, p);\n                    p.vadd(v1, p);\n\n                    // Compute a vector from p to the center of the sphere\n                    var xi_to_p = v3pool.get();\n                    p.vsub(xi, xi_to_p);\n\n                    // Collision if the edge-sphere distance is less than the radius\n                    // AND if p is in between v1 and v2\n                    if(dot > 0 && dot*dot<edge.norm2() && xi_to_p.norm2() < R*R){ // Collision if the edge-sphere distance is less than the radius\n                        // Edge contact!\n                        var r = this.createContactEquation(bi,bj,si,sj);\n                        p.vsub(xj,r.rj);\n\n                        p.vsub(xi,r.ni);\n                        r.ni.normalize();\n\n                        r.ni.mult(R,r.ri);\n\n                        // Should be relative to the body.\n                        r.rj.vadd(xj, r.rj);\n                        r.rj.vsub(bj.position, r.rj);\n\n                        // Should be relative to the body.\n                        r.ri.vadd(xi, r.ri);\n                        r.ri.vsub(bi.position, r.ri);\n\n                        this.result.push(r);\n                        this.createFrictionEquationsFromContact(r, this.frictionResult);\n\n                        // Release world vertices\n                        for(var j=0, Nfaceverts=faceVerts.length; j!==Nfaceverts; j++){\n                            v3pool.release(faceVerts[j]);\n                        }\n\n                        v3pool.release(v1);\n                        v3pool.release(v2);\n                        v3pool.release(p);\n                        v3pool.release(xi_to_p);\n                        v3pool.release(v1_to_xi);\n\n                        return;\n                    }\n\n                    v3pool.release(v1);\n                    v3pool.release(v2);\n                    v3pool.release(p);\n                    v3pool.release(xi_to_p);\n                    v3pool.release(v1_to_xi);\n                }\n            }\n\n            // Release world vertices\n            for(var j=0, Nfaceverts=faceVerts.length; j!==Nfaceverts; j++){\n                v3pool.release(faceVerts[j]);\n            }\n        }\n    }\n};\n\nvar planeBox_normal = new Vec3();\nvar plane_to_corner = new Vec3();\n\n/**\n * @method planeBox\n * @param  {Array}      result\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\nNarrowphase.prototype[Shape.types.PLANE | Shape.types.BOX] =\nNarrowphase.prototype.planeBox = function(si,sj,xi,xj,qi,qj,bi,bj){\n    sj.convexPolyhedronRepresentation.material = sj.material;\n    sj.convexPolyhedronRepresentation.collisionResponse = sj.collisionResponse;\n    this.planeConvex(si,sj.convexPolyhedronRepresentation,xi,xj,qi,qj,bi,bj);\n};\n\nvar planeConvex_v = new Vec3();\nvar planeConvex_normal = new Vec3();\nvar planeConvex_relpos = new Vec3();\nvar planeConvex_projected = new Vec3();\n\n/**\n * @method planeConvex\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\nNarrowphase.prototype[Shape.types.PLANE | Shape.types.CONVEXPOLYHEDRON] =\nNarrowphase.prototype.planeConvex = function(\n    planeShape,\n    convexShape,\n    planePosition,\n    convexPosition,\n    planeQuat,\n    convexQuat,\n    planeBody,\n    convexBody\n){\n    // Simply return the points behind the plane.\n    var worldVertex = planeConvex_v,\n        worldNormal = planeConvex_normal;\n    worldNormal.set(0,0,1);\n    planeQuat.vmult(worldNormal,worldNormal); // Turn normal according to plane orientation\n\n    var numContacts = 0;\n    var relpos = planeConvex_relpos;\n    for(var i = 0; i !== convexShape.vertices.length; i++){\n\n        // Get world convex vertex\n        worldVertex.copy(convexShape.vertices[i]);\n        convexQuat.vmult(worldVertex, worldVertex);\n        convexPosition.vadd(worldVertex, worldVertex);\n        worldVertex.vsub(planePosition, relpos);\n\n        var dot = worldNormal.dot(relpos);\n        if(dot <= 0.0){\n\n            var r = this.createContactEquation(planeBody, convexBody, planeShape, convexShape);\n\n            // Get vertex position projected on plane\n            var projected = planeConvex_projected;\n            worldNormal.mult(worldNormal.dot(relpos),projected);\n            worldVertex.vsub(projected, projected);\n            projected.vsub(planePosition, r.ri); // From plane to vertex projected on plane\n\n            r.ni.copy(worldNormal); // Contact normal is the plane normal out from plane\n\n            // rj is now just the vector from the convex center to the vertex\n            worldVertex.vsub(convexPosition, r.rj);\n\n            // Make it relative to the body\n            r.ri.vadd(planePosition, r.ri);\n            r.ri.vsub(planeBody.position, r.ri);\n            r.rj.vadd(convexPosition, r.rj);\n            r.rj.vsub(convexBody.position, r.rj);\n\n            this.result.push(r);\n            numContacts++;\n            if(!this.enableFrictionReduction){\n                this.createFrictionEquationsFromContact(r, this.frictionResult);\n            }\n        }\n    }\n\n    if(this.enableFrictionReduction && numContacts){\n        this.createFrictionFromAverage(numContacts);\n    }\n};\n\nvar convexConvex_sepAxis = new Vec3();\nvar convexConvex_q = new Vec3();\n\n/**\n * @method convexConvex\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\nNarrowphase.prototype[Shape.types.CONVEXPOLYHEDRON] =\nNarrowphase.prototype.convexConvex = function(si,sj,xi,xj,qi,qj,bi,bj,rsi,rsj,faceListA,faceListB){\n    var sepAxis = convexConvex_sepAxis;\n\n    if(xi.distanceTo(xj) > si.boundingSphereRadius + sj.boundingSphereRadius){\n        return;\n    }\n\n    if(si.findSeparatingAxis(sj,xi,qi,xj,qj,sepAxis,faceListA,faceListB)){\n        var res = [];\n        var q = convexConvex_q;\n        si.clipAgainstHull(xi,qi,sj,xj,qj,sepAxis,-100,100,res);\n        var numContacts = 0;\n        for(var j = 0; j !== res.length; j++){\n            var r = this.createContactEquation(bi,bj,si,sj,rsi,rsj),\n                ri = r.ri,\n                rj = r.rj;\n            sepAxis.negate(r.ni);\n            res[j].normal.negate(q);\n            q.mult(res[j].depth, q);\n            res[j].point.vadd(q, ri);\n            rj.copy(res[j].point);\n\n            // Contact points are in world coordinates. Transform back to relative\n            ri.vsub(xi,ri);\n            rj.vsub(xj,rj);\n\n            // Make relative to bodies\n            ri.vadd(xi, ri);\n            ri.vsub(bi.position, ri);\n            rj.vadd(xj, rj);\n            rj.vsub(bj.position, rj);\n\n            this.result.push(r);\n            numContacts++;\n            if(!this.enableFrictionReduction){\n                this.createFrictionEquationsFromContact(r, this.frictionResult);\n            }\n        }\n        if(this.enableFrictionReduction && numContacts){\n            this.createFrictionFromAverage(numContacts);\n        }\n    }\n};\n\n\n/**\n * @method convexTrimesh\n * @param  {Array}      result\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\n// Narrowphase.prototype[Shape.types.CONVEXPOLYHEDRON | Shape.types.TRIMESH] =\n// Narrowphase.prototype.convexTrimesh = function(si,sj,xi,xj,qi,qj,bi,bj,rsi,rsj,faceListA,faceListB){\n//     var sepAxis = convexConvex_sepAxis;\n\n//     if(xi.distanceTo(xj) > si.boundingSphereRadius + sj.boundingSphereRadius){\n//         return;\n//     }\n\n//     // Construct a temp hull for each triangle\n//     var hullB = new ConvexPolyhedron();\n\n//     hullB.faces = [[0,1,2]];\n//     var va = new Vec3();\n//     var vb = new Vec3();\n//     var vc = new Vec3();\n//     hullB.vertices = [\n//         va,\n//         vb,\n//         vc\n//     ];\n\n//     for (var i = 0; i < sj.indices.length / 3; i++) {\n\n//         var triangleNormal = new Vec3();\n//         sj.getNormal(i, triangleNormal);\n//         hullB.faceNormals = [triangleNormal];\n\n//         sj.getTriangleVertices(i, va, vb, vc);\n\n//         var d = si.testSepAxis(triangleNormal, hullB, xi, qi, xj, qj);\n//         if(!d){\n//             triangleNormal.scale(-1, triangleNormal);\n//             d = si.testSepAxis(triangleNormal, hullB, xi, qi, xj, qj);\n\n//             if(!d){\n//                 continue;\n//             }\n//         }\n\n//         var res = [];\n//         var q = convexConvex_q;\n//         si.clipAgainstHull(xi,qi,hullB,xj,qj,triangleNormal,-100,100,res);\n//         for(var j = 0; j !== res.length; j++){\n//             var r = this.createContactEquation(bi,bj,si,sj,rsi,rsj),\n//                 ri = r.ri,\n//                 rj = r.rj;\n//             r.ni.copy(triangleNormal);\n//             r.ni.negate(r.ni);\n//             res[j].normal.negate(q);\n//             q.mult(res[j].depth, q);\n//             res[j].point.vadd(q, ri);\n//             rj.copy(res[j].point);\n\n//             // Contact points are in world coordinates. Transform back to relative\n//             ri.vsub(xi,ri);\n//             rj.vsub(xj,rj);\n\n//             // Make relative to bodies\n//             ri.vadd(xi, ri);\n//             ri.vsub(bi.position, ri);\n//             rj.vadd(xj, rj);\n//             rj.vsub(bj.position, rj);\n\n//             result.push(r);\n//         }\n//     }\n// };\n\nvar particlePlane_normal = new Vec3();\nvar particlePlane_relpos = new Vec3();\nvar particlePlane_projected = new Vec3();\n\n/**\n * @method particlePlane\n * @param  {Array}      result\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\nNarrowphase.prototype[Shape.types.PLANE | Shape.types.PARTICLE] =\nNarrowphase.prototype.planeParticle = function(sj,si,xj,xi,qj,qi,bj,bi){\n    var normal = particlePlane_normal;\n    normal.set(0,0,1);\n    bj.quaternion.vmult(normal,normal); // Turn normal according to plane orientation\n    var relpos = particlePlane_relpos;\n    xi.vsub(bj.position,relpos);\n    var dot = normal.dot(relpos);\n    if(dot <= 0.0){\n        var r = this.createContactEquation(bi,bj,si,sj);\n        r.ni.copy(normal); // Contact normal is the plane normal\n        r.ni.negate(r.ni);\n        r.ri.set(0,0,0); // Center of particle\n\n        // Get particle position projected on plane\n        var projected = particlePlane_projected;\n        normal.mult(normal.dot(xi),projected);\n        xi.vsub(projected,projected);\n        //projected.vadd(bj.position,projected);\n\n        // rj is now the projected world position minus plane position\n        r.rj.copy(projected);\n        this.result.push(r);\n        this.createFrictionEquationsFromContact(r, this.frictionResult);\n    }\n};\n\nvar particleSphere_normal = new Vec3();\n\n/**\n * @method particleSphere\n * @param  {Array}      result\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\nNarrowphase.prototype[Shape.types.PARTICLE | Shape.types.SPHERE] =\nNarrowphase.prototype.sphereParticle = function(sj,si,xj,xi,qj,qi,bj,bi){\n    // The normal is the unit vector from sphere center to particle center\n    var normal = particleSphere_normal;\n    normal.set(0,0,1);\n    xi.vsub(xj,normal);\n    var lengthSquared = normal.norm2();\n\n    if(lengthSquared <= sj.radius * sj.radius){\n        var r = this.createContactEquation(bi,bj,si,sj);\n        normal.normalize();\n        r.rj.copy(normal);\n        r.rj.mult(sj.radius,r.rj);\n        r.ni.copy(normal); // Contact normal\n        r.ni.negate(r.ni);\n        r.ri.set(0,0,0); // Center of particle\n        this.result.push(r);\n        this.createFrictionEquationsFromContact(r, this.frictionResult);\n    }\n};\n\n// WIP\nvar cqj = new Quaternion();\nvar convexParticle_local = new Vec3();\nvar convexParticle_normal = new Vec3();\nvar convexParticle_penetratedFaceNormal = new Vec3();\nvar convexParticle_vertexToParticle = new Vec3();\nvar convexParticle_worldPenetrationVec = new Vec3();\n\n/**\n * @method convexParticle\n * @param  {Array}      result\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\nNarrowphase.prototype[Shape.types.PARTICLE | Shape.types.CONVEXPOLYHEDRON] =\nNarrowphase.prototype.convexParticle = function(sj,si,xj,xi,qj,qi,bj,bi){\n    var penetratedFaceIndex = -1;\n    var penetratedFaceNormal = convexParticle_penetratedFaceNormal;\n    var worldPenetrationVec = convexParticle_worldPenetrationVec;\n    var minPenetration = null;\n    var numDetectedFaces = 0;\n\n    // Convert particle position xi to local coords in the convex\n    var local = convexParticle_local;\n    local.copy(xi);\n    local.vsub(xj,local); // Convert position to relative the convex origin\n    qj.conjugate(cqj);\n    cqj.vmult(local,local);\n\n    if(sj.pointIsInside(local)){\n\n        if(sj.worldVerticesNeedsUpdate){\n            sj.computeWorldVertices(xj,qj);\n        }\n        if(sj.worldFaceNormalsNeedsUpdate){\n            sj.computeWorldFaceNormals(qj);\n        }\n\n        // For each world polygon in the polyhedra\n        for(var i=0,nfaces=sj.faces.length; i!==nfaces; i++){\n\n            // Construct world face vertices\n            var verts = [ sj.worldVertices[ sj.faces[i][0] ] ];\n            var normal = sj.worldFaceNormals[i];\n\n            // Check how much the particle penetrates the polygon plane.\n            xi.vsub(verts[0],convexParticle_vertexToParticle);\n            var penetration = -normal.dot(convexParticle_vertexToParticle);\n            if(minPenetration===null || Math.abs(penetration)<Math.abs(minPenetration)){\n                minPenetration = penetration;\n                penetratedFaceIndex = i;\n                penetratedFaceNormal.copy(normal);\n                numDetectedFaces++;\n            }\n        }\n\n        if(penetratedFaceIndex!==-1){\n            // Setup contact\n            var r = this.createContactEquation(bi,bj,si,sj);\n            penetratedFaceNormal.mult(minPenetration, worldPenetrationVec);\n\n            // rj is the particle position projected to the face\n            worldPenetrationVec.vadd(xi,worldPenetrationVec);\n            worldPenetrationVec.vsub(xj,worldPenetrationVec);\n            r.rj.copy(worldPenetrationVec);\n            //var projectedToFace = xi.vsub(xj).vadd(worldPenetrationVec);\n            //projectedToFace.copy(r.rj);\n\n            //qj.vmult(r.rj,r.rj);\n            penetratedFaceNormal.negate( r.ni ); // Contact normal\n            r.ri.set(0,0,0); // Center of particle\n\n            var ri = r.ri,\n                rj = r.rj;\n\n            // Make relative to bodies\n            ri.vadd(xi, ri);\n            ri.vsub(bi.position, ri);\n            rj.vadd(xj, rj);\n            rj.vsub(bj.position, rj);\n\n            this.result.push(r);\n            this.createFrictionEquationsFromContact(r, this.frictionResult);\n        } else {\n            console.warn(\"Point found inside convex, but did not find penetrating face!\");\n        }\n    }\n};\n\nNarrowphase.prototype[Shape.types.BOX | Shape.types.HEIGHTFIELD] =\nNarrowphase.prototype.boxHeightfield = function (si,sj,xi,xj,qi,qj,bi,bj){\n    si.convexPolyhedronRepresentation.material = si.material;\n    si.convexPolyhedronRepresentation.collisionResponse = si.collisionResponse;\n    this.convexHeightfield(si.convexPolyhedronRepresentation,sj,xi,xj,qi,qj,bi,bj);\n};\n\nvar convexHeightfield_tmp1 = new Vec3();\nvar convexHeightfield_tmp2 = new Vec3();\nvar convexHeightfield_faceList = [0];\n\n/**\n * @method convexHeightfield\n */\nNarrowphase.prototype[Shape.types.CONVEXPOLYHEDRON | Shape.types.HEIGHTFIELD] =\nNarrowphase.prototype.convexHeightfield = function (\n    convexShape,\n    hfShape,\n    convexPos,\n    hfPos,\n    convexQuat,\n    hfQuat,\n    convexBody,\n    hfBody\n){\n    var data = hfShape.data,\n        w = hfShape.elementSize,\n        radius = convexShape.boundingSphereRadius,\n        worldPillarOffset = convexHeightfield_tmp2,\n        faceList = convexHeightfield_faceList;\n\n    // Get sphere position to heightfield local!\n    var localConvexPos = convexHeightfield_tmp1;\n    Transform.pointToLocalFrame(hfPos, hfQuat, convexPos, localConvexPos);\n\n    // Get the index of the data points to test against\n    var iMinX = Math.floor((localConvexPos.x - radius) / w) - 1,\n        iMaxX = Math.ceil((localConvexPos.x + radius) / w) + 1,\n        iMinY = Math.floor((localConvexPos.y - radius) / w) - 1,\n        iMaxY = Math.ceil((localConvexPos.y + radius) / w) + 1;\n\n    // Bail out if we are out of the terrain\n    if(iMaxX < 0 || iMaxY < 0 || iMinX > data.length || iMinY > data[0].length){\n        return;\n    }\n\n    // Clamp index to edges\n    if(iMinX < 0){ iMinX = 0; }\n    if(iMaxX < 0){ iMaxX = 0; }\n    if(iMinY < 0){ iMinY = 0; }\n    if(iMaxY < 0){ iMaxY = 0; }\n    if(iMinX >= data.length){ iMinX = data.length - 1; }\n    if(iMaxX >= data.length){ iMaxX = data.length - 1; }\n    if(iMaxY >= data[0].length){ iMaxY = data[0].length - 1; }\n    if(iMinY >= data[0].length){ iMinY = data[0].length - 1; }\n\n    var minMax = [];\n    hfShape.getRectMinMax(iMinX, iMinY, iMaxX, iMaxY, minMax);\n    var min = minMax[0];\n    var max = minMax[1];\n\n    // Bail out if we're cant touch the bounding height box\n    if(localConvexPos.z - radius > max || localConvexPos.z + radius < min){\n        return;\n    }\n\n    for(var i = iMinX; i < iMaxX; i++){\n        for(var j = iMinY; j < iMaxY; j++){\n\n            // Lower triangle\n            hfShape.getConvexTrianglePillar(i, j, false);\n            Transform.pointToWorldFrame(hfPos, hfQuat, hfShape.pillarOffset, worldPillarOffset);\n            if (convexPos.distanceTo(worldPillarOffset) < hfShape.pillarConvex.boundingSphereRadius + convexShape.boundingSphereRadius) {\n                this.convexConvex(convexShape, hfShape.pillarConvex, convexPos, worldPillarOffset, convexQuat, hfQuat, convexBody, hfBody, null, null, faceList, null);\n            }\n\n            // Upper triangle\n            hfShape.getConvexTrianglePillar(i, j, true);\n            Transform.pointToWorldFrame(hfPos, hfQuat, hfShape.pillarOffset, worldPillarOffset);\n            if (convexPos.distanceTo(worldPillarOffset) < hfShape.pillarConvex.boundingSphereRadius + convexShape.boundingSphereRadius) {\n                this.convexConvex(convexShape, hfShape.pillarConvex, convexPos, worldPillarOffset, convexQuat, hfQuat, convexBody, hfBody, null, null, faceList, null);\n            }\n        }\n    }\n};\n\nvar sphereHeightfield_tmp1 = new Vec3();\nvar sphereHeightfield_tmp2 = new Vec3();\n\n/**\n * @method sphereHeightfield\n */\nNarrowphase.prototype[Shape.types.SPHERE | Shape.types.HEIGHTFIELD] =\nNarrowphase.prototype.sphereHeightfield = function (\n    sphereShape,\n    hfShape,\n    spherePos,\n    hfPos,\n    sphereQuat,\n    hfQuat,\n    sphereBody,\n    hfBody\n){\n    var data = hfShape.data,\n        radius = sphereShape.radius,\n        w = hfShape.elementSize,\n        worldPillarOffset = sphereHeightfield_tmp2;\n\n    // Get sphere position to heightfield local!\n    var localSpherePos = sphereHeightfield_tmp1;\n    Transform.pointToLocalFrame(hfPos, hfQuat, spherePos, localSpherePos);\n\n    // Get the index of the data points to test against\n    var iMinX = Math.floor((localSpherePos.x - radius) / w) - 1,\n        iMaxX = Math.ceil((localSpherePos.x + radius) / w) + 1,\n        iMinY = Math.floor((localSpherePos.y - radius) / w) - 1,\n        iMaxY = Math.ceil((localSpherePos.y + radius) / w) + 1;\n\n    // Bail out if we are out of the terrain\n    if(iMaxX < 0 || iMaxY < 0 || iMinX > data.length || iMaxY > data[0].length){\n        return;\n    }\n\n    // Clamp index to edges\n    if(iMinX < 0){ iMinX = 0; }\n    if(iMaxX < 0){ iMaxX = 0; }\n    if(iMinY < 0){ iMinY = 0; }\n    if(iMaxY < 0){ iMaxY = 0; }\n    if(iMinX >= data.length){ iMinX = data.length - 1; }\n    if(iMaxX >= data.length){ iMaxX = data.length - 1; }\n    if(iMaxY >= data[0].length){ iMaxY = data[0].length - 1; }\n    if(iMinY >= data[0].length){ iMinY = data[0].length - 1; }\n\n    var minMax = [];\n    hfShape.getRectMinMax(iMinX, iMinY, iMaxX, iMaxY, minMax);\n    var min = minMax[0];\n    var max = minMax[1];\n\n    // Bail out if we're cant touch the bounding height box\n    if(localSpherePos.z - radius > max || localSpherePos.z + radius < min){\n        return;\n    }\n\n    var result = this.result;\n    for(var i = iMinX; i < iMaxX; i++){\n        for(var j = iMinY; j < iMaxY; j++){\n\n            var numContactsBefore = result.length;\n\n            // Lower triangle\n            hfShape.getConvexTrianglePillar(i, j, false);\n            Transform.pointToWorldFrame(hfPos, hfQuat, hfShape.pillarOffset, worldPillarOffset);\n            if (spherePos.distanceTo(worldPillarOffset) < hfShape.pillarConvex.boundingSphereRadius + sphereShape.boundingSphereRadius) {\n                this.sphereConvex(sphereShape, hfShape.pillarConvex, spherePos, worldPillarOffset, sphereQuat, hfQuat, sphereBody, hfBody);\n            }\n\n            // Upper triangle\n            hfShape.getConvexTrianglePillar(i, j, true);\n            Transform.pointToWorldFrame(hfPos, hfQuat, hfShape.pillarOffset, worldPillarOffset);\n            if (spherePos.distanceTo(worldPillarOffset) < hfShape.pillarConvex.boundingSphereRadius + sphereShape.boundingSphereRadius) {\n                this.sphereConvex(sphereShape, hfShape.pillarConvex, spherePos, worldPillarOffset, sphereQuat, hfQuat, sphereBody, hfBody);\n            }\n\n            var numContacts = result.length - numContactsBefore;\n\n            if(numContacts > 2){\n                return;\n            }\n            /*\n            // Skip all but 1\n            for (var k = 0; k < numContacts - 1; k++) {\n                result.pop();\n            }\n            */\n        }\n    }\n};\n\n},{\"../collision/AABB\":3,\"../collision/Ray\":9,\"../equations/ContactEquation\":19,\"../equations/FrictionEquation\":21,\"../math/Quaternion\":28,\"../math/Transform\":29,\"../math/Vec3\":30,\"../shapes/ConvexPolyhedron\":38,\"../shapes/Shape\":43,\"../solver/Solver\":47,\"../utils/Vec3Pool\":54}],56:[function(_dereq_,module,exports){\n/* global performance */\n\nmodule.exports = World;\n\nvar Shape = _dereq_('../shapes/Shape');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar GSSolver = _dereq_('../solver/GSSolver');\nvar Vec3Pool = _dereq_('../utils/Vec3Pool');\nvar ContactEquation = _dereq_('../equations/ContactEquation');\nvar FrictionEquation = _dereq_('../equations/FrictionEquation');\nvar Narrowphase = _dereq_('./Narrowphase');\nvar EventTarget = _dereq_('../utils/EventTarget');\nvar ArrayCollisionMatrix = _dereq_('../collision/ArrayCollisionMatrix');\nvar Material = _dereq_('../material/Material');\nvar ContactMaterial = _dereq_('../material/ContactMaterial');\nvar Body = _dereq_('../objects/Body');\nvar TupleDictionary = _dereq_('../utils/TupleDictionary');\nvar RaycastResult = _dereq_('../collision/RaycastResult');\nvar AABB = _dereq_('../collision/AABB');\nvar Ray = _dereq_('../collision/Ray');\nvar NaiveBroadphase = _dereq_('../collision/NaiveBroadphase');\n\n/**\n * The physics world\n * @class World\n * @constructor\n * @extends EventTarget\n */\nfunction World(){\n    EventTarget.apply(this);\n\n    /**\n     * Currently / last used timestep. Is set to -1 if not available. This value is updated before each internal step, which means that it is \"fresh\" inside event callbacks.\n     * @property {Number} dt\n     */\n    this.dt = -1;\n\n    /**\n     * Makes bodies go to sleep when they've been inactive\n     * @property allowSleep\n     * @type {Boolean}\n     */\n    this.allowSleep = false;\n\n    /**\n     * All the current contacts (instances of ContactEquation) in the world.\n     * @property contacts\n     * @type {Array}\n     */\n    this.contacts = [];\n    this.frictionEquations = [];\n\n    /**\n     * How often to normalize quaternions. Set to 0 for every step, 1 for every second etc.. A larger value increases performance. If bodies tend to explode, set to a smaller value (zero to be sure nothing can go wrong).\n     * @property quatNormalizeSkip\n     * @type {Number}\n     */\n    this.quatNormalizeSkip = 0;\n\n    /**\n     * Set to true to use fast quaternion normalization. It is often enough accurate to use. If bodies tend to explode, set to false.\n     * @property quatNormalizeFast\n     * @type {Boolean}\n     * @see Quaternion.normalizeFast\n     * @see Quaternion.normalize\n     */\n    this.quatNormalizeFast = false;\n\n    /**\n     * The wall-clock time since simulation start\n     * @property time\n     * @type {Number}\n     */\n    this.time = 0.0;\n\n    /**\n     * Number of timesteps taken since start\n     * @property stepnumber\n     * @type {Number}\n     */\n    this.stepnumber = 0;\n\n    /// Default and last timestep sizes\n    this.default_dt = 1/60;\n\n    this.nextId = 0;\n    /**\n     * @property gravity\n     * @type {Vec3}\n     */\n    this.gravity = new Vec3();\n\n    /**\n     * @property broadphase\n     * @type {Broadphase}\n     */\n    this.broadphase = new NaiveBroadphase();\n\n    /**\n     * @property bodies\n     * @type {Array}\n     */\n    this.bodies = [];\n\n    /**\n     * @property solver\n     * @type {Solver}\n     */\n    this.solver = new GSSolver();\n\n    /**\n     * @property constraints\n     * @type {Array}\n     */\n    this.constraints = [];\n\n    /**\n     * @property narrowphase\n     * @type {Narrowphase}\n     */\n    this.narrowphase = new Narrowphase(this);\n\n    /**\n     * @property {ArrayCollisionMatrix} collisionMatrix\n\t * @type {ArrayCollisionMatrix}\n\t */\n\tthis.collisionMatrix = new ArrayCollisionMatrix();\n\n    /**\n     * CollisionMatrix from the previous step.\n     * @property {ArrayCollisionMatrix} collisionMatrixPrevious\n\t * @type {ArrayCollisionMatrix}\n\t */\n\tthis.collisionMatrixPrevious = new ArrayCollisionMatrix();\n\n    /**\n     * All added materials\n     * @property materials\n     * @type {Array}\n     */\n    this.materials = [];\n\n    /**\n     * @property contactmaterials\n     * @type {Array}\n     */\n    this.contactmaterials = [];\n\n    /**\n     * Used to look up a ContactMaterial given two instances of Material.\n     * @property {TupleDictionary} contactMaterialTable\n     */\n    this.contactMaterialTable = new TupleDictionary();\n\n    this.defaultMaterial = new Material(\"default\");\n\n    /**\n     * This contact material is used if no suitable contactmaterial is found for a contact.\n     * @property defaultContactMaterial\n     * @type {ContactMaterial}\n     */\n    this.defaultContactMaterial = new ContactMaterial(this.defaultMaterial, this.defaultMaterial, { friction: 0.3, restitution: 0.0 });\n\n    /**\n     * @property doProfiling\n     * @type {Boolean}\n     */\n    this.doProfiling = false;\n\n    /**\n     * @property profile\n     * @type {Object}\n     */\n    this.profile = {\n        solve:0,\n        makeContactConstraints:0,\n        broadphase:0,\n        integrate:0,\n        narrowphase:0,\n    };\n\n    /**\n     * @property subsystems\n     * @type {Array}\n     */\n    this.subsystems = [];\n\n    this.addBodyEvent = {\n        type:\"addBody\",\n        body : null,\n    };\n\n    this.removeBodyEvent = {\n        type:\"removeBody\",\n        body : null,\n    };\n}\nWorld.prototype = new EventTarget();\n\n// Temp stuff\nvar tmpAABB1 = new AABB();\nvar tmpArray1 = [];\nvar tmpRay = new Ray();\n\n/**\n * Get the contact material between materials m1 and m2\n * @method getContactMaterial\n * @param {Material} m1\n * @param {Material} m2\n * @return {ContactMaterial} The contact material if it was found.\n */\nWorld.prototype.getContactMaterial = function(m1,m2){\n    return this.contactMaterialTable.get(m1.id,m2.id); //this.contactmaterials[this.mats2cmat[i+j*this.materials.length]];\n};\n\n/**\n * Get number of objects in the world.\n * @method numObjects\n * @return {Number}\n * @deprecated\n */\nWorld.prototype.numObjects = function(){\n    return this.bodies.length;\n};\n\n/**\n * Store old collision state info\n * @method collisionMatrixTick\n */\nWorld.prototype.collisionMatrixTick = function(){\n\tvar temp = this.collisionMatrixPrevious;\n\tthis.collisionMatrixPrevious = this.collisionMatrix;\n\tthis.collisionMatrix = temp;\n\tthis.collisionMatrix.reset();\n};\n\n/**\n * Add a rigid body to the simulation.\n * @method add\n * @param {Body} body\n * @todo If the simulation has not yet started, why recrete and copy arrays for each body? Accumulate in dynamic arrays in this case.\n * @todo Adding an array of bodies should be possible. This would save some loops too\n * @deprecated Use .addBody instead\n */\nWorld.prototype.add = World.prototype.addBody = function(body){\n    if(this.bodies.indexOf(body) !== -1){\n        return;\n    }\n    body.index = this.bodies.length;\n    this.bodies.push(body);\n    body.world = this;\n    body.initPosition.copy(body.position);\n    body.initVelocity.copy(body.velocity);\n    body.timeLastSleepy = this.time;\n    if(body instanceof Body){\n        body.initAngularVelocity.copy(body.angularVelocity);\n        body.initQuaternion.copy(body.quaternion);\n    }\n\tthis.collisionMatrix.setNumObjects(this.bodies.length);\n    this.addBodyEvent.body = body;\n    this.dispatchEvent(this.addBodyEvent);\n};\n\n/**\n * Add a constraint to the simulation.\n * @method addConstraint\n * @param {Constraint} c\n */\nWorld.prototype.addConstraint = function(c){\n    this.constraints.push(c);\n};\n\n/**\n * Removes a constraint\n * @method removeConstraint\n * @param {Constraint} c\n */\nWorld.prototype.removeConstraint = function(c){\n    var idx = this.constraints.indexOf(c);\n    if(idx!==-1){\n        this.constraints.splice(idx,1);\n    }\n};\n\n/**\n * Raycast test\n * @method rayTest\n * @param {Vec3} from\n * @param {Vec3} to\n * @param {Function|RaycastResult} result\n * @deprecated Use .raycastAll, .raycastClosest or .raycastAny instead.\n */\nWorld.prototype.rayTest = function(from, to, result){\n    if(result instanceof RaycastResult){\n        // Do raycastclosest\n        this.raycastClosest(from, to, {\n            skipBackfaces: true\n        }, result);\n    } else {\n        // Do raycastAll\n        this.raycastAll(from, to, {\n            skipBackfaces: true\n        }, result);\n    }\n};\n\n/**\n * Ray cast against all bodies. The provided callback will be executed for each hit with a RaycastResult as single argument.\n * @method raycastAll\n * @param  {Vec3} from\n * @param  {Vec3} to\n * @param  {Object} options\n * @param  {number} [options.collisionFilterMask=-1]\n * @param  {number} [options.collisionFilterGroup=-1]\n * @param  {boolean} [options.skipBackfaces=false]\n * @param  {boolean} [options.checkCollisionResponse=true]\n * @param  {Function} callback\n * @return {boolean} True if any body was hit.\n */\nWorld.prototype.raycastAll = function(from, to, options, callback){\n    options.mode = Ray.ALL;\n    options.from = from;\n    options.to = to;\n    options.callback = callback;\n    return tmpRay.intersectWorld(this, options);\n};\n\n/**\n * Ray cast, and stop at the first result. Note that the order is random - but the method is fast.\n * @method raycastAny\n * @param  {Vec3} from\n * @param  {Vec3} to\n * @param  {Object} options\n * @param  {number} [options.collisionFilterMask=-1]\n * @param  {number} [options.collisionFilterGroup=-1]\n * @param  {boolean} [options.skipBackfaces=false]\n * @param  {boolean} [options.checkCollisionResponse=true]\n * @param  {RaycastResult} result\n * @return {boolean} True if any body was hit.\n */\nWorld.prototype.raycastAny = function(from, to, options, result){\n    options.mode = Ray.ANY;\n    options.from = from;\n    options.to = to;\n    options.result = result;\n    return tmpRay.intersectWorld(this, options);\n};\n\n/**\n * Ray cast, and return information of the closest hit.\n * @method raycastClosest\n * @param  {Vec3} from\n * @param  {Vec3} to\n * @param  {Object} options\n * @param  {number} [options.collisionFilterMask=-1]\n * @param  {number} [options.collisionFilterGroup=-1]\n * @param  {boolean} [options.skipBackfaces=false]\n * @param  {boolean} [options.checkCollisionResponse=true]\n * @param  {RaycastResult} result\n * @return {boolean} True if any body was hit.\n */\nWorld.prototype.raycastClosest = function(from, to, options, result){\n    options.mode = Ray.CLOSEST;\n    options.from = from;\n    options.to = to;\n    options.result = result;\n    return tmpRay.intersectWorld(this, options);\n};\n\n/**\n * Remove a rigid body from the simulation.\n * @method remove\n * @param {Body} body\n * @deprecated Use .removeBody instead\n */\nWorld.prototype.remove = function(body){\n    body.world = null;\n    var n = this.bodies.length-1,\n        bodies = this.bodies,\n        idx = bodies.indexOf(body);\n    if(idx !== -1){\n        bodies.splice(idx, 1); // Todo: should use a garbage free method\n\n        // Recompute index\n        for(var i=0; i!==bodies.length; i++){\n            bodies[i].index = i;\n        }\n\n        this.collisionMatrix.setNumObjects(n);\n        this.removeBodyEvent.body = body;\n        this.dispatchEvent(this.removeBodyEvent);\n    }\n};\n\n/**\n * Remove a rigid body from the simulation.\n * @method removeBody\n * @param {Body} body\n */\nWorld.prototype.removeBody = World.prototype.remove;\n\n/**\n * Adds a material to the World.\n * @method addMaterial\n * @param {Material} m\n * @todo Necessary?\n */\nWorld.prototype.addMaterial = function(m){\n    this.materials.push(m);\n};\n\n/**\n * Adds a contact material to the World\n * @method addContactMaterial\n * @param {ContactMaterial} cmat\n */\nWorld.prototype.addContactMaterial = function(cmat) {\n\n    // Add contact material\n    this.contactmaterials.push(cmat);\n\n    // Add current contact material to the material table\n    this.contactMaterialTable.set(cmat.materials[0].id,cmat.materials[1].id,cmat);\n};\n\n// performance.now()\nif(typeof performance === 'undefined'){\n    performance = {};\n}\nif(!performance.now){\n    var nowOffset = Date.now();\n    if (performance.timing && performance.timing.navigationStart){\n        nowOffset = performance.timing.navigationStart;\n    }\n    performance.now = function(){\n        return Date.now() - nowOffset;\n    };\n}\n\nvar step_tmp1 = new Vec3();\n\n/**\n * Step the physics world forward in time.\n *\n * There are two modes. The simple mode is fixed timestepping without interpolation. In this case you only use the first argument. The second case uses interpolation. In that you also provide the time since the function was last used, as well as the maximum fixed timesteps to take.\n *\n * @method step\n * @param {Number} dt                       The fixed time step size to use.\n * @param {Number} [timeSinceLastCalled]    The time elapsed since the function was last called.\n * @param {Number} [maxSubSteps=10]         Maximum number of fixed steps to take per function call.\n *\n * @example\n *     // fixed timestepping without interpolation\n *     world.step(1/60);\n *\n * @see http://bulletphysics.org/mediawiki-1.5.8/index.php/Stepping_The_World\n */\nWorld.prototype.step = function(dt, timeSinceLastCalled, maxSubSteps){\n    maxSubSteps = maxSubSteps || 10;\n    timeSinceLastCalled = timeSinceLastCalled || 0;\n\n    if(timeSinceLastCalled === 0){ // Fixed, simple stepping\n\n        this.internalStep(dt);\n\n        // Increment time\n        this.time += dt;\n\n    } else {\n\n        // Compute the number of fixed steps we should have taken since the last step\n        var internalSteps = Math.floor((this.time + timeSinceLastCalled) / dt) - Math.floor(this.time / dt);\n        internalSteps = Math.min(internalSteps,maxSubSteps);\n\n        // Do some fixed steps to catch up\n        var t0 = performance.now();\n        for(var i=0; i!==internalSteps; i++){\n            this.internalStep(dt);\n            if(performance.now() - t0 > dt * 1000){\n                // We are slower than real-time. Better bail out.\n                break;\n            }\n        }\n\n        // Increment internal clock\n        this.time += timeSinceLastCalled;\n\n        // Compute \"Left over\" time step\n        var h = this.time % dt;\n        var h_div_dt = h / dt;\n        var interpvelo = step_tmp1;\n        var bodies = this.bodies;\n\n        for(var j=0; j !== bodies.length; j++){\n            var b = bodies[j];\n            if(b.type !== Body.STATIC && b.sleepState !== Body.SLEEPING){\n\n                // Interpolate\n                b.position.vsub(b.previousPosition, interpvelo);\n                interpvelo.scale(h_div_dt, interpvelo);\n                b.position.vadd(interpvelo, b.interpolatedPosition);\n\n                // TODO: interpolate quaternion\n                // b.interpolatedAngle = b.angle + (b.angle - b.previousAngle) * h_div_dt;\n\n            } else {\n\n                // For static bodies, just copy. Who else will do it?\n                b.interpolatedPosition.copy(b.position);\n                b.interpolatedQuaternion.copy(b.quaternion);\n            }\n        }\n    }\n};\n\n/**\n * Step the simulation\n * @method step\n * @param {Number} dt\n */\nvar World_step_postStepEvent = {type:\"postStep\"}, // Reusable event objects to save memory\n    World_step_preStepEvent = {type:\"preStep\"},\n    World_step_collideEvent = {type:\"collide\", body:null, contact:null },\n    World_step_oldContacts = [], // Pools for unused objects\n    World_step_frictionEquationPool = [],\n    World_step_p1 = [], // Reusable arrays for collision pairs\n    World_step_p2 = [],\n    World_step_gvec = new Vec3(), // Temporary vectors and quats\n    World_step_vi = new Vec3(),\n    World_step_vj = new Vec3(),\n    World_step_wi = new Vec3(),\n    World_step_wj = new Vec3(),\n    World_step_t1 = new Vec3(),\n    World_step_t2 = new Vec3(),\n    World_step_rixn = new Vec3(),\n    World_step_rjxn = new Vec3(),\n    World_step_step_q = new Quaternion(),\n    World_step_step_w = new Quaternion(),\n    World_step_step_wq = new Quaternion(),\n    invI_tau_dt = new Vec3();\nWorld.prototype.internalStep = function(dt){\n    this.dt = dt;\n\n    var world = this,\n        that = this,\n        contacts = this.contacts,\n        p1 = World_step_p1,\n        p2 = World_step_p2,\n        N = this.numObjects(),\n        bodies = this.bodies,\n        solver = this.solver,\n        gravity = this.gravity,\n        doProfiling = this.doProfiling,\n        profile = this.profile,\n        DYNAMIC = Body.DYNAMIC,\n        profilingStart,\n        constraints = this.constraints,\n        frictionEquationPool = World_step_frictionEquationPool,\n        gnorm = gravity.norm(),\n        gx = gravity.x,\n        gy = gravity.y,\n        gz = gravity.z,\n        i=0;\n\n    if(doProfiling){\n        profilingStart = performance.now();\n    }\n\n    // Add gravity to all objects\n    for(i=0; i!==N; i++){\n        var bi = bodies[i];\n        if(bi.type & DYNAMIC){ // Only for dynamic bodies\n            var f = bi.force, m = bi.mass;\n            f.x += m*gx;\n            f.y += m*gy;\n            f.z += m*gz;\n        }\n    }\n\n    // Update subsystems\n    for(var i=0, Nsubsystems=this.subsystems.length; i!==Nsubsystems; i++){\n        this.subsystems[i].update();\n    }\n\n    // Collision detection\n    if(doProfiling){ profilingStart = performance.now(); }\n    p1.length = 0; // Clean up pair arrays from last step\n    p2.length = 0;\n    this.broadphase.collisionPairs(this,p1,p2);\n    if(doProfiling){ profile.broadphase = performance.now() - profilingStart; }\n\n    // Remove constrained pairs with collideConnected == false\n    var Nconstraints = constraints.length;\n    for(i=0; i!==Nconstraints; i++){\n        var c = constraints[i];\n        if(!c.collideConnected){\n            for(var j = p1.length-1; j>=0; j-=1){\n                if( (c.bodyA === p1[j] && c.bodyB === p2[j]) ||\n                    (c.bodyB === p1[j] && c.bodyA === p2[j])){\n                    p1.splice(j, 1);\n                    p2.splice(j, 1);\n                }\n            }\n        }\n    }\n\n    this.collisionMatrixTick();\n\n    // Generate contacts\n    if(doProfiling){ profilingStart = performance.now(); }\n    var oldcontacts = World_step_oldContacts;\n    var NoldContacts = contacts.length;\n\n    for(i=0; i!==NoldContacts; i++){\n        oldcontacts.push(contacts[i]);\n    }\n    contacts.length = 0;\n\n    // Transfer FrictionEquation from current list to the pool for reuse\n    var NoldFrictionEquations = this.frictionEquations.length;\n    for(i=0; i!==NoldFrictionEquations; i++){\n        frictionEquationPool.push(this.frictionEquations[i]);\n    }\n    this.frictionEquations.length = 0;\n\n    this.narrowphase.getContacts(\n        p1,\n        p2,\n        this,\n        contacts,\n        oldcontacts, // To be reused\n        this.frictionEquations,\n        frictionEquationPool\n    );\n\n    if(doProfiling){\n        profile.narrowphase = performance.now() - profilingStart;\n    }\n\n    // Loop over all collisions\n    if(doProfiling){\n        profilingStart = performance.now();\n    }\n\n    // Add all friction eqs\n    for (var i = 0; i < this.frictionEquations.length; i++) {\n        solver.addEquation(this.frictionEquations[i]);\n    }\n\n    var ncontacts = contacts.length;\n    for(var k=0; k!==ncontacts; k++){\n\n        // Current contact\n        var c = contacts[k];\n\n        // Get current collision indeces\n        var bi = c.bi,\n            bj = c.bj,\n            si = c.si,\n            sj = c.sj;\n\n        // Get collision properties\n        var cm;\n        if(bi.material && bj.material){\n            cm = this.getContactMaterial(bi.material,bj.material) || this.defaultContactMaterial;\n        } else {\n            cm = this.defaultContactMaterial;\n        }\n\n        // c.enabled = bi.collisionResponse && bj.collisionResponse && si.collisionResponse && sj.collisionResponse;\n\n        var mu = cm.friction;\n        // c.restitution = cm.restitution;\n\n        // If friction or restitution were specified in the material, use them\n        if(bi.material && bj.material){\n            if(bi.material.friction >= 0 && bj.material.friction >= 0){\n                mu = bi.material.friction * bj.material.friction;\n            }\n\n            if(bi.material.restitution >= 0 && bj.material.restitution >= 0){\n                c.restitution = bi.material.restitution * bj.material.restitution;\n            }\n        }\n\n\t\t// c.setSpookParams(\n  //           cm.contactEquationStiffness,\n  //           cm.contactEquationRelaxation,\n  //           dt\n  //       );\n\n\t\tsolver.addEquation(c);\n\n\t\t// // Add friction constraint equation\n\t\t// if(mu > 0){\n\n\t\t// \t// Create 2 tangent equations\n\t\t// \tvar mug = mu * gnorm;\n\t\t// \tvar reducedMass = (bi.invMass + bj.invMass);\n\t\t// \tif(reducedMass > 0){\n\t\t// \t\treducedMass = 1/reducedMass;\n\t\t// \t}\n\t\t// \tvar pool = frictionEquationPool;\n\t\t// \tvar c1 = pool.length ? pool.pop() : new FrictionEquation(bi,bj,mug*reducedMass);\n\t\t// \tvar c2 = pool.length ? pool.pop() : new FrictionEquation(bi,bj,mug*reducedMass);\n\t\t// \tthis.frictionEquations.push(c1, c2);\n\n\t\t// \tc1.bi = c2.bi = bi;\n\t\t// \tc1.bj = c2.bj = bj;\n\t\t// \tc1.minForce = c2.minForce = -mug*reducedMass;\n\t\t// \tc1.maxForce = c2.maxForce = mug*reducedMass;\n\n\t\t// \t// Copy over the relative vectors\n\t\t// \tc1.ri.copy(c.ri);\n\t\t// \tc1.rj.copy(c.rj);\n\t\t// \tc2.ri.copy(c.ri);\n\t\t// \tc2.rj.copy(c.rj);\n\n\t\t// \t// Construct tangents\n\t\t// \tc.ni.tangents(c1.t, c2.t);\n\n  //           // Set spook params\n  //           c1.setSpookParams(cm.frictionEquationStiffness, cm.frictionEquationRelaxation, dt);\n  //           c2.setSpookParams(cm.frictionEquationStiffness, cm.frictionEquationRelaxation, dt);\n\n  //           c1.enabled = c2.enabled = c.enabled;\n\n\t\t// \t// Add equations to solver\n\t\t// \tsolver.addEquation(c1);\n\t\t// \tsolver.addEquation(c2);\n\t\t// }\n\n        if( bi.allowSleep &&\n            bi.type === Body.DYNAMIC &&\n            bi.sleepState  === Body.SLEEPING &&\n            bj.sleepState  === Body.AWAKE &&\n            bj.type !== Body.STATIC\n        ){\n            var speedSquaredB = bj.velocity.norm2() + bj.angularVelocity.norm2();\n            var speedLimitSquaredB = Math.pow(bj.sleepSpeedLimit,2);\n            if(speedSquaredB >= speedLimitSquaredB*2){\n                bi._wakeUpAfterNarrowphase = true;\n            }\n        }\n\n        if( bj.allowSleep &&\n            bj.type === Body.DYNAMIC &&\n            bj.sleepState  === Body.SLEEPING &&\n            bi.sleepState  === Body.AWAKE &&\n            bi.type !== Body.STATIC\n        ){\n            var speedSquaredA = bi.velocity.norm2() + bi.angularVelocity.norm2();\n            var speedLimitSquaredA = Math.pow(bi.sleepSpeedLimit,2);\n            if(speedSquaredA >= speedLimitSquaredA*2){\n                bj._wakeUpAfterNarrowphase = true;\n            }\n        }\n\n        // Now we know that i and j are in contact. Set collision matrix state\n\t\tthis.collisionMatrix.set(bi, bj, true);\n\n        if (!this.collisionMatrixPrevious.get(bi, bj)) {\n            // First contact!\n            // We reuse the collideEvent object, otherwise we will end up creating new objects for each new contact, even if there's no event listener attached.\n            World_step_collideEvent.body = bj;\n            World_step_collideEvent.contact = c;\n            bi.dispatchEvent(World_step_collideEvent);\n\n            World_step_collideEvent.body = bi;\n            bj.dispatchEvent(World_step_collideEvent);\n        }\n    }\n    if(doProfiling){\n        profile.makeContactConstraints = performance.now() - profilingStart;\n        profilingStart = performance.now();\n    }\n\n    // Wake up bodies\n    for(i=0; i!==N; i++){\n        var bi = bodies[i];\n        if(bi._wakeUpAfterNarrowphase){\n            bi.wakeUp();\n            bi._wakeUpAfterNarrowphase = false;\n        }\n    }\n\n    // Add user-added constraints\n    var Nconstraints = constraints.length;\n    for(i=0; i!==Nconstraints; i++){\n        var c = constraints[i];\n        c.update();\n        for(var j=0, Neq=c.equations.length; j!==Neq; j++){\n            var eq = c.equations[j];\n            solver.addEquation(eq);\n        }\n    }\n\n    // Solve the constrained system\n    solver.solve(dt,this);\n\n    if(doProfiling){\n        profile.solve = performance.now() - profilingStart;\n    }\n\n    // Remove all contacts from solver\n    solver.removeAllEquations();\n\n    // Apply damping, see http://code.google.com/p/bullet/issues/detail?id=74 for details\n    var pow = Math.pow;\n    for(i=0; i!==N; i++){\n        var bi = bodies[i];\n        if(bi.type & DYNAMIC){ // Only for dynamic bodies\n            var ld = pow(1.0 - bi.linearDamping,dt);\n            var v = bi.velocity;\n            v.mult(ld,v);\n            var av = bi.angularVelocity;\n            if(av){\n                var ad = pow(1.0 - bi.angularDamping,dt);\n                av.mult(ad,av);\n            }\n        }\n    }\n\n    this.dispatchEvent(World_step_preStepEvent);\n\n    // Invoke pre-step callbacks\n    for(i=0; i!==N; i++){\n        var bi = bodies[i];\n        if(bi.preStep){\n            bi.preStep.call(bi);\n        }\n    }\n\n    // Leap frog\n    // vnew = v + h*f/m\n    // xnew = x + h*vnew\n    if(doProfiling){\n        profilingStart = performance.now();\n    }\n    var q = World_step_step_q;\n    var w = World_step_step_w;\n    var wq = World_step_step_wq;\n    var stepnumber = this.stepnumber;\n    var DYNAMIC_OR_KINEMATIC = Body.DYNAMIC | Body.KINEMATIC;\n    var quatNormalize = stepnumber % (this.quatNormalizeSkip+1) === 0;\n    var quatNormalizeFast = this.quatNormalizeFast;\n    var half_dt = dt * 0.5;\n    var PLANE = Shape.types.PLANE,\n        CONVEX = Shape.types.CONVEXPOLYHEDRON;\n\n    for(i=0; i!==N; i++){\n        var b = bodies[i],\n            force = b.force,\n            tau = b.torque;\n        if((b.type & DYNAMIC_OR_KINEMATIC) && b.sleepState !== Body.SLEEPING){ // Only for dynamic\n            var velo = b.velocity,\n                angularVelo = b.angularVelocity,\n                pos = b.position,\n                quat = b.quaternion,\n                invMass = b.invMass,\n                invInertia = b.invInertiaWorld;\n\n            velo.x += force.x * invMass * dt;\n            velo.y += force.y * invMass * dt;\n            velo.z += force.z * invMass * dt;\n\n            if(b.angularVelocity){\n                invInertia.vmult(tau,invI_tau_dt);\n                invI_tau_dt.mult(dt,invI_tau_dt);\n                invI_tau_dt.vadd(angularVelo,angularVelo);\n            }\n\n            // Use new velocity  - leap frog\n            pos.x += velo.x * dt;\n            pos.y += velo.y * dt;\n            pos.z += velo.z * dt;\n\n            if(b.angularVelocity){\n                w.set(angularVelo.x, angularVelo.y, angularVelo.z, 0);\n                w.mult(quat,wq);\n                quat.x += half_dt * wq.x;\n                quat.y += half_dt * wq.y;\n                quat.z += half_dt * wq.z;\n                quat.w += half_dt * wq.w;\n                if(quatNormalize){\n                    if(quatNormalizeFast){\n                        quat.normalizeFast();\n                    } else {\n                        quat.normalize();\n                    }\n                }\n            }\n\n            if(b.aabb){\n                b.aabbNeedsUpdate = true;\n            }\n\n            // Update world inertia\n            if(b.updateInertiaWorld){\n                b.updateInertiaWorld();\n            }\n        }\n    }\n    this.clearForces();\n\n    this.broadphase.dirty = true;\n\n    if(doProfiling){\n        profile.integrate = performance.now() - profilingStart;\n    }\n\n    // Update world time\n    this.time += dt;\n    this.stepnumber += 1;\n\n    this.dispatchEvent(World_step_postStepEvent);\n\n    // Invoke post-step callbacks\n    for(i=0; i!==N; i++){\n        var bi = bodies[i];\n        var postStep = bi.postStep;\n        if(postStep){\n            postStep.call(bi);\n        }\n    }\n\n    // Sleeping update\n    if(this.allowSleep){\n        for(i=0; i!==N; i++){\n            bodies[i].sleepTick(this.time);\n        }\n    }\n};\n\n/**\n * Sets all body forces in the world to zero.\n * @method clearForces\n */\nWorld.prototype.clearForces = function(){\n    var bodies = this.bodies;\n    var N = bodies.length;\n    for(var i=0; i !== N; i++){\n        var b = bodies[i],\n            force = b.force,\n            tau = b.torque;\n\n        b.force.set(0,0,0);\n        b.torque.set(0,0,0);\n    }\n};\n\n},{\"../collision/AABB\":3,\"../collision/ArrayCollisionMatrix\":4,\"../collision/NaiveBroadphase\":7,\"../collision/Ray\":9,\"../collision/RaycastResult\":10,\"../equations/ContactEquation\":19,\"../equations/FrictionEquation\":21,\"../material/ContactMaterial\":24,\"../material/Material\":25,\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../objects/Body\":31,\"../shapes/Shape\":43,\"../solver/GSSolver\":46,\"../utils/EventTarget\":49,\"../utils/TupleDictionary\":52,\"../utils/Vec3Pool\":54,\"./Narrowphase\":55}]},{},[2])\n(2)\n});",
    "/** @license\n * crossroads <http://millermedeiros.github.com/crossroads.js/>\n * Author: Miller Medeiros | MIT License\n * v0.12.0 (2013/01/21 13:47)\n */\n\n(function () {\nvar factory = function (signals) {\n\n    var crossroads,\n        _hasOptionalGroupBug,\n        UNDEF;\n\n    // Helpers -----------\n    //====================\n\n    // IE 7-8 capture optional groups as empty strings while other browsers\n    // capture as `undefined`\n    _hasOptionalGroupBug = (/t(.+)?/).exec('t')[1] === '';\n\n    function arrayIndexOf(arr, val) {\n        if (arr.indexOf) {\n            return arr.indexOf(val);\n        } else {\n            //Array.indexOf doesn't work on IE 6-7\n            var n = arr.length;\n            while (n--) {\n                if (arr[n] === val) {\n                    return n;\n                }\n            }\n            return -1;\n        }\n    }\n\n    function arrayRemove(arr, item) {\n        var i = arrayIndexOf(arr, item);\n        if (i !== -1) {\n            arr.splice(i, 1);\n        }\n    }\n\n    function isKind(val, kind) {\n        return '[object '+ kind +']' === Object.prototype.toString.call(val);\n    }\n\n    function isRegExp(val) {\n        return isKind(val, 'RegExp');\n    }\n\n    function isArray(val) {\n        return isKind(val, 'Array');\n    }\n\n    function isFunction(val) {\n        return typeof val === 'function';\n    }\n\n    //borrowed from AMD-utils\n    function typecastValue(val) {\n        var r;\n        if (val === null || val === 'null') {\n            r = null;\n        } else if (val === 'true') {\n            r = true;\n        } else if (val === 'false') {\n            r = false;\n        } else if (val === UNDEF || val === 'undefined') {\n            r = UNDEF;\n        } else if (val === '' || isNaN(val)) {\n            //isNaN('') returns false\n            r = val;\n        } else {\n            //parseFloat(null || '') returns NaN\n            r = parseFloat(val);\n        }\n        return r;\n    }\n\n    function typecastArrayValues(values) {\n        var n = values.length,\n            result = [];\n        while (n--) {\n            result[n] = typecastValue(values[n]);\n        }\n        return result;\n    }\n\n    //borrowed from AMD-Utils\n    function decodeQueryString(str, shouldTypecast) {\n        var queryArr = (str || '').replace('?', '').split('&'),\n            n = queryArr.length,\n            obj = {},\n            item, val;\n        while (n--) {\n            item = queryArr[n].split('=');\n            val = shouldTypecast ? typecastValue(item[1]) : item[1];\n            obj[item[0]] = (typeof val === 'string')? decodeURIComponent(val) : val;\n        }\n        return obj;\n    }\n\n\n    // Crossroads --------\n    //====================\n\n    /**\n     * @constructor\n     */\n    function Crossroads() {\n        this.bypassed = new signals.Signal();\n        this.routed = new signals.Signal();\n        this._routes = [];\n        this._prevRoutes = [];\n        this._piped = [];\n        this.resetState();\n    }\n\n    Crossroads.prototype = {\n\n        greedy : false,\n\n        greedyEnabled : true,\n\n        ignoreCase : true,\n\n        ignoreState : false,\n\n        shouldTypecast : false,\n\n        normalizeFn : null,\n\n        resetState : function(){\n            this._prevRoutes.length = 0;\n            this._prevMatchedRequest = null;\n            this._prevBypassedRequest = null;\n        },\n\n        create : function () {\n            return new Crossroads();\n        },\n\n        addRoute : function (pattern, callback, priority) {\n            var route = new Route(pattern, callback, priority, this);\n            this._sortedInsert(route);\n            return route;\n        },\n\n        removeRoute : function (route) {\n            arrayRemove(this._routes, route);\n            route._destroy();\n        },\n\n        removeAllRoutes : function () {\n            var n = this.getNumRoutes();\n            while (n--) {\n                this._routes[n]._destroy();\n            }\n            this._routes.length = 0;\n        },\n\n        parse : function (request, defaultArgs) {\n            request = request || '';\n            defaultArgs = defaultArgs || [];\n\n            // should only care about different requests if ignoreState isn't true\n            if ( !this.ignoreState &&\n                (request === this._prevMatchedRequest ||\n                 request === this._prevBypassedRequest) ) {\n                return;\n            }\n\n            var routes = this._getMatchedRoutes(request),\n                i = 0,\n                n = routes.length,\n                cur;\n\n            if (n) {\n                this._prevMatchedRequest = request;\n\n                this._notifyPrevRoutes(routes, request);\n                this._prevRoutes = routes;\n                //should be incremental loop, execute routes in order\n                while (i < n) {\n                    cur = routes[i];\n                    cur.route.matched.dispatch.apply(cur.route.matched, defaultArgs.concat(cur.params));\n                    cur.isFirst = !i;\n                    this.routed.dispatch.apply(this.routed, defaultArgs.concat([request, cur]));\n                    i += 1;\n                }\n            } else {\n                this._prevBypassedRequest = request;\n                this.bypassed.dispatch.apply(this.bypassed, defaultArgs.concat([request]));\n            }\n\n            this._pipeParse(request, defaultArgs);\n        },\n\n        _notifyPrevRoutes : function(matchedRoutes, request) {\n            var i = 0, prev;\n            while (prev = this._prevRoutes[i++]) {\n                //check if switched exist since route may be disposed\n                if(prev.route.switched && this._didSwitch(prev.route, matchedRoutes)) {\n                    prev.route.switched.dispatch(request);\n                }\n            }\n        },\n\n        _didSwitch : function (route, matchedRoutes){\n            var matched,\n                i = 0;\n            while (matched = matchedRoutes[i++]) {\n                // only dispatch switched if it is going to a different route\n                if (matched.route === route) {\n                    return false;\n                }\n            }\n            return true;\n        },\n\n        _pipeParse : function(request, defaultArgs) {\n            var i = 0, route;\n            while (route = this._piped[i++]) {\n                route.parse(request, defaultArgs);\n            }\n        },\n\n        getNumRoutes : function () {\n            return this._routes.length;\n        },\n\n        _sortedInsert : function (route) {\n            //simplified insertion sort\n            var routes = this._routes,\n                n = routes.length;\n            do { --n; } while (routes[n] && route._priority <= routes[n]._priority);\n            routes.splice(n+1, 0, route);\n        },\n\n        _getMatchedRoutes : function (request) {\n            var res = [],\n                routes = this._routes,\n                n = routes.length,\n                route;\n            //should be decrement loop since higher priorities are added at the end of array\n            while (route = routes[--n]) {\n                if ((!res.length || this.greedy || route.greedy) && route.match(request)) {\n                    res.push({\n                        route : route,\n                        params : route._getParamsArray(request)\n                    });\n                }\n                if (!this.greedyEnabled && res.length) {\n                    break;\n                }\n            }\n            return res;\n        },\n\n        pipe : function (otherRouter) {\n            this._piped.push(otherRouter);\n        },\n\n        unpipe : function (otherRouter) {\n            arrayRemove(this._piped, otherRouter);\n        },\n\n        toString : function () {\n            return '[crossroads numRoutes:'+ this.getNumRoutes() +']';\n        }\n    };\n\n    //\"static\" instance\n    crossroads = new Crossroads();\n    crossroads.VERSION = '0.12.0';\n\n    crossroads.NORM_AS_ARRAY = function (req, vals) {\n        return [vals.vals_];\n    };\n\n    crossroads.NORM_AS_OBJECT = function (req, vals) {\n        return [vals];\n    };\n\n\n    // Route --------------\n    //=====================\n\n    /**\n     * @constructor\n     */\n    function Route(pattern, callback, priority, router) {\n        var isRegexPattern = isRegExp(pattern),\n            patternLexer = router.patternLexer;\n        this._router = router;\n        this._pattern = pattern;\n        this._paramsIds = isRegexPattern? null : patternLexer.getParamIds(pattern);\n        this._optionalParamsIds = isRegexPattern? null : patternLexer.getOptionalParamsIds(pattern);\n        this._matchRegexp = isRegexPattern? pattern : patternLexer.compilePattern(pattern, router.ignoreCase);\n        this.matched = new signals.Signal();\n        this.switched = new signals.Signal();\n        if (callback) {\n            this.matched.add(callback);\n        }\n        this._priority = priority || 0;\n    }\n\n    Route.prototype = {\n\n        greedy : false,\n\n        rules : void(0),\n\n        match : function (request) {\n            request = request || '';\n            return this._matchRegexp.test(request) && this._validateParams(request); //validate params even if regexp because of `request_` rule.\n        },\n\n        _validateParams : function (request) {\n            var rules = this.rules,\n                values = this._getParamsObject(request),\n                key;\n            for (key in rules) {\n                // normalize_ isn't a validation rule... (#39)\n                if(key !== 'normalize_' && rules.hasOwnProperty(key) && ! this._isValidParam(request, key, values)){\n                    return false;\n                }\n            }\n            return true;\n        },\n\n        _isValidParam : function (request, prop, values) {\n            var validationRule = this.rules[prop],\n                val = values[prop],\n                isValid = false,\n                isQuery = (prop.indexOf('?') === 0);\n\n            if (val == null && this._optionalParamsIds && arrayIndexOf(this._optionalParamsIds, prop) !== -1) {\n                isValid = true;\n            }\n            else if (isRegExp(validationRule)) {\n                if (isQuery) {\n                    val = values[prop +'_']; //use raw string\n                }\n                isValid = validationRule.test(val);\n            }\n            else if (isArray(validationRule)) {\n                if (isQuery) {\n                    val = values[prop +'_']; //use raw string\n                }\n                isValid = this._isValidArrayRule(validationRule, val);\n            }\n            else if (isFunction(validationRule)) {\n                isValid = validationRule(val, request, values);\n            }\n\n            return isValid; //fail silently if validationRule is from an unsupported type\n        },\n\n        _isValidArrayRule : function (arr, val) {\n            if (! this._router.ignoreCase) {\n                return arrayIndexOf(arr, val) !== -1;\n            }\n\n            if (typeof val === 'string') {\n                val = val.toLowerCase();\n            }\n\n            var n = arr.length,\n                item,\n                compareVal;\n\n            while (n--) {\n                item = arr[n];\n                compareVal = (typeof item === 'string')? item.toLowerCase() : item;\n                if (compareVal === val) {\n                    return true;\n                }\n            }\n            return false;\n        },\n\n        _getParamsObject : function (request) {\n            var shouldTypecast = this._router.shouldTypecast,\n                values = this._router.patternLexer.getParamValues(request, this._matchRegexp, shouldTypecast),\n                o = {},\n                n = values.length,\n                param, val;\n            while (n--) {\n                val = values[n];\n                if (this._paramsIds) {\n                    param = this._paramsIds[n];\n                    if (param.indexOf('?') === 0 && val) {\n                        //make a copy of the original string so array and\n                        //RegExp validation can be applied properly\n                        o[param +'_'] = val;\n                        //update vals_ array as well since it will be used\n                        //during dispatch\n                        val = decodeQueryString(val, shouldTypecast);\n                        values[n] = val;\n                    }\n                    // IE will capture optional groups as empty strings while other\n                    // browsers will capture `undefined` so normalize behavior.\n                    // see: #gh-58, #gh-59, #gh-60\n                    if ( _hasOptionalGroupBug && val === '' && arrayIndexOf(this._optionalParamsIds, param) !== -1 ) {\n                        val = void(0);\n                        values[n] = val;\n                    }\n                    o[param] = val;\n                }\n                //alias to paths and for RegExp pattern\n                o[n] = val;\n            }\n            o.request_ = shouldTypecast? typecastValue(request) : request;\n            o.vals_ = values;\n            return o;\n        },\n\n        _getParamsArray : function (request) {\n            var norm = this.rules? this.rules.normalize_ : null,\n                params;\n            norm = norm || this._router.normalizeFn; // default normalize\n            if (norm && isFunction(norm)) {\n                params = norm(request, this._getParamsObject(request));\n            } else {\n                params = this._getParamsObject(request).vals_;\n            }\n            return params;\n        },\n\n        interpolate : function(replacements) {\n            var str = this._router.patternLexer.interpolate(this._pattern, replacements);\n            if (! this._validateParams(str) ) {\n                throw new Error('Generated string doesn\\'t validate against `Route.rules`.');\n            }\n            return str;\n        },\n\n        dispose : function () {\n            this._router.removeRoute(this);\n        },\n\n        _destroy : function () {\n            this.matched.dispose();\n            this.switched.dispose();\n            this.matched = this.switched = this._pattern = this._matchRegexp = null;\n        },\n\n        toString : function () {\n            return '[Route pattern:\"'+ this._pattern +'\", numListeners:'+ this.matched.getNumListeners() +']';\n        }\n\n    };\n\n\n\n    // Pattern Lexer ------\n    //=====================\n\n    Crossroads.prototype.patternLexer = (function () {\n\n        var\n            //match chars that should be escaped on string regexp\n            ESCAPE_CHARS_REGEXP = /[\\\\.+*?\\^$\\[\\](){}\\/'#]/g,\n\n            //trailing slashes (begin/end of string)\n            LOOSE_SLASHES_REGEXP = /^\\/|\\/$/g,\n            LEGACY_SLASHES_REGEXP = /\\/$/g,\n\n            //params - everything between `{ }` or `: :`\n            PARAMS_REGEXP = /(?:\\{|:)([^}:]+)(?:\\}|:)/g,\n\n            //used to save params during compile (avoid escaping things that\n            //shouldn't be escaped).\n            TOKENS = {\n                'OS' : {\n                    //optional slashes\n                    //slash between `::` or `}:` or `\\w:` or `:{?` or `}{?` or `\\w{?`\n                    rgx : /([:}]|\\w(?=\\/))\\/?(:|(?:\\{\\?))/g,\n                    save : '$1{{id}}$2',\n                    res : '\\\\/?'\n                },\n                'RS' : {\n                    //required slashes\n                    //used to insert slash between `:{` and `}{`\n                    rgx : /([:}])\\/?(\\{)/g,\n                    save : '$1{{id}}$2',\n                    res : '\\\\/'\n                },\n                'RQ' : {\n                    //required query string - everything in between `{? }`\n                    rgx : /\\{\\?([^}]+)\\}/g,\n                    //everything from `?` till `#` or end of string\n                    res : '\\\\?([^#]+)'\n                },\n                'OQ' : {\n                    //optional query string - everything in between `:? :`\n                    rgx : /:\\?([^:]+):/g,\n                    //everything from `?` till `#` or end of string\n                    res : '(?:\\\\?([^#]*))?'\n                },\n                'OR' : {\n                    //optional rest - everything in between `: *:`\n                    rgx : /:([^:]+)\\*:/g,\n                    res : '(.*)?' // optional group to avoid passing empty string as captured\n                },\n                'RR' : {\n                    //rest param - everything in between `{ *}`\n                    rgx : /\\{([^}]+)\\*\\}/g,\n                    res : '(.+)'\n                },\n                // required/optional params should come after rest segments\n                'RP' : {\n                    //required params - everything between `{ }`\n                    rgx : /\\{([^}]+)\\}/g,\n                    res : '([^\\\\/?]+)'\n                },\n                'OP' : {\n                    //optional params - everything between `: :`\n                    rgx : /:([^:]+):/g,\n                    res : '([^\\\\/?]+)?\\/?'\n                }\n            },\n\n            LOOSE_SLASH = 1,\n            STRICT_SLASH = 2,\n            LEGACY_SLASH = 3,\n\n            _slashMode = LOOSE_SLASH;\n\n\n        function precompileTokens(){\n            var key, cur;\n            for (key in TOKENS) {\n                if (TOKENS.hasOwnProperty(key)) {\n                    cur = TOKENS[key];\n                    cur.id = '__CR_'+ key +'__';\n                    cur.save = ('save' in cur)? cur.save.replace('{{id}}', cur.id) : cur.id;\n                    cur.rRestore = new RegExp(cur.id, 'g');\n                }\n            }\n        }\n        precompileTokens();\n\n\n        function captureVals(regex, pattern) {\n            var vals = [], match;\n            // very important to reset lastIndex since RegExp can have \"g\" flag\n            // and multiple runs might affect the result, specially if matching\n            // same string multiple times on IE 7-8\n            regex.lastIndex = 0;\n            while (match = regex.exec(pattern)) {\n                vals.push(match[1]);\n            }\n            return vals;\n        }\n\n        function getParamIds(pattern) {\n            return captureVals(PARAMS_REGEXP, pattern);\n        }\n\n        function getOptionalParamsIds(pattern) {\n            return captureVals(TOKENS.OP.rgx, pattern);\n        }\n\n        function compilePattern(pattern, ignoreCase) {\n            pattern = pattern || '';\n\n            if(pattern){\n                if (_slashMode === LOOSE_SLASH) {\n                    pattern = pattern.replace(LOOSE_SLASHES_REGEXP, '');\n                }\n                else if (_slashMode === LEGACY_SLASH) {\n                    pattern = pattern.replace(LEGACY_SLASHES_REGEXP, '');\n                }\n\n                //save tokens\n                pattern = replaceTokens(pattern, 'rgx', 'save');\n                //regexp escape\n                pattern = pattern.replace(ESCAPE_CHARS_REGEXP, '\\\\$&');\n                //restore tokens\n                pattern = replaceTokens(pattern, 'rRestore', 'res');\n\n                if (_slashMode === LOOSE_SLASH) {\n                    pattern = '\\\\/?'+ pattern;\n                }\n            }\n\n            if (_slashMode !== STRICT_SLASH) {\n                //single slash is treated as empty and end slash is optional\n                pattern += '\\\\/?';\n            }\n            return new RegExp('^'+ pattern + '$', ignoreCase? 'i' : '');\n        }\n\n        function replaceTokens(pattern, regexpName, replaceName) {\n            var cur, key;\n            for (key in TOKENS) {\n                if (TOKENS.hasOwnProperty(key)) {\n                    cur = TOKENS[key];\n                    pattern = pattern.replace(cur[regexpName], cur[replaceName]);\n                }\n            }\n            return pattern;\n        }\n\n        function getParamValues(request, regexp, shouldTypecast) {\n            var vals = regexp.exec(request);\n            if (vals) {\n                vals.shift();\n                if (shouldTypecast) {\n                    vals = typecastArrayValues(vals);\n                }\n            }\n            return vals;\n        }\n\n        function interpolate(pattern, replacements) {\n            if (typeof pattern !== 'string') {\n                throw new Error('Route pattern should be a string.');\n            }\n\n            var replaceFn = function(match, prop){\n                    var val;\n                    prop = (prop.substr(0, 1) === '?')? prop.substr(1) : prop;\n                    if (replacements[prop] != null) {\n                        if (typeof replacements[prop] === 'object') {\n                            var queryParts = [];\n                            for(var key in replacements[prop]) {\n                                queryParts.push(encodeURI(key + '=' + replacements[prop][key]));\n                            }\n                            val = '?' + queryParts.join('&');\n                        } else {\n                            // make sure value is a string see #gh-54\n                            val = String(replacements[prop]);\n                        }\n\n                        if (match.indexOf('*') === -1 && val.indexOf('/') !== -1) {\n                            throw new Error('Invalid value \"'+ val +'\" for segment \"'+ match +'\".');\n                        }\n                    }\n                    else if (match.indexOf('{') !== -1) {\n                        throw new Error('The segment '+ match +' is required.');\n                    }\n                    else {\n                        val = '';\n                    }\n                    return val;\n                };\n\n            if (! TOKENS.OS.trail) {\n                TOKENS.OS.trail = new RegExp('(?:'+ TOKENS.OS.id +')+$');\n            }\n\n            return pattern\n                        .replace(TOKENS.OS.rgx, TOKENS.OS.save)\n                        .replace(PARAMS_REGEXP, replaceFn)\n                        .replace(TOKENS.OS.trail, '') // remove trailing\n                        .replace(TOKENS.OS.rRestore, '/'); // add slash between segments\n        }\n\n        //API\n        return {\n            strict : function(){\n                _slashMode = STRICT_SLASH;\n            },\n            loose : function(){\n                _slashMode = LOOSE_SLASH;\n            },\n            legacy : function(){\n                _slashMode = LEGACY_SLASH;\n            },\n            getParamIds : getParamIds,\n            getOptionalParamsIds : getOptionalParamsIds,\n            getParamValues : getParamValues,\n            compilePattern : compilePattern,\n            interpolate : interpolate\n        };\n\n    }());\n\n\n    return crossroads;\n};\n\nif (typeof define === 'function' && define.amd) {\n    define(['signals'], factory);\n} else if (typeof module !== 'undefined' && module.exports) { //Node\n    module.exports = factory(require('signals'));\n} else {\n    /*jshint sub:true */\n    window['crossroads'] = factory(window['signals']);\n}\n\n}());\n\n",
    "/*jslint onevar:true, undef:true, newcap:true, regexp:true, bitwise:true, maxerr:50, indent:4, white:false, nomen:false, plusplus:false */\n/*global define:false, require:false, exports:false, module:false, signals:false */\n\n/** @license\n * JS Signals <http://millermedeiros.github.com/js-signals/>\n * Released under the MIT license\n * Author: Miller Medeiros\n * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)\n */\n\n(function(global){\n\n    // SignalBinding -------------------------------------------------\n    //================================================================\n\n    /**\n     * Object that represents a binding between a Signal and a listener function.\n     * <br />- <strong>This is an internal constructor and shouldn't be called by regular users.</strong>\n     * <br />- inspired by Joa Ebert AS3 SignalBinding and Robert Penner's Slot classes.\n     * @author Miller Medeiros\n     * @constructor\n     * @internal\n     * @name SignalBinding\n     * @param {Signal} signal Reference to Signal object that listener is currently bound to.\n     * @param {Function} listener Handler function bound to the signal.\n     * @param {boolean} isOnce If binding should be executed just once.\n     * @param {Object} [listenerContext] Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n     * @param {Number} [priority] The priority level of the event listener. (default = 0).\n     */\n    function SignalBinding(signal, listener, isOnce, listenerContext, priority) {\n\n        /**\n         * Handler function bound to the signal.\n         * @type Function\n         * @private\n         */\n        this._listener = listener;\n\n        /**\n         * If binding should be executed just once.\n         * @type boolean\n         * @private\n         */\n        this._isOnce = isOnce;\n\n        /**\n         * Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n         * @memberOf SignalBinding.prototype\n         * @name context\n         * @type Object|undefined|null\n         */\n        this.context = listenerContext;\n\n        /**\n         * Reference to Signal object that listener is currently bound to.\n         * @type Signal\n         * @private\n         */\n        this._signal = signal;\n\n        /**\n         * Listener priority\n         * @type Number\n         * @private\n         */\n        this._priority = priority || 0;\n    }\n\n    SignalBinding.prototype = {\n\n        /**\n         * If binding is active and should be executed.\n         * @type boolean\n         */\n        active : true,\n\n        /**\n         * Default parameters passed to listener during `Signal.dispatch` and `SignalBinding.execute`. (curried parameters)\n         * @type Array|null\n         */\n        params : null,\n\n        /**\n         * Call listener passing arbitrary parameters.\n         * <p>If binding was added using `Signal.addOnce()` it will be automatically removed from signal dispatch queue, this method is used internally for the signal dispatch.</p>\n         * @param {Array} [paramsArr] Array of parameters that should be passed to the listener\n         * @return {*} Value returned by the listener.\n         */\n        execute : function (paramsArr) {\n            var handlerReturn, params;\n            if (this.active && !!this._listener) {\n                params = this.params? this.params.concat(paramsArr) : paramsArr;\n                handlerReturn = this._listener.apply(this.context, params);\n                if (this._isOnce) {\n                    this.detach();\n                }\n            }\n            return handlerReturn;\n        },\n\n        /**\n         * Detach binding from signal.\n         * - alias to: mySignal.remove(myBinding.getListener());\n         * @return {Function|null} Handler function bound to the signal or `null` if binding was previously detached.\n         */\n        detach : function () {\n            return this.isBound()? this._signal.remove(this._listener, this.context) : null;\n        },\n\n        /**\n         * @return {Boolean} `true` if binding is still bound to the signal and have a listener.\n         */\n        isBound : function () {\n            return (!!this._signal && !!this._listener);\n        },\n\n        /**\n         * @return {boolean} If SignalBinding will only be executed once.\n         */\n        isOnce : function () {\n            return this._isOnce;\n        },\n\n        /**\n         * @return {Function} Handler function bound to the signal.\n         */\n        getListener : function () {\n            return this._listener;\n        },\n\n        /**\n         * @return {Signal} Signal that listener is currently bound to.\n         */\n        getSignal : function () {\n            return this._signal;\n        },\n\n        /**\n         * Delete instance properties\n         * @private\n         */\n        _destroy : function () {\n            delete this._signal;\n            delete this._listener;\n            delete this.context;\n        },\n\n        /**\n         * @return {string} String representation of the object.\n         */\n        toString : function () {\n            return '[SignalBinding isOnce:' + this._isOnce +', isBound:'+ this.isBound() +', active:' + this.active + ']';\n        }\n\n    };\n\n\n/*global SignalBinding:false*/\n\n    // Signal --------------------------------------------------------\n    //================================================================\n\n    function validateListener(listener, fnName) {\n        if (typeof listener !== 'function') {\n            throw new Error( 'listener is a required param of {fn}() and should be a Function.'.replace('{fn}', fnName) );\n        }\n    }\n\n    /**\n     * Custom event broadcaster\n     * <br />- inspired by Robert Penner's AS3 Signals.\n     * @name Signal\n     * @author Miller Medeiros\n     * @constructor\n     */\n    function Signal() {\n        /**\n         * @type Array.<SignalBinding>\n         * @private\n         */\n        this._bindings = [];\n        this._prevParams = null;\n\n        // enforce dispatch to aways work on same context (#47)\n        var self = this;\n        this.dispatch = function(){\n            Signal.prototype.dispatch.apply(self, arguments);\n        };\n    }\n\n    Signal.prototype = {\n\n        /**\n         * Signals Version Number\n         * @type String\n         * @const\n         */\n        VERSION : '1.0.0',\n\n        /**\n         * If Signal should keep record of previously dispatched parameters and\n         * automatically execute listener during `add()`/`addOnce()` if Signal was\n         * already dispatched before.\n         * @type boolean\n         */\n        memorize : false,\n\n        /**\n         * @type boolean\n         * @private\n         */\n        _shouldPropagate : true,\n\n        /**\n         * If Signal is active and should broadcast events.\n         * <p><strong>IMPORTANT:</strong> Setting this property during a dispatch will only affect the next dispatch, if you want to stop the propagation of a signal use `halt()` instead.</p>\n         * @type boolean\n         */\n        active : true,\n\n        /**\n         * @param {Function} listener\n         * @param {boolean} isOnce\n         * @param {Object} [listenerContext]\n         * @param {Number} [priority]\n         * @return {SignalBinding}\n         * @private\n         */\n        _registerListener : function (listener, isOnce, listenerContext, priority) {\n\n            var prevIndex = this._indexOfListener(listener, listenerContext),\n                binding;\n\n            if (prevIndex !== -1) {\n                binding = this._bindings[prevIndex];\n                if (binding.isOnce() !== isOnce) {\n                    throw new Error('You cannot add'+ (isOnce? '' : 'Once') +'() then add'+ (!isOnce? '' : 'Once') +'() the same listener without removing the relationship first.');\n                }\n            } else {\n                binding = new SignalBinding(this, listener, isOnce, listenerContext, priority);\n                this._addBinding(binding);\n            }\n\n            if(this.memorize && this._prevParams){\n                binding.execute(this._prevParams);\n            }\n\n            return binding;\n        },\n\n        /**\n         * @param {SignalBinding} binding\n         * @private\n         */\n        _addBinding : function (binding) {\n            //simplified insertion sort\n            var n = this._bindings.length;\n            do { --n; } while (this._bindings[n] && binding._priority <= this._bindings[n]._priority);\n            this._bindings.splice(n + 1, 0, binding);\n        },\n\n        /**\n         * @param {Function} listener\n         * @return {number}\n         * @private\n         */\n        _indexOfListener : function (listener, context) {\n            var n = this._bindings.length,\n                cur;\n            while (n--) {\n                cur = this._bindings[n];\n                if (cur._listener === listener && cur.context === context) {\n                    return n;\n                }\n            }\n            return -1;\n        },\n\n        /**\n         * Check if listener was attached to Signal.\n         * @param {Function} listener\n         * @param {Object} [context]\n         * @return {boolean} if Signal has the specified listener.\n         */\n        has : function (listener, context) {\n            return this._indexOfListener(listener, context) !== -1;\n        },\n\n        /**\n         * Add a listener to the signal.\n         * @param {Function} listener Signal handler function.\n         * @param {Object} [listenerContext] Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n         * @param {Number} [priority] The priority level of the event listener. Listeners with higher priority will be executed before listeners with lower priority. Listeners with same priority level will be executed at the same order as they were added. (default = 0)\n         * @return {SignalBinding} An Object representing the binding between the Signal and listener.\n         */\n        add : function (listener, listenerContext, priority) {\n            validateListener(listener, 'add');\n            return this._registerListener(listener, false, listenerContext, priority);\n        },\n\n        /**\n         * Add listener to the signal that should be removed after first execution (will be executed only once).\n         * @param {Function} listener Signal handler function.\n         * @param {Object} [listenerContext] Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n         * @param {Number} [priority] The priority level of the event listener. Listeners with higher priority will be executed before listeners with lower priority. Listeners with same priority level will be executed at the same order as they were added. (default = 0)\n         * @return {SignalBinding} An Object representing the binding between the Signal and listener.\n         */\n        addOnce : function (listener, listenerContext, priority) {\n            validateListener(listener, 'addOnce');\n            return this._registerListener(listener, true, listenerContext, priority);\n        },\n\n        /**\n         * Remove a single listener from the dispatch queue.\n         * @param {Function} listener Handler function that should be removed.\n         * @param {Object} [context] Execution context (since you can add the same handler multiple times if executing in a different context).\n         * @return {Function} Listener handler function.\n         */\n        remove : function (listener, context) {\n            validateListener(listener, 'remove');\n\n            var i = this._indexOfListener(listener, context);\n            if (i !== -1) {\n                this._bindings[i]._destroy(); //no reason to a SignalBinding exist if it isn't attached to a signal\n                this._bindings.splice(i, 1);\n            }\n            return listener;\n        },\n\n        /**\n         * Remove all listeners from the Signal.\n         */\n        removeAll : function () {\n            var n = this._bindings.length;\n            while (n--) {\n                this._bindings[n]._destroy();\n            }\n            this._bindings.length = 0;\n        },\n\n        /**\n         * @return {number} Number of listeners attached to the Signal.\n         */\n        getNumListeners : function () {\n            return this._bindings.length;\n        },\n\n        /**\n         * Stop propagation of the event, blocking the dispatch to next listeners on the queue.\n         * <p><strong>IMPORTANT:</strong> should be called only during signal dispatch, calling it before/after dispatch won't affect signal broadcast.</p>\n         * @see Signal.prototype.disable\n         */\n        halt : function () {\n            this._shouldPropagate = false;\n        },\n\n        /**\n         * Dispatch/Broadcast Signal to all listeners added to the queue.\n         * @param {...*} [params] Parameters that should be passed to each handler.\n         */\n        dispatch : function (params) {\n            if (! this.active) {\n                return;\n            }\n\n            var paramsArr = Array.prototype.slice.call(arguments),\n                n = this._bindings.length,\n                bindings;\n\n            if (this.memorize) {\n                this._prevParams = paramsArr;\n            }\n\n            if (! n) {\n                //should come after memorize\n                return;\n            }\n\n            bindings = this._bindings.slice(); //clone array in case add/remove items during dispatch\n            this._shouldPropagate = true; //in case `halt` was called before dispatch or during the previous dispatch.\n\n            //execute all callbacks until end of the list or until a callback returns `false` or stops propagation\n            //reverse loop since listeners with higher priority will be added at the end of the list\n            do { n--; } while (bindings[n] && this._shouldPropagate && bindings[n].execute(paramsArr) !== false);\n        },\n\n        /**\n         * Forget memorized arguments.\n         * @see Signal.memorize\n         */\n        forget : function(){\n            this._prevParams = null;\n        },\n\n        /**\n         * Remove all bindings from signal and destroy any reference to external objects (destroy Signal object).\n         * <p><strong>IMPORTANT:</strong> calling any method on the signal instance after calling dispose will throw errors.</p>\n         */\n        dispose : function () {\n            this.removeAll();\n            delete this._bindings;\n            delete this._prevParams;\n        },\n\n        /**\n         * @return {string} String representation of the object.\n         */\n        toString : function () {\n            return '[Signal active:'+ this.active +' numListeners:'+ this.getNumListeners() +']';\n        }\n\n    };\n\n\n    // Namespace -----------------------------------------------------\n    //================================================================\n\n    /**\n     * Signals namespace\n     * @namespace\n     * @name signals\n     */\n    var signals = Signal;\n\n    /**\n     * Custom event broadcaster\n     * @see Signal\n     */\n    // alias for backwards compatibility (see #gh-44)\n    signals.Signal = Signal;\n\n\n\n    //exports to multiple environments\n    if(typeof define === 'function' && define.amd){ //AMD\n        define(function () { return signals; });\n    } else if (typeof module !== 'undefined' && module.exports){ //node\n        module.exports = signals;\n    } else { //browser\n        //use string because of Google closure compiler ADVANCED_MODE\n        /*jslint sub:true */\n        global['signals'] = signals;\n    }\n\n}(this));\n",
    "/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   2.3.0\n */\n\n(function() {\n    \"use strict\";\n    function lib$es6$promise$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function lib$es6$promise$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function lib$es6$promise$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var lib$es6$promise$utils$$_isArray;\n    if (!Array.isArray) {\n      lib$es6$promise$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      lib$es6$promise$utils$$_isArray = Array.isArray;\n    }\n\n    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n    var lib$es6$promise$asap$$len = 0;\n    var lib$es6$promise$asap$$toString = {}.toString;\n    var lib$es6$promise$asap$$vertxNext;\n    var lib$es6$promise$asap$$customSchedulerFn;\n\n    var lib$es6$promise$asap$$asap = function asap(callback, arg) {\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n      lib$es6$promise$asap$$len += 2;\n      if (lib$es6$promise$asap$$len === 2) {\n        // If len is 2, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        if (lib$es6$promise$asap$$customSchedulerFn) {\n          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\n        } else {\n          lib$es6$promise$asap$$scheduleFlush();\n        }\n      }\n    }\n\n    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\n      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\n    }\n\n    function lib$es6$promise$asap$$setAsap(asapFn) {\n      lib$es6$promise$asap$$asap = asapFn;\n    }\n\n    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n    var lib$es6$promise$asap$$isNode = typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n    // test for web worker but not in IE10\n    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function lib$es6$promise$asap$$useNextTick() {\n      var nextTick = process.nextTick;\n      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n      // setImmediate should be used instead instead\n      var version = process.versions.node.match(/^(?:(\\d+)\\.)?(?:(\\d+)\\.)?(\\*|\\d+)$/);\n      if (Array.isArray(version) && version[1] === '0' && version[2] === '10') {\n        nextTick = setImmediate;\n      }\n      return function() {\n        nextTick(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    // vertx\n    function lib$es6$promise$asap$$useVertxTimer() {\n      return function() {\n        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    function lib$es6$promise$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function lib$es6$promise$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function lib$es6$promise$asap$$useSetTimeout() {\n      return function() {\n        setTimeout(lib$es6$promise$asap$$flush, 1);\n      };\n    }\n\n    var lib$es6$promise$asap$$queue = new Array(1000);\n    function lib$es6$promise$asap$$flush() {\n      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n        var callback = lib$es6$promise$asap$$queue[i];\n        var arg = lib$es6$promise$asap$$queue[i+1];\n\n        callback(arg);\n\n        lib$es6$promise$asap$$queue[i] = undefined;\n        lib$es6$promise$asap$$queue[i+1] = undefined;\n      }\n\n      lib$es6$promise$asap$$len = 0;\n    }\n\n    function lib$es6$promise$asap$$attemptVertex() {\n      try {\n        var r = require;\n        var vertx = r('vertx');\n        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n        return lib$es6$promise$asap$$useVertxTimer();\n      } catch(e) {\n        return lib$es6$promise$asap$$useSetTimeout();\n      }\n    }\n\n    var lib$es6$promise$asap$$scheduleFlush;\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (lib$es6$promise$asap$$isNode) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n    } else if (lib$es6$promise$asap$$isWorker) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n    } else if (lib$es6$promise$asap$$browserWindow === undefined && typeof require === 'function') {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertex();\n    } else {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n    }\n\n    function lib$es6$promise$$internal$$noop() {}\n\n    var lib$es6$promise$$internal$$PENDING   = void 0;\n    var lib$es6$promise$$internal$$FULFILLED = 1;\n    var lib$es6$promise$$internal$$REJECTED  = 2;\n\n    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$selfFullfillment() {\n      return new TypeError(\"You cannot resolve a promise with itself\");\n    }\n\n    function lib$es6$promise$$internal$$cannotReturnOwn() {\n      return new TypeError('A promises callback cannot return that same promise.');\n    }\n\n    function lib$es6$promise$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n       lib$es6$promise$asap$$asap(function(promise) {\n        var sealed = false;\n        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            lib$es6$promise$$internal$$resolve(promise, value);\n          } else {\n            lib$es6$promise$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          lib$es6$promise$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          lib$es6$promise$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, thenable._result);\n      } else {\n        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable) {\n      if (maybeThenable.constructor === promise.constructor) {\n        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        var then = lib$es6$promise$$internal$$getThen(maybeThenable);\n\n        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        } else if (lib$es6$promise$utils$$isFunction(then)) {\n          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function lib$es6$promise$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFullfillment());\n      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n        lib$es6$promise$$internal$$handleMaybeThenable(promise, value);\n      } else {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publishRejection(promise) {\n      if (promise._onerror) {\n        promise._onerror(promise._result);\n      }\n\n      lib$es6$promise$$internal$$publish(promise);\n    }\n\n    function lib$es6$promise$$internal$$fulfill(promise, value) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\n      if (promise._subscribers.length !== 0) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, promise);\n      }\n    }\n\n    function lib$es6$promise$$internal$$reject(promise, reason) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n      promise._state = lib$es6$promise$$internal$$REJECTED;\n      promise._result = reason;\n\n      lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection, promise);\n    }\n\n    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onerror = null;\n\n      subscribers[length] = child;\n      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, parent);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function lib$es6$promise$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\n        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      } else if (failed) {\n        lib$es6$promise$$internal$$reject(promise, error);\n      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n      try {\n        resolver(function resolvePromise(value){\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        lib$es6$promise$$internal$$reject(promise, e);\n      }\n    }\n\n    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n      var enumerator = this;\n\n      enumerator._instanceConstructor = Constructor;\n      enumerator.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (enumerator._validateInput(input)) {\n        enumerator._input     = input;\n        enumerator.length     = input.length;\n        enumerator._remaining = input.length;\n\n        enumerator._init();\n\n        if (enumerator.length === 0) {\n          lib$es6$promise$$internal$$fulfill(enumerator.promise, enumerator._result);\n        } else {\n          enumerator.length = enumerator.length || 0;\n          enumerator._enumerate();\n          if (enumerator._remaining === 0) {\n            lib$es6$promise$$internal$$fulfill(enumerator.promise, enumerator._result);\n          }\n        }\n      } else {\n        lib$es6$promise$$internal$$reject(enumerator.promise, enumerator._validationError());\n      }\n    }\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._validateInput = function(input) {\n      return lib$es6$promise$utils$$isArray(input);\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._validationError = function() {\n      return new Error('Array Methods must be provided an Array');\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._init = function() {\n      this._result = new Array(this.length);\n    };\n\n    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n      var enumerator = this;\n\n      var length  = enumerator.length;\n      var promise = enumerator.promise;\n      var input   = enumerator._input;\n\n      for (var i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        enumerator._eachEntry(input[i], i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var enumerator = this;\n      var c = enumerator._instanceConstructor;\n\n      if (lib$es6$promise$utils$$isMaybeThenable(entry)) {\n        if (entry.constructor === c && entry._state !== lib$es6$promise$$internal$$PENDING) {\n          entry._onerror = null;\n          enumerator._settledAt(entry._state, i, entry._result);\n        } else {\n          enumerator._willSettleAt(c.resolve(entry), i);\n        }\n      } else {\n        enumerator._remaining--;\n        enumerator._result[i] = entry;\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var enumerator = this;\n      var promise = enumerator.promise;\n\n      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n        enumerator._remaining--;\n\n        if (state === lib$es6$promise$$internal$$REJECTED) {\n          lib$es6$promise$$internal$$reject(promise, value);\n        } else {\n          enumerator._result[i] = value;\n        }\n      }\n\n      if (enumerator._remaining === 0) {\n        lib$es6$promise$$internal$$fulfill(promise, enumerator._result);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n      });\n    };\n    function lib$es6$promise$promise$all$$all(entries) {\n      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n    }\n    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n    function lib$es6$promise$promise$race$$race(entries) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (!lib$es6$promise$utils$$isArray(entries)) {\n        lib$es6$promise$$internal$$reject(promise, new TypeError('You must pass an array to race.'));\n        return promise;\n      }\n\n      var length = entries.length;\n\n      function onFulfillment(value) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      }\n\n      function onRejection(reason) {\n        lib$es6$promise$$internal$$reject(promise, reason);\n      }\n\n      for (var i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        lib$es6$promise$$internal$$subscribe(Constructor.resolve(entries[i]), undefined, onFulfillment, onRejection);\n      }\n\n      return promise;\n    }\n    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n    function lib$es6$promise$promise$resolve$$resolve(object) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$resolve(promise, object);\n      return promise;\n    }\n    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n    function lib$es6$promise$promise$reject$$reject(reason) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$reject(promise, reason);\n      return promise;\n    }\n    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\n    var lib$es6$promise$promise$$counter = 0;\n\n    function lib$es6$promise$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function lib$es6$promise$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n    /**\n      Promise objects represent the eventual result of an asynchronous operation. The\n      primary way of interacting with a promise is through its `then` method, which\n      registers callbacks to receive either a promise's eventual value or the reason\n      why the promise cannot be fulfilled.\n\n      Terminology\n      -----------\n\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n      - `thenable` is an object or function that defines a `then` method.\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n      - `exception` is a value that is thrown using the throw statement.\n      - `reason` is a value that indicates why a promise was rejected.\n      - `settled` the final resting state of a promise, fulfilled or rejected.\n\n      A promise can be in one of three states: pending, fulfilled, or rejected.\n\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n      state.  Promises that are rejected have a rejection reason and are in the\n      rejected state.  A fulfillment value is never a thenable.\n\n      Promises can also be said to *resolve* a value.  If this value is also a\n      promise, then the original promise's settled state will match the value's\n      settled state.  So a promise that *resolves* a promise that rejects will\n      itself reject, and a promise that *resolves* a promise that fulfills will\n      itself fulfill.\n\n\n      Basic Usage:\n      ------------\n\n      ```js\n      var promise = new Promise(function(resolve, reject) {\n        // on success\n        resolve(value);\n\n        // on failure\n        reject(reason);\n      });\n\n      promise.then(function(value) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Advanced Usage:\n      ---------------\n\n      Promises shine when abstracting away asynchronous interactions such as\n      `XMLHttpRequest`s.\n\n      ```js\n      function getJSON(url) {\n        return new Promise(function(resolve, reject){\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.onreadystatechange = handler;\n          xhr.responseType = 'json';\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.send();\n\n          function handler() {\n            if (this.readyState === this.DONE) {\n              if (this.status === 200) {\n                resolve(this.response);\n              } else {\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n              }\n            }\n          };\n        });\n      }\n\n      getJSON('/posts.json').then(function(json) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Unlike callbacks, promises are great composable primitives.\n\n      ```js\n      Promise.all([\n        getJSON('/posts'),\n        getJSON('/comments')\n      ]).then(function(values){\n        values[0] // => postsJSON\n        values[1] // => commentsJSON\n\n        return values;\n      });\n      ```\n\n      @class Promise\n      @param {function} resolver\n      Useful for tooling.\n      @constructor\n    */\n    function lib$es6$promise$promise$$Promise(resolver) {\n      this._id = lib$es6$promise$promise$$counter++;\n      this._state = undefined;\n      this._result = undefined;\n      this._subscribers = [];\n\n      if (lib$es6$promise$$internal$$noop !== resolver) {\n        if (!lib$es6$promise$utils$$isFunction(resolver)) {\n          lib$es6$promise$promise$$needsResolver();\n        }\n\n        if (!(this instanceof lib$es6$promise$promise$$Promise)) {\n          lib$es6$promise$promise$$needsNew();\n        }\n\n        lib$es6$promise$$internal$$initializePromise(this, resolver);\n      }\n    }\n\n    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\n    lib$es6$promise$promise$$Promise._setAsap = lib$es6$promise$asap$$setAsap;\n    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$asap;\n\n    lib$es6$promise$promise$$Promise.prototype = {\n      constructor: lib$es6$promise$promise$$Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: function(onFulfillment, onRejection) {\n        var parent = this;\n        var state = parent._state;\n\n        if (state === lib$es6$promise$$internal$$FULFILLED && !onFulfillment || state === lib$es6$promise$$internal$$REJECTED && !onRejection) {\n          return this;\n        }\n\n        var child = new this.constructor(lib$es6$promise$$internal$$noop);\n        var result = parent._result;\n\n        if (state) {\n          var callback = arguments[state - 1];\n          lib$es6$promise$asap$$asap(function(){\n            lib$es6$promise$$internal$$invokeCallback(state, child, callback, result);\n          });\n        } else {\n          lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n        }\n\n        return child;\n      },\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection) {\n        return this.then(null, onRejection);\n      }\n    };\n    function lib$es6$promise$polyfill$$polyfill() {\n      var local;\n\n      if (typeof global !== 'undefined') {\n          local = global;\n      } else if (typeof self !== 'undefined') {\n          local = self;\n      } else {\n          try {\n              local = Function('return this')();\n          } catch (e) {\n              throw new Error('polyfill failed because global object is unavailable in this environment');\n          }\n      }\n\n      var P = local.Promise;\n\n      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n        return;\n      }\n\n      local.Promise = lib$es6$promise$promise$$default;\n    }\n    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\n    var lib$es6$promise$umd$$ES6Promise = {\n      'Promise': lib$es6$promise$promise$$default,\n      'polyfill': lib$es6$promise$polyfill$$default\n    };\n\n    /* global define:true module:true window: true */\n    if (typeof define === 'function' && define['amd']) {\n      define(function() { return lib$es6$promise$umd$$ES6Promise; });\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n    } else if (typeof this !== 'undefined') {\n      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n    }\n\n    lib$es6$promise$polyfill$$default();\n}).call(this);\n\n",
    "/*!!\n * Hasher <http://github.com/millermedeiros/hasher>\n * @author Miller Medeiros\n * @version 1.2.0 (2013/11/11 03:18 PM)\n * Released under the MIT License\n */\n\n;(function () {\nvar factory = function(signals){\n\n/*jshint white:false*/\n/*global signals:false, window:false*/\n\n/**\n * Hasher\n * @namespace History Manager for rich-media applications.\n * @name hasher\n */\nvar hasher = (function(window){\n\n    //--------------------------------------------------------------------------------------\n    // Private Vars\n    //--------------------------------------------------------------------------------------\n\n    var\n\n        // frequency that it will check hash value on IE 6-7 since it doesn't\n        // support the hashchange event\n        POOL_INTERVAL = 25,\n\n        // local storage for brevity and better compression --------------------------------\n\n        document = window.document,\n        history = window.history,\n        Signal = signals.Signal,\n\n        // local vars ----------------------------------------------------------------------\n\n        hasher,\n        _hash,\n        _checkInterval,\n        _isActive,\n        _frame, //iframe used for legacy IE (6-7)\n        _checkHistory,\n        _hashValRegexp = /#(.*)$/,\n        _baseUrlRegexp = /(\\?.*)|(\\#.*)/,\n        _hashRegexp = /^\\#/,\n\n        // sniffing/feature detection -------------------------------------------------------\n\n        //hack based on this: http://webreflection.blogspot.com/2009/01/32-bytes-to-know-if-your-browser-is-ie.html\n        _isIE = (!+\"\\v1\"),\n        // hashchange is supported by FF3.6+, IE8+, Chrome 5+, Safari 5+ but\n        // feature detection fails on IE compatibility mode, so we need to\n        // check documentMode\n        _isHashChangeSupported = ('onhashchange' in window) && document.documentMode !== 7,\n        //check if is IE6-7 since hash change is only supported on IE8+ and\n        //changing hash value on IE6-7 doesn't generate history record.\n        _isLegacyIE = _isIE && !_isHashChangeSupported,\n        _isLocal = (location.protocol === 'file:');\n\n\n    //--------------------------------------------------------------------------------------\n    // Private Methods\n    //--------------------------------------------------------------------------------------\n\n    function _escapeRegExp(str){\n        return String(str || '').replace(/\\W/g, \"\\\\$&\");\n    }\n\n    function _trimHash(hash){\n        if (!hash) return '';\n        var regexp = new RegExp('^' + _escapeRegExp(hasher.prependHash) + '|' + _escapeRegExp(hasher.appendHash) + '$', 'g');\n        return hash.replace(regexp, '');\n    }\n\n    function _getWindowHash(){\n        //parsed full URL instead of getting window.location.hash because Firefox decode hash value (and all the other browsers don't)\n        //also because of IE8 bug with hash query in local file [issue #6]\n        var result = _hashValRegexp.exec( hasher.getURL() );\n        var path = (result && result[1]) || '';\n        try {\n          return hasher.raw? path : decodeURIComponent(path);\n        } catch (e) {\n          // in case user did not set `hasher.raw` and decodeURIComponent\n          // throws an error (see #57)\n          return path;\n        }\n    }\n\n    function _getFrameHash(){\n        return (_frame)? _frame.contentWindow.frameHash : null;\n    }\n\n    function _createFrame(){\n        _frame = document.createElement('iframe');\n        _frame.src = 'about:blank';\n        _frame.style.display = 'none';\n        document.body.appendChild(_frame);\n    }\n\n    function _updateFrame(){\n        if(_frame && _hash !== _getFrameHash()){\n            var frameDoc = _frame.contentWindow.document;\n            frameDoc.open();\n            //update iframe content to force new history record.\n            //based on Really Simple History, SWFAddress and YUI.history.\n            frameDoc.write('<html><head><title>' + document.title + '</title><script type=\"text/javascript\">var frameHash=\"' + _hash + '\";</script></head><body>&nbsp;</body></html>');\n            frameDoc.close();\n        }\n    }\n\n    function _registerChange(newHash, isReplace){\n        if(_hash !== newHash){\n            var oldHash = _hash;\n            _hash = newHash; //should come before event dispatch to make sure user can get proper value inside event handler\n            if(_isLegacyIE){\n                if(!isReplace){\n                    _updateFrame();\n                } else {\n                    _frame.contentWindow.frameHash = newHash;\n                }\n            }\n            hasher.changed.dispatch(_trimHash(newHash), _trimHash(oldHash));\n        }\n    }\n\n    if (_isLegacyIE) {\n        /**\n         * @private\n         */\n        _checkHistory = function(){\n            var windowHash = _getWindowHash(),\n                frameHash = _getFrameHash();\n            if(frameHash !== _hash && frameHash !== windowHash){\n                //detect changes made pressing browser history buttons.\n                //Workaround since history.back() and history.forward() doesn't\n                //update hash value on IE6/7 but updates content of the iframe.\n                //needs to trim hash since value stored already have\n                //prependHash + appendHash for fast check.\n                hasher.setHash(_trimHash(frameHash));\n            } else if (windowHash !== _hash){\n                //detect if hash changed (manually or using setHash)\n                _registerChange(windowHash);\n            }\n        };\n    } else {\n        /**\n         * @private\n         */\n        _checkHistory = function(){\n            var windowHash = _getWindowHash();\n            if(windowHash !== _hash){\n                _registerChange(windowHash);\n            }\n        };\n    }\n\n    function _addListener(elm, eType, fn){\n        if(elm.addEventListener){\n            elm.addEventListener(eType, fn, false);\n        } else if (elm.attachEvent){\n            elm.attachEvent('on' + eType, fn);\n        }\n    }\n\n    function _removeListener(elm, eType, fn){\n        if(elm.removeEventListener){\n            elm.removeEventListener(eType, fn, false);\n        } else if (elm.detachEvent){\n            elm.detachEvent('on' + eType, fn);\n        }\n    }\n\n    function _makePath(paths){\n        paths = Array.prototype.slice.call(arguments);\n\n        var path = paths.join(hasher.separator);\n        path = path? hasher.prependHash + path.replace(_hashRegexp, '') + hasher.appendHash : path;\n        return path;\n    }\n\n    function _encodePath(path){\n        //used encodeURI instead of encodeURIComponent to preserve '?', '/',\n        //'#'. Fixes Safari bug [issue #8]\n        path = encodeURI(path);\n        if(_isIE && _isLocal){\n            //fix IE8 local file bug [issue #6]\n            path = path.replace(/\\?/, '%3F');\n        }\n        return path;\n    }\n\n    //--------------------------------------------------------------------------------------\n    // Public (API)\n    //--------------------------------------------------------------------------------------\n\n    hasher = /** @lends hasher */ {\n\n        /**\n         * hasher Version Number\n         * @type string\n         * @constant\n         */\n        VERSION : '1.2.0',\n\n        /**\n         * Boolean deciding if hasher encodes/decodes the hash or not.\n         * <ul>\n         * <li>default value: false;</li>\n         * </ul>\n         * @type boolean\n         */\n        raw : false,\n\n        /**\n         * String that should always be added to the end of Hash value.\n         * <ul>\n         * <li>default value: '';</li>\n         * <li>will be automatically removed from `hasher.getHash()`</li>\n         * <li>avoid conflicts with elements that contain ID equal to hash value;</li>\n         * </ul>\n         * @type string\n         */\n        appendHash : '',\n\n        /**\n         * String that should always be added to the beginning of Hash value.\n         * <ul>\n         * <li>default value: '/';</li>\n         * <li>will be automatically removed from `hasher.getHash()`</li>\n         * <li>avoid conflicts with elements that contain ID equal to hash value;</li>\n         * </ul>\n         * @type string\n         */\n        prependHash : '/',\n\n        /**\n         * String used to split hash paths; used by `hasher.getHashAsArray()` to split paths.\n         * <ul>\n         * <li>default value: '/';</li>\n         * </ul>\n         * @type string\n         */\n        separator : '/',\n\n        /**\n         * Signal dispatched when hash value changes.\n         * - pass current hash as 1st parameter to listeners and previous hash value as 2nd parameter.\n         * @type signals.Signal\n         */\n        changed : new Signal(),\n\n        /**\n         * Signal dispatched when hasher is stopped.\n         * -  pass current hash as first parameter to listeners\n         * @type signals.Signal\n         */\n        stopped : new Signal(),\n\n        /**\n         * Signal dispatched when hasher is initialized.\n         * - pass current hash as first parameter to listeners.\n         * @type signals.Signal\n         */\n        initialized : new Signal(),\n\n        /**\n         * Start listening/dispatching changes in the hash/history.\n         * <ul>\n         *   <li>hasher won't dispatch CHANGE events by manually typing a new value or pressing the back/forward buttons before calling this method.</li>\n         * </ul>\n         */\n        init : function(){\n            if(_isActive) return;\n\n            _hash = _getWindowHash();\n\n            //thought about branching/overloading hasher.init() to avoid checking multiple times but\n            //don't think worth doing it since it probably won't be called multiple times.\n            if(_isHashChangeSupported){\n                _addListener(window, 'hashchange', _checkHistory);\n            }else {\n                if(_isLegacyIE){\n                    if(! _frame){\n                        _createFrame();\n                    }\n                    _updateFrame();\n                }\n                _checkInterval = setInterval(_checkHistory, POOL_INTERVAL);\n            }\n\n            _isActive = true;\n            hasher.initialized.dispatch(_trimHash(_hash));\n        },\n\n        /**\n         * Stop listening/dispatching changes in the hash/history.\n         * <ul>\n         *   <li>hasher won't dispatch CHANGE events by manually typing a new value or pressing the back/forward buttons after calling this method, unless you call hasher.init() again.</li>\n         *   <li>hasher will still dispatch changes made programatically by calling hasher.setHash();</li>\n         * </ul>\n         */\n        stop : function(){\n            if(! _isActive) return;\n\n            if(_isHashChangeSupported){\n                _removeListener(window, 'hashchange', _checkHistory);\n            }else{\n                clearInterval(_checkInterval);\n                _checkInterval = null;\n            }\n\n            _isActive = false;\n            hasher.stopped.dispatch(_trimHash(_hash));\n        },\n\n        /**\n         * @return {boolean}    If hasher is listening to changes on the browser history and/or hash value.\n         */\n        isActive : function(){\n            return _isActive;\n        },\n\n        /**\n         * @return {string} Full URL.\n         */\n        getURL : function(){\n            return window.location.href;\n        },\n\n        /**\n         * @return {string} Retrieve URL without query string and hash.\n         */\n        getBaseURL : function(){\n            return hasher.getURL().replace(_baseUrlRegexp, ''); //removes everything after '?' and/or '#'\n        },\n\n        /**\n         * Set Hash value, generating a new history record.\n         * @param {...string} path    Hash value without '#'. Hasher will join\n         * path segments using `hasher.separator` and prepend/append hash value\n         * with `hasher.appendHash` and `hasher.prependHash`\n         * @example hasher.setHash('lorem', 'ipsum', 'dolor') -> '#/lorem/ipsum/dolor'\n         */\n        setHash : function(path){\n            path = _makePath.apply(null, arguments);\n            if(path !== _hash){\n                // we should store raw value\n                _registerChange(path);\n                if (path === _hash) {\n                    // we check if path is still === _hash to avoid error in\n                    // case of multiple consecutive redirects [issue #39]\n                    if (! hasher.raw) {\n                        path = _encodePath(path);\n                    }\n                    window.location.hash = '#' + path;\n                }\n            }\n        },\n\n        /**\n         * Set Hash value without keeping previous hash on the history record.\n         * Similar to calling `window.location.replace(\"#/hash\")` but will also work on IE6-7.\n         * @param {...string} path    Hash value without '#'. Hasher will join\n         * path segments using `hasher.separator` and prepend/append hash value\n         * with `hasher.appendHash` and `hasher.prependHash`\n         * @example hasher.replaceHash('lorem', 'ipsum', 'dolor') -> '#/lorem/ipsum/dolor'\n         */\n        replaceHash : function(path){\n            path = _makePath.apply(null, arguments);\n            if(path !== _hash){\n                // we should store raw value\n                _registerChange(path, true);\n                if (path === _hash) {\n                    // we check if path is still === _hash to avoid error in\n                    // case of multiple consecutive redirects [issue #39]\n                    if (! hasher.raw) {\n                        path = _encodePath(path);\n                    }\n                    window.location.replace('#' + path);\n                }\n            }\n        },\n\n        /**\n         * @return {string} Hash value without '#', `hasher.appendHash` and `hasher.prependHash`.\n         */\n        getHash : function(){\n            //didn't used actual value of the `window.location.hash` to avoid breaking the application in case `window.location.hash` isn't available and also because value should always be synched.\n            return _trimHash(_hash);\n        },\n\n        /**\n         * @return {Array.<string>} Hash value split into an Array.\n         */\n        getHashAsArray : function(){\n            return hasher.getHash().split(hasher.separator);\n        },\n\n        /**\n         * Removes all event listeners, stops hasher and destroy hasher object.\n         * - IMPORTANT: hasher won't work after calling this method, hasher Object will be deleted.\n         */\n        dispose : function(){\n            hasher.stop();\n            hasher.initialized.dispose();\n            hasher.stopped.dispose();\n            hasher.changed.dispose();\n            _frame = hasher = window.hasher = null;\n        },\n\n        /**\n         * @return {string} A string representation of the object.\n         */\n        toString : function(){\n            return '[hasher version=\"'+ hasher.VERSION +'\" hash=\"'+ hasher.getHash() +'\"]';\n        }\n\n    };\n\n    hasher.initialized.memorize = true; //see #33\n\n    return hasher;\n\n}(window));\n\n\n    return hasher;\n};\n\nif (typeof define === 'function' && define.amd) {\n    define(['signals'], factory);\n} else if (typeof exports === 'object') {\n    module.exports = factory(require('signals'));\n} else {\n    /*jshint sub:true */\n    window['hasher'] = factory(window['signals']);\n}\n\n}());\n",
    "/*jslint onevar:true, undef:true, newcap:true, regexp:true, bitwise:true, maxerr:50, indent:4, white:false, nomen:false, plusplus:false */\n/*global define:false, require:false, exports:false, module:false, signals:false */\n\n/** @license\n * JS Signals <http://millermedeiros.github.com/js-signals/>\n * Released under the MIT license\n * Author: Miller Medeiros\n * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)\n */\n\n(function(global){\n\n    // SignalBinding -------------------------------------------------\n    //================================================================\n\n    /**\n     * Object that represents a binding between a Signal and a listener function.\n     * <br />- <strong>This is an internal constructor and shouldn't be called by regular users.</strong>\n     * <br />- inspired by Joa Ebert AS3 SignalBinding and Robert Penner's Slot classes.\n     * @author Miller Medeiros\n     * @constructor\n     * @internal\n     * @name SignalBinding\n     * @param {Signal} signal Reference to Signal object that listener is currently bound to.\n     * @param {Function} listener Handler function bound to the signal.\n     * @param {boolean} isOnce If binding should be executed just once.\n     * @param {Object} [listenerContext] Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n     * @param {Number} [priority] The priority level of the event listener. (default = 0).\n     */\n    function SignalBinding(signal, listener, isOnce, listenerContext, priority) {\n\n        /**\n         * Handler function bound to the signal.\n         * @type Function\n         * @private\n         */\n        this._listener = listener;\n\n        /**\n         * If binding should be executed just once.\n         * @type boolean\n         * @private\n         */\n        this._isOnce = isOnce;\n\n        /**\n         * Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n         * @memberOf SignalBinding.prototype\n         * @name context\n         * @type Object|undefined|null\n         */\n        this.context = listenerContext;\n\n        /**\n         * Reference to Signal object that listener is currently bound to.\n         * @type Signal\n         * @private\n         */\n        this._signal = signal;\n\n        /**\n         * Listener priority\n         * @type Number\n         * @private\n         */\n        this._priority = priority || 0;\n    }\n\n    SignalBinding.prototype = {\n\n        /**\n         * If binding is active and should be executed.\n         * @type boolean\n         */\n        active : true,\n\n        /**\n         * Default parameters passed to listener during `Signal.dispatch` and `SignalBinding.execute`. (curried parameters)\n         * @type Array|null\n         */\n        params : null,\n\n        /**\n         * Call listener passing arbitrary parameters.\n         * <p>If binding was added using `Signal.addOnce()` it will be automatically removed from signal dispatch queue, this method is used internally for the signal dispatch.</p>\n         * @param {Array} [paramsArr] Array of parameters that should be passed to the listener\n         * @return {*} Value returned by the listener.\n         */\n        execute : function (paramsArr) {\n            var handlerReturn, params;\n            if (this.active && !!this._listener) {\n                params = this.params? this.params.concat(paramsArr) : paramsArr;\n                handlerReturn = this._listener.apply(this.context, params);\n                if (this._isOnce) {\n                    this.detach();\n                }\n            }\n            return handlerReturn;\n        },\n\n        /**\n         * Detach binding from signal.\n         * - alias to: mySignal.remove(myBinding.getListener());\n         * @return {Function|null} Handler function bound to the signal or `null` if binding was previously detached.\n         */\n        detach : function () {\n            return this.isBound()? this._signal.remove(this._listener, this.context) : null;\n        },\n\n        /**\n         * @return {Boolean} `true` if binding is still bound to the signal and have a listener.\n         */\n        isBound : function () {\n            return (!!this._signal && !!this._listener);\n        },\n\n        /**\n         * @return {boolean} If SignalBinding will only be executed once.\n         */\n        isOnce : function () {\n            return this._isOnce;\n        },\n\n        /**\n         * @return {Function} Handler function bound to the signal.\n         */\n        getListener : function () {\n            return this._listener;\n        },\n\n        /**\n         * @return {Signal} Signal that listener is currently bound to.\n         */\n        getSignal : function () {\n            return this._signal;\n        },\n\n        /**\n         * Delete instance properties\n         * @private\n         */\n        _destroy : function () {\n            delete this._signal;\n            delete this._listener;\n            delete this.context;\n        },\n\n        /**\n         * @return {string} String representation of the object.\n         */\n        toString : function () {\n            return '[SignalBinding isOnce:' + this._isOnce +', isBound:'+ this.isBound() +', active:' + this.active + ']';\n        }\n\n    };\n\n\n/*global SignalBinding:false*/\n\n    // Signal --------------------------------------------------------\n    //================================================================\n\n    function validateListener(listener, fnName) {\n        if (typeof listener !== 'function') {\n            throw new Error( 'listener is a required param of {fn}() and should be a Function.'.replace('{fn}', fnName) );\n        }\n    }\n\n    /**\n     * Custom event broadcaster\n     * <br />- inspired by Robert Penner's AS3 Signals.\n     * @name Signal\n     * @author Miller Medeiros\n     * @constructor\n     */\n    function Signal() {\n        /**\n         * @type Array.<SignalBinding>\n         * @private\n         */\n        this._bindings = [];\n        this._prevParams = null;\n\n        // enforce dispatch to aways work on same context (#47)\n        var self = this;\n        this.dispatch = function(){\n            Signal.prototype.dispatch.apply(self, arguments);\n        };\n    }\n\n    Signal.prototype = {\n\n        /**\n         * Signals Version Number\n         * @type String\n         * @const\n         */\n        VERSION : '1.0.0',\n\n        /**\n         * If Signal should keep record of previously dispatched parameters and\n         * automatically execute listener during `add()`/`addOnce()` if Signal was\n         * already dispatched before.\n         * @type boolean\n         */\n        memorize : false,\n\n        /**\n         * @type boolean\n         * @private\n         */\n        _shouldPropagate : true,\n\n        /**\n         * If Signal is active and should broadcast events.\n         * <p><strong>IMPORTANT:</strong> Setting this property during a dispatch will only affect the next dispatch, if you want to stop the propagation of a signal use `halt()` instead.</p>\n         * @type boolean\n         */\n        active : true,\n\n        /**\n         * @param {Function} listener\n         * @param {boolean} isOnce\n         * @param {Object} [listenerContext]\n         * @param {Number} [priority]\n         * @return {SignalBinding}\n         * @private\n         */\n        _registerListener : function (listener, isOnce, listenerContext, priority) {\n\n            var prevIndex = this._indexOfListener(listener, listenerContext),\n                binding;\n\n            if (prevIndex !== -1) {\n                binding = this._bindings[prevIndex];\n                if (binding.isOnce() !== isOnce) {\n                    throw new Error('You cannot add'+ (isOnce? '' : 'Once') +'() then add'+ (!isOnce? '' : 'Once') +'() the same listener without removing the relationship first.');\n                }\n            } else {\n                binding = new SignalBinding(this, listener, isOnce, listenerContext, priority);\n                this._addBinding(binding);\n            }\n\n            if(this.memorize && this._prevParams){\n                binding.execute(this._prevParams);\n            }\n\n            return binding;\n        },\n\n        /**\n         * @param {SignalBinding} binding\n         * @private\n         */\n        _addBinding : function (binding) {\n            //simplified insertion sort\n            var n = this._bindings.length;\n            do { --n; } while (this._bindings[n] && binding._priority <= this._bindings[n]._priority);\n            this._bindings.splice(n + 1, 0, binding);\n        },\n\n        /**\n         * @param {Function} listener\n         * @return {number}\n         * @private\n         */\n        _indexOfListener : function (listener, context) {\n            var n = this._bindings.length,\n                cur;\n            while (n--) {\n                cur = this._bindings[n];\n                if (cur._listener === listener && cur.context === context) {\n                    return n;\n                }\n            }\n            return -1;\n        },\n\n        /**\n         * Check if listener was attached to Signal.\n         * @param {Function} listener\n         * @param {Object} [context]\n         * @return {boolean} if Signal has the specified listener.\n         */\n        has : function (listener, context) {\n            return this._indexOfListener(listener, context) !== -1;\n        },\n\n        /**\n         * Add a listener to the signal.\n         * @param {Function} listener Signal handler function.\n         * @param {Object} [listenerContext] Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n         * @param {Number} [priority] The priority level of the event listener. Listeners with higher priority will be executed before listeners with lower priority. Listeners with same priority level will be executed at the same order as they were added. (default = 0)\n         * @return {SignalBinding} An Object representing the binding between the Signal and listener.\n         */\n        add : function (listener, listenerContext, priority) {\n            validateListener(listener, 'add');\n            return this._registerListener(listener, false, listenerContext, priority);\n        },\n\n        /**\n         * Add listener to the signal that should be removed after first execution (will be executed only once).\n         * @param {Function} listener Signal handler function.\n         * @param {Object} [listenerContext] Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n         * @param {Number} [priority] The priority level of the event listener. Listeners with higher priority will be executed before listeners with lower priority. Listeners with same priority level will be executed at the same order as they were added. (default = 0)\n         * @return {SignalBinding} An Object representing the binding between the Signal and listener.\n         */\n        addOnce : function (listener, listenerContext, priority) {\n            validateListener(listener, 'addOnce');\n            return this._registerListener(listener, true, listenerContext, priority);\n        },\n\n        /**\n         * Remove a single listener from the dispatch queue.\n         * @param {Function} listener Handler function that should be removed.\n         * @param {Object} [context] Execution context (since you can add the same handler multiple times if executing in a different context).\n         * @return {Function} Listener handler function.\n         */\n        remove : function (listener, context) {\n            validateListener(listener, 'remove');\n\n            var i = this._indexOfListener(listener, context);\n            if (i !== -1) {\n                this._bindings[i]._destroy(); //no reason to a SignalBinding exist if it isn't attached to a signal\n                this._bindings.splice(i, 1);\n            }\n            return listener;\n        },\n\n        /**\n         * Remove all listeners from the Signal.\n         */\n        removeAll : function () {\n            var n = this._bindings.length;\n            while (n--) {\n                this._bindings[n]._destroy();\n            }\n            this._bindings.length = 0;\n        },\n\n        /**\n         * @return {number} Number of listeners attached to the Signal.\n         */\n        getNumListeners : function () {\n            return this._bindings.length;\n        },\n\n        /**\n         * Stop propagation of the event, blocking the dispatch to next listeners on the queue.\n         * <p><strong>IMPORTANT:</strong> should be called only during signal dispatch, calling it before/after dispatch won't affect signal broadcast.</p>\n         * @see Signal.prototype.disable\n         */\n        halt : function () {\n            this._shouldPropagate = false;\n        },\n\n        /**\n         * Dispatch/Broadcast Signal to all listeners added to the queue.\n         * @param {...*} [params] Parameters that should be passed to each handler.\n         */\n        dispatch : function (params) {\n            if (! this.active) {\n                return;\n            }\n\n            var paramsArr = Array.prototype.slice.call(arguments),\n                n = this._bindings.length,\n                bindings;\n\n            if (this.memorize) {\n                this._prevParams = paramsArr;\n            }\n\n            if (! n) {\n                //should come after memorize\n                return;\n            }\n\n            bindings = this._bindings.slice(); //clone array in case add/remove items during dispatch\n            this._shouldPropagate = true; //in case `halt` was called before dispatch or during the previous dispatch.\n\n            //execute all callbacks until end of the list or until a callback returns `false` or stops propagation\n            //reverse loop since listeners with higher priority will be added at the end of the list\n            do { n--; } while (bindings[n] && this._shouldPropagate && bindings[n].execute(paramsArr) !== false);\n        },\n\n        /**\n         * Forget memorized arguments.\n         * @see Signal.memorize\n         */\n        forget : function(){\n            this._prevParams = null;\n        },\n\n        /**\n         * Remove all bindings from signal and destroy any reference to external objects (destroy Signal object).\n         * <p><strong>IMPORTANT:</strong> calling any method on the signal instance after calling dispose will throw errors.</p>\n         */\n        dispose : function () {\n            this.removeAll();\n            delete this._bindings;\n            delete this._prevParams;\n        },\n\n        /**\n         * @return {string} String representation of the object.\n         */\n        toString : function () {\n            return '[Signal active:'+ this.active +' numListeners:'+ this.getNumListeners() +']';\n        }\n\n    };\n\n\n    // Namespace -----------------------------------------------------\n    //================================================================\n\n    /**\n     * Signals namespace\n     * @namespace\n     * @name signals\n     */\n    var signals = Signal;\n\n    /**\n     * Custom event broadcaster\n     * @see Signal\n     */\n    // alias for backwards compatibility (see #gh-44)\n    signals.Signal = Signal;\n\n\n\n    //exports to multiple environments\n    if(typeof define === 'function' && define.amd){ //AMD\n        define(function () { return signals; });\n    } else if (typeof module !== 'undefined' && module.exports){ //node\n        module.exports = signals;\n    } else { //browser\n        //use string because of Google closure compiler ADVANCED_MODE\n        /*jslint sub:true */\n        global['signals'] = signals;\n    }\n\n}(this));\n",
    "'use strict';\n\nvar asap = require('asap')\n\nmodule.exports = Promise\nfunction Promise(fn) {\n  if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new')\n  if (typeof fn !== 'function') throw new TypeError('not a function')\n  var state = null\n  var value = null\n  var deferreds = []\n  var self = this\n\n  this.then = function(onFulfilled, onRejected) {\n    return new Promise(function(resolve, reject) {\n      handle(new Handler(onFulfilled, onRejected, resolve, reject))\n    })\n  }\n\n  function handle(deferred) {\n    if (state === null) {\n      deferreds.push(deferred)\n      return\n    }\n    asap(function() {\n      var cb = state ? deferred.onFulfilled : deferred.onRejected\n      if (cb === null) {\n        (state ? deferred.resolve : deferred.reject)(value)\n        return\n      }\n      var ret\n      try {\n        ret = cb(value)\n      }\n      catch (e) {\n        deferred.reject(e)\n        return\n      }\n      deferred.resolve(ret)\n    })\n  }\n\n  function resolve(newValue) {\n    try { //Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n      if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.')\n      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n        var then = newValue.then\n        if (typeof then === 'function') {\n          doResolve(then.bind(newValue), resolve, reject)\n          return\n        }\n      }\n      state = true\n      value = newValue\n      finale()\n    } catch (e) { reject(e) }\n  }\n\n  function reject(newValue) {\n    state = false\n    value = newValue\n    finale()\n  }\n\n  function finale() {\n    for (var i = 0, len = deferreds.length; i < len; i++)\n      handle(deferreds[i])\n    deferreds = null\n  }\n\n  doResolve(fn, resolve, reject)\n}\n\n\nfunction Handler(onFulfilled, onRejected, resolve, reject){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null\n  this.resolve = resolve\n  this.reject = reject\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, onFulfilled, onRejected) {\n  var done = false;\n  try {\n    fn(function (value) {\n      if (done) return\n      done = true\n      onFulfilled(value)\n    }, function (reason) {\n      if (done) return\n      done = true\n      onRejected(reason)\n    })\n  } catch (ex) {\n    if (done) return\n    done = true\n    onRejected(ex)\n  }\n}\n",
    "'use strict';\n\n//This file contains then/promise specific extensions to the core promise API\n\nvar Promise = require('./core.js')\nvar asap = require('asap')\n\nmodule.exports = Promise\n\n/* Static Functions */\n\nfunction ValuePromise(value) {\n  this.then = function (onFulfilled) {\n    if (typeof onFulfilled !== 'function') return this\n    return new Promise(function (resolve, reject) {\n      asap(function () {\n        try {\n          resolve(onFulfilled(value))\n        } catch (ex) {\n          reject(ex);\n        }\n      })\n    })\n  }\n}\nValuePromise.prototype = Object.create(Promise.prototype)\n\nvar TRUE = new ValuePromise(true)\nvar FALSE = new ValuePromise(false)\nvar NULL = new ValuePromise(null)\nvar UNDEFINED = new ValuePromise(undefined)\nvar ZERO = new ValuePromise(0)\nvar EMPTYSTRING = new ValuePromise('')\n\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value\n\n  if (value === null) return NULL\n  if (value === undefined) return UNDEFINED\n  if (value === true) return TRUE\n  if (value === false) return FALSE\n  if (value === 0) return ZERO\n  if (value === '') return EMPTYSTRING\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value))\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex)\n      })\n    }\n  }\n\n  return new ValuePromise(value)\n}\n\nPromise.from = Promise.cast = function (value) {\n  var err = new Error('Promise.from and Promise.cast are deprecated, use Promise.resolve instead')\n  err.name = 'Warning'\n  console.warn(err.stack)\n  return Promise.resolve(value)\n}\n\nPromise.denodeify = function (fn, argumentCount) {\n  argumentCount = argumentCount || Infinity\n  return function () {\n    var self = this\n    var args = Array.prototype.slice.call(arguments)\n    return new Promise(function (resolve, reject) {\n      while (args.length && args.length > argumentCount) {\n        args.pop()\n      }\n      args.push(function (err, res) {\n        if (err) reject(err)\n        else resolve(res)\n      })\n      fn.apply(self, args)\n    })\n  }\n}\nPromise.nodeify = function (fn) {\n  return function () {\n    var args = Array.prototype.slice.call(arguments)\n    var callback = typeof args[args.length - 1] === 'function' ? args.pop() : null\n    try {\n      return fn.apply(this, arguments).nodeify(callback)\n    } catch (ex) {\n      if (callback === null || typeof callback == 'undefined') {\n        return new Promise(function (resolve, reject) { reject(ex) })\n      } else {\n        asap(function () {\n          callback(ex)\n        })\n      }\n    }\n  }\n}\n\nPromise.all = function () {\n  var calledWithArray = arguments.length === 1 && Array.isArray(arguments[0])\n  var args = Array.prototype.slice.call(calledWithArray ? arguments[0] : arguments)\n\n  if (!calledWithArray) {\n    var err = new Error('Promise.all should be called with a single array, calling it with multiple arguments is deprecated')\n    err.name = 'Warning'\n    console.warn(err.stack)\n  }\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([])\n    var remaining = args.length\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then\n          if (typeof then === 'function') {\n            then.call(val, function (val) { res(i, val) }, reject)\n            return\n          }\n        }\n        args[i] = val\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex)\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i])\n    }\n  })\n}\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) { \n    reject(value);\n  });\n}\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) { \n    values.forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    })\n  });\n}\n\n/* Prototype Methods */\n\nPromise.prototype.done = function (onFulfilled, onRejected) {\n  var self = arguments.length ? this.then.apply(this, arguments) : this\n  self.then(null, function (err) {\n    asap(function () {\n      throw err\n    })\n  })\n}\n\nPromise.prototype.nodeify = function (callback) {\n  if (typeof callback != 'function') return this\n\n  this.then(function (value) {\n    asap(function () {\n      callback(null, value)\n    })\n  }, function (err) {\n    asap(function () {\n      callback(err)\n    })\n  })\n}\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n}\n",
    "\n// Use the fastest possible means to execute a task in a future turn\n// of the event loop.\n\n// linked list of tasks (single, with head node)\nvar head = {task: void 0, next: null};\nvar tail = head;\nvar flushing = false;\nvar requestFlush = void 0;\nvar isNodeJS = false;\n\nfunction flush() {\n    /* jshint loopfunc: true */\n\n    while (head.next) {\n        head = head.next;\n        var task = head.task;\n        head.task = void 0;\n        var domain = head.domain;\n\n        if (domain) {\n            head.domain = void 0;\n            domain.enter();\n        }\n\n        try {\n            task();\n\n        } catch (e) {\n            if (isNodeJS) {\n                // In node, uncaught exceptions are considered fatal errors.\n                // Re-throw them synchronously to interrupt flushing!\n\n                // Ensure continuation if the uncaught exception is suppressed\n                // listening \"uncaughtException\" events (as domains does).\n                // Continue in next event to avoid tick recursion.\n                if (domain) {\n                    domain.exit();\n                }\n                setTimeout(flush, 0);\n                if (domain) {\n                    domain.enter();\n                }\n\n                throw e;\n\n            } else {\n                // In browsers, uncaught exceptions are not fatal.\n                // Re-throw them asynchronously to avoid slow-downs.\n                setTimeout(function() {\n                   throw e;\n                }, 0);\n            }\n        }\n\n        if (domain) {\n            domain.exit();\n        }\n    }\n\n    flushing = false;\n}\n\nif (typeof process !== \"undefined\" && process.nextTick) {\n    // Node.js before 0.9. Note that some fake-Node environments, like the\n    // Mocha test runner, introduce a `process` global without a `nextTick`.\n    isNodeJS = true;\n\n    requestFlush = function () {\n        process.nextTick(flush);\n    };\n\n} else if (typeof setImmediate === \"function\") {\n    // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate\n    if (typeof window !== \"undefined\") {\n        requestFlush = setImmediate.bind(window, flush);\n    } else {\n        requestFlush = function () {\n            setImmediate(flush);\n        };\n    }\n\n} else if (typeof MessageChannel !== \"undefined\") {\n    // modern browsers\n    // http://www.nonblocking.io/2011/06/windownexttick.html\n    var channel = new MessageChannel();\n    channel.port1.onmessage = flush;\n    requestFlush = function () {\n        channel.port2.postMessage(0);\n    };\n\n} else {\n    // old browsers\n    requestFlush = function () {\n        setTimeout(flush, 0);\n    };\n}\n\nfunction asap(task) {\n    tail = tail.next = {\n        task: task,\n        domain: isNodeJS && process.domain,\n        next: null\n    };\n\n    if (!flushing) {\n        flushing = true;\n        requestFlush();\n    }\n};\n\nmodule.exports = asap;\n\n",
    "// Some code originally from async_storage.js in\n// [Gaia](https://github.com/mozilla-b2g/gaia).\n(function() {\n    'use strict';\n\n    // Originally found in https://github.com/mozilla-b2g/gaia/blob/e8f624e4cc9ea945727278039b3bc9bcb9f8667a/shared/js/async_storage.js\n\n    // Promises!\n    var Promise = (typeof module !== 'undefined' && module.exports && typeof require !== 'undefined') ?\n                  require('promise') : this.Promise;\n\n    // Initialize IndexedDB; fall back to vendor-prefixed versions if needed.\n    var indexedDB = indexedDB || this.indexedDB || this.webkitIndexedDB ||\n                    this.mozIndexedDB || this.OIndexedDB ||\n                    this.msIndexedDB;\n\n    // If IndexedDB isn't available, we get outta here!\n    if (!indexedDB) {\n        return;\n    }\n\n    var DETECT_BLOB_SUPPORT_STORE = 'local-forage-detect-blob-support';\n    var supportsBlobs;\n\n    // Abstracts constructing a Blob object, so it also works in older\n    // browsers that don't support the native Blob constructor. (i.e.\n    // old QtWebKit versions, at least).\n    function _createBlob(parts, properties) {\n        parts = parts || [];\n        properties = properties || {};\n        try {\n            return new Blob(parts, properties);\n        } catch (e) {\n            if (e.name !== 'TypeError') {\n                throw e;\n            }\n            var BlobBuilder = window.BlobBuilder ||\n                window.MSBlobBuilder ||\n                window.MozBlobBuilder ||\n                window.WebKitBlobBuilder;\n            var builder = new BlobBuilder();\n            for (var i = 0; i < parts.length; i += 1) {\n                builder.append(parts[i]);\n            }\n            return builder.getBlob(properties.type);\n        }\n    }\n\n    // Transform a binary string to an array buffer, because otherwise\n    // weird stuff happens when you try to work with the binary string directly.\n    // It is known.\n    // From http://stackoverflow.com/questions/14967647/ (continues on next line)\n    // encode-decode-image-with-base64-breaks-image (2013-04-21)\n    function _binStringToArrayBuffer(bin) {\n        var length = bin.length;\n        var buf = new ArrayBuffer(length);\n        var arr = new Uint8Array(buf);\n        for (var i = 0; i < length; i++) {\n            arr[i] = bin.charCodeAt(i);\n        }\n        return buf;\n    }\n\n    // Fetch a blob using ajax. This reveals bugs in Chrome < 43.\n    // For details on all this junk:\n    // https://github.com/nolanlawson/state-of-binary-data-in-the-browser#readme\n    function _blobAjax(url) {\n        return new Promise(function(resolve, reject) {\n            var xhr = new XMLHttpRequest();\n            xhr.open('GET', url);\n            xhr.withCredentials = true;\n            xhr.responseType = 'arraybuffer';\n\n            xhr.onreadystatechange = function() {\n                if (xhr.readyState !== 4) {\n                    return;\n                }\n                if (xhr.status === 200) {\n                    return resolve({\n                        response: xhr.response,\n                        type: xhr.getResponseHeader('Content-Type')\n                    });\n                }\n                reject({status: xhr.status, response: xhr.response});\n            };\n            xhr.send();\n        });\n    }\n\n    //\n    // Detect blob support. Chrome didn't support it until version 38.\n    // In version 37 they had a broken version where PNGs (and possibly\n    // other binary types) aren't stored correctly, because when you fetch\n    // them, the content type is always null.\n    //\n    // Furthermore, they have some outstanding bugs where blobs occasionally\n    // are read by FileReader as null, or by ajax as 404s.\n    //\n    // Sadly we use the 404 bug to detect the FileReader bug, so if they\n    // get fixed independently and released in different versions of Chrome,\n    // then the bug could come back. So it's worthwhile to watch these issues:\n    // 404 bug: https://code.google.com/p/chromium/issues/detail?id=447916\n    // FileReader bug: https://code.google.com/p/chromium/issues/detail?id=447836\n    //\n    function _checkBlobSupportWithoutCaching(idb) {\n        return new Promise(function(resolve, reject) {\n            var blob = _createBlob([''], {type: 'image/png'});\n            var txn = idb.transaction([DETECT_BLOB_SUPPORT_STORE], 'readwrite');\n            txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob, 'key');\n            txn.oncomplete = function() {\n                // have to do it in a separate transaction, else the correct\n                // content type is always returned\n                var blobTxn = idb.transaction([DETECT_BLOB_SUPPORT_STORE],\n                    'readwrite');\n                var getBlobReq = blobTxn.objectStore(\n                    DETECT_BLOB_SUPPORT_STORE).get('key');\n                getBlobReq.onerror = reject;\n                getBlobReq.onsuccess = function(e) {\n\n                    var storedBlob = e.target.result;\n                    var url = URL.createObjectURL(storedBlob);\n\n                    _blobAjax(url).then(function(res) {\n                        resolve(!!(res && res.type === 'image/png'));\n                    }, function() {\n                        resolve(false);\n                    }).then(function() {\n                        URL.revokeObjectURL(url);\n                    });\n                };\n            };\n        }).catch(function() {\n            return false; // error, so assume unsupported\n        });\n    }\n\n    function _checkBlobSupport(idb) {\n        if (typeof supportsBlobs === 'boolean') {\n            return Promise.resolve(supportsBlobs);\n        }\n        return _checkBlobSupportWithoutCaching(idb).then(function(value) {\n            supportsBlobs = value;\n            return supportsBlobs;\n        });\n    }\n\n    // encode a blob for indexeddb engines that don't support blobs\n    function _encodeBlob(blob) {\n        return new Promise(function(resolve, reject) {\n            var reader = new FileReader();\n            reader.onerror = reject;\n            reader.onloadend = function(e) {\n                var base64 = btoa(e.target.result || '');\n                resolve({\n                    __local_forage_encoded_blob: true,\n                    data: base64,\n                    type: blob.type\n                });\n            };\n            reader.readAsBinaryString(blob);\n        });\n    }\n\n    // decode an encoded blob\n    function _decodeBlob(encodedBlob) {\n        var arrayBuff = _binStringToArrayBuffer(atob(encodedBlob.data));\n        return _createBlob([arrayBuff], { type: encodedBlob.type});\n    }\n\n    // is this one of our fancy encoded blobs?\n    function _isEncodedBlob(value) {\n        return value && value.__local_forage_encoded_blob;\n    }\n\n    // Open the IndexedDB database (automatically creates one if one didn't\n    // previously exist), using any options set in the config.\n    function _initStorage(options) {\n        var self = this;\n        var dbInfo = {\n            db: null\n        };\n\n        if (options) {\n            for (var i in options) {\n                dbInfo[i] = options[i];\n            }\n        }\n\n        return new Promise(function(resolve, reject) {\n            var openreq = indexedDB.open(dbInfo.name, dbInfo.version);\n            openreq.onerror = function() {\n                reject(openreq.error);\n            };\n            openreq.onupgradeneeded = function(e) {\n                // First time setup: create an empty object store\n                openreq.result.createObjectStore(dbInfo.storeName);\n                if (e.oldVersion <= 1) {\n                    // added when support for blob shims was added\n                    openreq.result.createObjectStore(DETECT_BLOB_SUPPORT_STORE);\n                }\n            };\n            openreq.onsuccess = function() {\n                dbInfo.db = openreq.result;\n                self._dbInfo = dbInfo;\n                resolve();\n            };\n        });\n    }\n\n    function getItem(key, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var store = dbInfo.db.transaction(dbInfo.storeName, 'readonly')\n                    .objectStore(dbInfo.storeName);\n                var req = store.get(key);\n\n                req.onsuccess = function() {\n                    var value = req.result;\n                    if (value === undefined) {\n                        value = null;\n                    }\n                    if (_isEncodedBlob(value)) {\n                        value = _decodeBlob(value);\n                    }\n                    resolve(value);\n                };\n\n                req.onerror = function() {\n                    reject(req.error);\n                };\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Iterate over all items stored in database.\n    function iterate(iterator, callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var store = dbInfo.db.transaction(dbInfo.storeName, 'readonly')\n                                     .objectStore(dbInfo.storeName);\n\n                var req = store.openCursor();\n                var iterationNumber = 1;\n\n                req.onsuccess = function() {\n                    var cursor = req.result;\n\n                    if (cursor) {\n                        var value = cursor.value;\n                        if (_isEncodedBlob(value)) {\n                            value = _decodeBlob(value);\n                        }\n                        var result = iterator(value, cursor.key, iterationNumber++);\n\n                        if (result !== void(0)) {\n                            resolve(result);\n                        } else {\n                            cursor.continue();\n                        }\n                    } else {\n                        resolve();\n                    }\n                };\n\n                req.onerror = function() {\n                    reject(req.error);\n                };\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n\n        return promise;\n    }\n\n    function setItem(key, value, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = new Promise(function(resolve, reject) {\n            var dbInfo;\n            self.ready().then(function() {\n                dbInfo = self._dbInfo;\n                return _checkBlobSupport(dbInfo.db);\n            }).then(function(blobSupport) {\n                if (!blobSupport && value instanceof Blob) {\n                    return _encodeBlob(value);\n                }\n                return value;\n            }).then(function(value) {\n                var transaction = dbInfo.db.transaction(dbInfo.storeName, 'readwrite');\n                var store = transaction.objectStore(dbInfo.storeName);\n\n                // The reason we don't _save_ null is because IE 10 does\n                // not support saving the `null` type in IndexedDB. How\n                // ironic, given the bug below!\n                // See: https://github.com/mozilla/localForage/issues/161\n                if (value === null) {\n                    value = undefined;\n                }\n\n                var req = store.put(value, key);\n                transaction.oncomplete = function() {\n                    // Cast to undefined so the value passed to\n                    // callback/promise is the same as what one would get out\n                    // of `getItem()` later. This leads to some weirdness\n                    // (setItem('foo', undefined) will return `null`), but\n                    // it's not my fault localStorage is our baseline and that\n                    // it's weird.\n                    if (value === undefined) {\n                        value = null;\n                    }\n\n                    resolve(value);\n                };\n                transaction.onabort = transaction.onerror = function() {\n                    var err = req.error ? req.error : req.transaction.error;\n                    reject(err);\n                };\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function removeItem(key, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var transaction = dbInfo.db.transaction(dbInfo.storeName, 'readwrite');\n                var store = transaction.objectStore(dbInfo.storeName);\n\n                // We use a Grunt task to make this safe for IE and some\n                // versions of Android (including those used by Cordova).\n                // Normally IE won't like `.delete()` and will insist on\n                // using `['delete']()`, but we have a build step that\n                // fixes this for us now.\n                var req = store.delete(key);\n                transaction.oncomplete = function() {\n                    resolve();\n                };\n\n                transaction.onerror = function() {\n                    reject(req.error);\n                };\n\n                // The request will be also be aborted if we've exceeded our storage\n                // space.\n                transaction.onabort = function() {\n                    var err = req.error ? req.error : req.transaction.error;\n                    reject(err);\n                };\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function clear(callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var transaction = dbInfo.db.transaction(dbInfo.storeName, 'readwrite');\n                var store = transaction.objectStore(dbInfo.storeName);\n                var req = store.clear();\n\n                transaction.oncomplete = function() {\n                    resolve();\n                };\n\n                transaction.onabort = transaction.onerror = function() {\n                    var err = req.error ? req.error : req.transaction.error;\n                    reject(err);\n                };\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function length(callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var store = dbInfo.db.transaction(dbInfo.storeName, 'readonly')\n                              .objectStore(dbInfo.storeName);\n                var req = store.count();\n\n                req.onsuccess = function() {\n                    resolve(req.result);\n                };\n\n                req.onerror = function() {\n                    reject(req.error);\n                };\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function key(n, callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            if (n < 0) {\n                resolve(null);\n\n                return;\n            }\n\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var store = dbInfo.db.transaction(dbInfo.storeName, 'readonly')\n                              .objectStore(dbInfo.storeName);\n\n                var advanced = false;\n                var req = store.openCursor();\n                req.onsuccess = function() {\n                    var cursor = req.result;\n                    if (!cursor) {\n                        // this means there weren't enough keys\n                        resolve(null);\n\n                        return;\n                    }\n\n                    if (n === 0) {\n                        // We have the first key, return it if that's what they\n                        // wanted.\n                        resolve(cursor.key);\n                    } else {\n                        if (!advanced) {\n                            // Otherwise, ask the cursor to skip ahead n\n                            // records.\n                            advanced = true;\n                            cursor.advance(n);\n                        } else {\n                            // When we get here, we've got the nth key.\n                            resolve(cursor.key);\n                        }\n                    }\n                };\n\n                req.onerror = function() {\n                    reject(req.error);\n                };\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function keys(callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var store = dbInfo.db.transaction(dbInfo.storeName, 'readonly')\n                              .objectStore(dbInfo.storeName);\n\n                var req = store.openCursor();\n                var keys = [];\n\n                req.onsuccess = function() {\n                    var cursor = req.result;\n\n                    if (!cursor) {\n                        resolve(keys);\n                        return;\n                    }\n\n                    keys.push(cursor.key);\n                    cursor.continue();\n                };\n\n                req.onerror = function() {\n                    reject(req.error);\n                };\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function executeCallback(promise, callback) {\n        if (callback) {\n            promise.then(function(result) {\n                callback(null, result);\n            }, function(error) {\n                callback(error);\n            });\n        }\n    }\n\n    var asyncStorage = {\n        _driver: 'asyncStorage',\n        _initStorage: _initStorage,\n        iterate: iterate,\n        getItem: getItem,\n        setItem: setItem,\n        removeItem: removeItem,\n        clear: clear,\n        length: length,\n        key: key,\n        keys: keys\n    };\n\n    if (typeof module !== 'undefined' && module.exports && typeof require !== 'undefined') {\n        module.exports = asyncStorage;\n    } else if (typeof define === 'function' && define.amd) {\n        define('asyncStorage', function() {\n            return asyncStorage;\n        });\n    } else {\n        this.asyncStorage = asyncStorage;\n    }\n}).call(window);\n",
    "// If IndexedDB isn't available, we'll fall back to localStorage.\n// Note that this will have considerable performance and storage\n// side-effects (all data will be serialized on save and only data that\n// can be converted to a string via `JSON.stringify()` will be saved).\n(function() {\n    'use strict';\n\n    // Promises!\n    var Promise = (typeof module !== 'undefined' && module.exports && typeof require !== 'undefined') ?\n                  require('promise') : this.Promise;\n\n    var globalObject = this;\n    var serializer = null;\n    var localStorage = null;\n\n    // If the app is running inside a Google Chrome packaged webapp, or some\n    // other context where localStorage isn't available, we don't use\n    // localStorage. This feature detection is preferred over the old\n    // `if (window.chrome && window.chrome.runtime)` code.\n    // See: https://github.com/mozilla/localForage/issues/68\n    try {\n        // If localStorage isn't available, we get outta here!\n        // This should be inside a try catch\n        if (!this.localStorage || !('setItem' in this.localStorage)) {\n            return;\n        }\n        // Initialize localStorage and create a variable to use throughout\n        // the code.\n        localStorage = this.localStorage;\n    } catch (e) {\n        return;\n    }\n\n    var ModuleType = {\n        DEFINE: 1,\n        EXPORT: 2,\n        WINDOW: 3\n    };\n\n    // Attaching to window (i.e. no module loader) is the assumed,\n    // simple default.\n    var moduleType = ModuleType.WINDOW;\n\n    // Find out what kind of module setup we have; if none, we'll just attach\n    // localForage to the main window.\n    if (typeof module !== 'undefined' && module.exports && typeof require !== 'undefined') {\n        moduleType = ModuleType.EXPORT;\n    } else if (typeof define === 'function' && define.amd) {\n        moduleType = ModuleType.DEFINE;\n    }\n\n    // Config the localStorage backend, using options set in the config.\n    function _initStorage(options) {\n        var self = this;\n        var dbInfo = {};\n        if (options) {\n            for (var i in options) {\n                dbInfo[i] = options[i];\n            }\n        }\n\n        dbInfo.keyPrefix = dbInfo.name + '/';\n\n        self._dbInfo = dbInfo;\n\n        var serializerPromise = new Promise(function(resolve/*, reject*/) {\n            // We allow localForage to be declared as a module or as a\n            // library available without AMD/require.js.\n            if (moduleType === ModuleType.DEFINE) {\n                require(['localforageSerializer'], resolve);\n            } else if (moduleType === ModuleType.EXPORT) {\n                // Making it browserify friendly\n                resolve(require('./../utils/serializer'));\n            } else {\n                resolve(globalObject.localforageSerializer);\n            }\n        });\n\n        return serializerPromise.then(function(lib) {\n            serializer = lib;\n            return Promise.resolve();\n        });\n    }\n\n    // Remove all keys from the datastore, effectively destroying all data in\n    // the app's key/value store!\n    function clear(callback) {\n        var self = this;\n        var promise = self.ready().then(function() {\n            var keyPrefix = self._dbInfo.keyPrefix;\n\n            for (var i = localStorage.length - 1; i >= 0; i--) {\n                var key = localStorage.key(i);\n\n                if (key.indexOf(keyPrefix) === 0) {\n                    localStorage.removeItem(key);\n                }\n            }\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Retrieve an item from the store. Unlike the original async_storage\n    // library in Gaia, we don't modify return values at all. If a key's value\n    // is `undefined`, we pass that value to the callback function.\n    function getItem(key, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = self.ready().then(function() {\n            var dbInfo = self._dbInfo;\n            var result = localStorage.getItem(dbInfo.keyPrefix + key);\n\n            // If a result was found, parse it from the serialized\n            // string into a JS object. If result isn't truthy, the key\n            // is likely undefined and we'll pass it straight to the\n            // callback.\n            if (result) {\n                result = serializer.deserialize(result);\n            }\n\n            return result;\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Iterate over all items in the store.\n    function iterate(iterator, callback) {\n        var self = this;\n\n        var promise = self.ready().then(function() {\n            var keyPrefix = self._dbInfo.keyPrefix;\n            var keyPrefixLength = keyPrefix.length;\n            var length = localStorage.length;\n\n            for (var i = 0; i < length; i++) {\n                var key = localStorage.key(i);\n                var value = localStorage.getItem(key);\n\n                // If a result was found, parse it from the serialized\n                // string into a JS object. If result isn't truthy, the\n                // key is likely undefined and we'll pass it straight\n                // to the iterator.\n                if (value) {\n                    value = serializer.deserialize(value);\n                }\n\n                value = iterator(value, key.substring(keyPrefixLength), i + 1);\n\n                if (value !== void(0)) {\n                    return value;\n                }\n            }\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Same as localStorage's key() method, except takes a callback.\n    function key(n, callback) {\n        var self = this;\n        var promise = self.ready().then(function() {\n            var dbInfo = self._dbInfo;\n            var result;\n            try {\n                result = localStorage.key(n);\n            } catch (error) {\n                result = null;\n            }\n\n            // Remove the prefix from the key, if a key is found.\n            if (result) {\n                result = result.substring(dbInfo.keyPrefix.length);\n            }\n\n            return result;\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function keys(callback) {\n        var self = this;\n        var promise = self.ready().then(function() {\n            var dbInfo = self._dbInfo;\n            var length = localStorage.length;\n            var keys = [];\n\n            for (var i = 0; i < length; i++) {\n                if (localStorage.key(i).indexOf(dbInfo.keyPrefix) === 0) {\n                    keys.push(localStorage.key(i).substring(dbInfo.keyPrefix.length));\n                }\n            }\n\n            return keys;\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Supply the number of keys in the datastore to the callback function.\n    function length(callback) {\n        var self = this;\n        var promise = self.keys().then(function(keys) {\n            return keys.length;\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Remove an item from the store, nice and simple.\n    function removeItem(key, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = self.ready().then(function() {\n            var dbInfo = self._dbInfo;\n            localStorage.removeItem(dbInfo.keyPrefix + key);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Set a key's value and run an optional callback once the value is set.\n    // Unlike Gaia's implementation, the callback function is passed the value,\n    // in case you want to operate on that value only after you're sure it\n    // saved, or something like that.\n    function setItem(key, value, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = self.ready().then(function() {\n            // Convert undefined values to null.\n            // https://github.com/mozilla/localForage/pull/42\n            if (value === undefined) {\n                value = null;\n            }\n\n            // Save the original value to pass to the callback.\n            var originalValue = value;\n\n            return new Promise(function(resolve, reject) {\n                serializer.serialize(value, function(value, error) {\n                    if (error) {\n                        reject(error);\n                    } else {\n                        try {\n                            var dbInfo = self._dbInfo;\n                            localStorage.setItem(dbInfo.keyPrefix + key, value);\n                            resolve(originalValue);\n                        } catch (e) {\n                            // localStorage capacity exceeded.\n                            // TODO: Make this a specific error/event.\n                            if (e.name === 'QuotaExceededError' ||\n                                e.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n                                reject(e);\n                            }\n                            reject(e);\n                        }\n                    }\n                });\n            });\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function executeCallback(promise, callback) {\n        if (callback) {\n            promise.then(function(result) {\n                callback(null, result);\n            }, function(error) {\n                callback(error);\n            });\n        }\n    }\n\n    var localStorageWrapper = {\n        _driver: 'localStorageWrapper',\n        _initStorage: _initStorage,\n        // Default API, from Gaia/localStorage.\n        iterate: iterate,\n        getItem: getItem,\n        setItem: setItem,\n        removeItem: removeItem,\n        clear: clear,\n        length: length,\n        key: key,\n        keys: keys\n    };\n\n    if (moduleType === ModuleType.EXPORT) {\n        module.exports = localStorageWrapper;\n    } else if (moduleType === ModuleType.DEFINE) {\n        define('localStorageWrapper', function() {\n            return localStorageWrapper;\n        });\n    } else {\n        this.localStorageWrapper = localStorageWrapper;\n    }\n}).call(window);\n",
    "/*\n * Includes code from:\n *\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function() {\n    'use strict';\n\n    // Promises!\n    var Promise = (typeof module !== 'undefined' && module.exports && typeof require !== 'undefined') ?\n                  require('promise') : this.Promise;\n\n    var globalObject = this;\n    var serializer = null;\n    var openDatabase = this.openDatabase;\n\n    // If WebSQL methods aren't available, we can stop now.\n    if (!openDatabase) {\n        return;\n    }\n\n    var ModuleType = {\n        DEFINE: 1,\n        EXPORT: 2,\n        WINDOW: 3\n    };\n\n    // Attaching to window (i.e. no module loader) is the assumed,\n    // simple default.\n    var moduleType = ModuleType.WINDOW;\n\n    // Find out what kind of module setup we have; if none, we'll just attach\n    // localForage to the main window.\n    if (typeof module !== 'undefined' && module.exports && typeof require !== 'undefined') {\n        moduleType = ModuleType.EXPORT;\n    } else if (typeof define === 'function' && define.amd) {\n        moduleType = ModuleType.DEFINE;\n    }\n\n    // Open the WebSQL database (automatically creates one if one didn't\n    // previously exist), using any options set in the config.\n    function _initStorage(options) {\n        var self = this;\n        var dbInfo = {\n            db: null\n        };\n\n        if (options) {\n            for (var i in options) {\n                dbInfo[i] = typeof(options[i]) !== 'string' ?\n                            options[i].toString() : options[i];\n            }\n        }\n\n        var serializerPromise = new Promise(function(resolve/*, reject*/) {\n            // We allow localForage to be declared as a module or as a\n            // library available without AMD/require.js.\n            if (moduleType === ModuleType.DEFINE) {\n                require(['localforageSerializer'], resolve);\n            } else if (moduleType === ModuleType.EXPORT) {\n                // Making it browserify friendly\n                resolve(require('./../utils/serializer'));\n            } else {\n                resolve(globalObject.localforageSerializer);\n            }\n        });\n\n        var dbInfoPromise = new Promise(function(resolve, reject) {\n            // Open the database; the openDatabase API will automatically\n            // create it for us if it doesn't exist.\n            try {\n                dbInfo.db = openDatabase(dbInfo.name, String(dbInfo.version),\n                                         dbInfo.description, dbInfo.size);\n            } catch (e) {\n                return self.setDriver(self.LOCALSTORAGE).then(function() {\n                    return self._initStorage(options);\n                }).then(resolve).catch(reject);\n            }\n\n            // Create our key/value table if it doesn't exist.\n            dbInfo.db.transaction(function(t) {\n                t.executeSql('CREATE TABLE IF NOT EXISTS ' + dbInfo.storeName +\n                             ' (id INTEGER PRIMARY KEY, key unique, value)', [],\n                             function() {\n                    self._dbInfo = dbInfo;\n                    resolve();\n                }, function(t, error) {\n                    reject(error);\n                });\n            });\n        });\n\n        return serializerPromise.then(function(lib) {\n            serializer = lib;\n            return dbInfoPromise;\n        });\n    }\n\n    function getItem(key, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    t.executeSql('SELECT * FROM ' + dbInfo.storeName +\n                                 ' WHERE key = ? LIMIT 1', [key],\n                                 function(t, results) {\n                        var result = results.rows.length ?\n                                     results.rows.item(0).value : null;\n\n                        // Check to see if this is serialized content we need to\n                        // unpack.\n                        if (result) {\n                            result = serializer.deserialize(result);\n                        }\n\n                        resolve(result);\n                    }, function(t, error) {\n\n                        reject(error);\n                    });\n                });\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function iterate(iterator, callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n\n                dbInfo.db.transaction(function(t) {\n                    t.executeSql('SELECT * FROM ' + dbInfo.storeName, [],\n                        function(t, results) {\n                            var rows = results.rows;\n                            var length = rows.length;\n\n                            for (var i = 0; i < length; i++) {\n                                var item = rows.item(i);\n                                var result = item.value;\n\n                                // Check to see if this is serialized content\n                                // we need to unpack.\n                                if (result) {\n                                    result = serializer.deserialize(result);\n                                }\n\n                                result = iterator(result, item.key, i + 1);\n\n                                // void(0) prevents problems with redefinition\n                                // of `undefined`.\n                                if (result !== void(0)) {\n                                    resolve(result);\n                                    return;\n                                }\n                            }\n\n                            resolve();\n                        }, function(t, error) {\n                            reject(error);\n                        });\n                });\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function setItem(key, value, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                // The localStorage API doesn't return undefined values in an\n                // \"expected\" way, so undefined is always cast to null in all\n                // drivers. See: https://github.com/mozilla/localForage/pull/42\n                if (value === undefined) {\n                    value = null;\n                }\n\n                // Save the original value to pass to the callback.\n                var originalValue = value;\n\n                serializer.serialize(value, function(value, error) {\n                    if (error) {\n                        reject(error);\n                    } else {\n                        var dbInfo = self._dbInfo;\n                        dbInfo.db.transaction(function(t) {\n                            t.executeSql('INSERT OR REPLACE INTO ' +\n                                         dbInfo.storeName +\n                                         ' (key, value) VALUES (?, ?)',\n                                         [key, value], function() {\n                                resolve(originalValue);\n                            }, function(t, error) {\n                                reject(error);\n                            });\n                        }, function(sqlError) {\n                            // The transaction failed; check\n                            // to see if it's a quota error.\n                            if (sqlError.code === sqlError.QUOTA_ERR) {\n                                // We reject the callback outright for now, but\n                                // it's worth trying to re-run the transaction.\n                                // Even if the user accepts the prompt to use\n                                // more storage on Safari, this error will\n                                // be called.\n                                //\n                                // TODO: Try to re-run the transaction.\n                                reject(sqlError);\n                            }\n                        });\n                    }\n                });\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function removeItem(key, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    t.executeSql('DELETE FROM ' + dbInfo.storeName +\n                                 ' WHERE key = ?', [key],\n                                 function() {\n                        resolve();\n                    }, function(t, error) {\n\n                        reject(error);\n                    });\n                });\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Deletes every item in the table.\n    // TODO: Find out if this resets the AUTO_INCREMENT number.\n    function clear(callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    t.executeSql('DELETE FROM ' + dbInfo.storeName, [],\n                                 function() {\n                        resolve();\n                    }, function(t, error) {\n                        reject(error);\n                    });\n                });\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Does a simple `COUNT(key)` to get the number of items stored in\n    // localForage.\n    function length(callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    // Ahhh, SQL makes this one soooooo easy.\n                    t.executeSql('SELECT COUNT(key) as c FROM ' +\n                                 dbInfo.storeName, [], function(t, results) {\n                        var result = results.rows.item(0).c;\n\n                        resolve(result);\n                    }, function(t, error) {\n\n                        reject(error);\n                    });\n                });\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Return the key located at key index X; essentially gets the key from a\n    // `WHERE id = ?`. This is the most efficient way I can think to implement\n    // this rarely-used (in my experience) part of the API, but it can seem\n    // inconsistent, because we do `INSERT OR REPLACE INTO` on `setItem()`, so\n    // the ID of each key will change every time it's updated. Perhaps a stored\n    // procedure for the `setItem()` SQL would solve this problem?\n    // TODO: Don't change ID on `setItem()`.\n    function key(n, callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    t.executeSql('SELECT key FROM ' + dbInfo.storeName +\n                                 ' WHERE id = ? LIMIT 1', [n + 1],\n                                 function(t, results) {\n                        var result = results.rows.length ?\n                                     results.rows.item(0).key : null;\n                        resolve(result);\n                    }, function(t, error) {\n                        reject(error);\n                    });\n                });\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function keys(callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    t.executeSql('SELECT key FROM ' + dbInfo.storeName, [],\n                                 function(t, results) {\n                        var keys = [];\n\n                        for (var i = 0; i < results.rows.length; i++) {\n                            keys.push(results.rows.item(i).key);\n                        }\n\n                        resolve(keys);\n                    }, function(t, error) {\n\n                        reject(error);\n                    });\n                });\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function executeCallback(promise, callback) {\n        if (callback) {\n            promise.then(function(result) {\n                callback(null, result);\n            }, function(error) {\n                callback(error);\n            });\n        }\n    }\n\n    var webSQLStorage = {\n        _driver: 'webSQLStorage',\n        _initStorage: _initStorage,\n        iterate: iterate,\n        getItem: getItem,\n        setItem: setItem,\n        removeItem: removeItem,\n        clear: clear,\n        length: length,\n        key: key,\n        keys: keys\n    };\n\n    if (moduleType === ModuleType.DEFINE) {\n        define('webSQLStorage', function() {\n            return webSQLStorage;\n        });\n    } else if (moduleType === ModuleType.EXPORT) {\n        module.exports = webSQLStorage;\n    } else {\n        this.webSQLStorage = webSQLStorage;\n    }\n}).call(window);\n",
    "(function() {\n    'use strict';\n\n    // Promises!\n    var Promise = (typeof module !== 'undefined' && module.exports &&\n                   typeof require !== 'undefined') ?\n                  require('promise') : this.Promise;\n\n    // Custom drivers are stored here when `defineDriver()` is called.\n    // They are shared across all instances of localForage.\n    var CustomDrivers = {};\n\n    var DriverType = {\n        INDEXEDDB: 'asyncStorage',\n        LOCALSTORAGE: 'localStorageWrapper',\n        WEBSQL: 'webSQLStorage'\n    };\n\n    var DefaultDriverOrder = [\n        DriverType.INDEXEDDB,\n        DriverType.WEBSQL,\n        DriverType.LOCALSTORAGE\n    ];\n\n    var LibraryMethods = [\n        'clear',\n        'getItem',\n        'iterate',\n        'key',\n        'keys',\n        'length',\n        'removeItem',\n        'setItem'\n    ];\n\n    var ModuleType = {\n        DEFINE: 1,\n        EXPORT: 2,\n        WINDOW: 3\n    };\n\n    var DefaultConfig = {\n        description: '',\n        driver: DefaultDriverOrder.slice(),\n        name: 'localforage',\n        // Default DB size is _JUST UNDER_ 5MB, as it's the highest size\n        // we can use without a prompt.\n        size: 4980736,\n        storeName: 'keyvaluepairs',\n        version: 1.0\n    };\n\n    // Attaching to window (i.e. no module loader) is the assumed,\n    // simple default.\n    var moduleType = ModuleType.WINDOW;\n\n    // Find out what kind of module setup we have; if none, we'll just attach\n    // localForage to the main window.\n    if (typeof module !== 'undefined' && module.exports && typeof require !== 'undefined') {\n        moduleType = ModuleType.EXPORT;\n    } else if (typeof define === 'function' && define.amd) {\n        moduleType = ModuleType.DEFINE;\n    }\n\n    // Check to see if IndexedDB is available and if it is the latest\n    // implementation; it's our preferred backend library. We use \"_spec_test\"\n    // as the name of the database because it's not the one we'll operate on,\n    // but it's useful to make sure its using the right spec.\n    // See: https://github.com/mozilla/localForage/issues/128\n    var driverSupport = (function(self) {\n        // Initialize IndexedDB; fall back to vendor-prefixed versions\n        // if needed.\n        var indexedDB = indexedDB || self.indexedDB || self.webkitIndexedDB ||\n                        self.mozIndexedDB || self.OIndexedDB ||\n                        self.msIndexedDB;\n\n        var result = {};\n\n        result[DriverType.WEBSQL] = !!self.openDatabase;\n        result[DriverType.INDEXEDDB] = !!(function() {\n            // We mimic PouchDB here; just UA test for Safari (which, as of\n            // iOS 8/Yosemite, doesn't properly support IndexedDB).\n            // IndexedDB support is broken and different from Blink's.\n            // This is faster than the test case (and it's sync), so we just\n            // do this. *SIGH*\n            // http://bl.ocks.org/nolanlawson/raw/c83e9039edf2278047e9/\n            //\n            // We test for openDatabase because IE Mobile identifies itself\n            // as Safari. Oh the lulz...\n            if (typeof self.openDatabase !== 'undefined' && self.navigator &&\n                self.navigator.userAgent &&\n                /Safari/.test(self.navigator.userAgent) &&\n                !/Chrome/.test(self.navigator.userAgent)) {\n                return false;\n            }\n            try {\n                return indexedDB &&\n                       typeof indexedDB.open === 'function' &&\n                       // Some Samsung/HTC Android 4.0-4.3 devices\n                       // have older IndexedDB specs; if this isn't available\n                       // their IndexedDB is too old for us to use.\n                       // (Replaces the onupgradeneeded test.)\n                       typeof self.IDBKeyRange !== 'undefined';\n            } catch (e) {\n                return false;\n            }\n        })();\n\n        result[DriverType.LOCALSTORAGE] = !!(function() {\n            try {\n                return (self.localStorage &&\n                        ('setItem' in self.localStorage) &&\n                        (self.localStorage.setItem));\n            } catch (e) {\n                return false;\n            }\n        })();\n\n        return result;\n    })(this);\n\n    var isArray = Array.isArray || function(arg) {\n        return Object.prototype.toString.call(arg) === '[object Array]';\n    };\n\n    function callWhenReady(localForageInstance, libraryMethod) {\n        localForageInstance[libraryMethod] = function() {\n            var _args = arguments;\n            return localForageInstance.ready().then(function() {\n                return localForageInstance[libraryMethod].apply(localForageInstance, _args);\n            });\n        };\n    }\n\n    function extend() {\n        for (var i = 1; i < arguments.length; i++) {\n            var arg = arguments[i];\n\n            if (arg) {\n                for (var key in arg) {\n                    if (arg.hasOwnProperty(key)) {\n                        if (isArray(arg[key])) {\n                            arguments[0][key] = arg[key].slice();\n                        } else {\n                            arguments[0][key] = arg[key];\n                        }\n                    }\n                }\n            }\n        }\n\n        return arguments[0];\n    }\n\n    function isLibraryDriver(driverName) {\n        for (var driver in DriverType) {\n            if (DriverType.hasOwnProperty(driver) &&\n                DriverType[driver] === driverName) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    var globalObject = this;\n\n    function LocalForage(options) {\n        this._config = extend({}, DefaultConfig, options);\n        this._driverSet = null;\n        this._ready = false;\n        this._dbInfo = null;\n\n        // Add a stub for each driver API method that delays the call to the\n        // corresponding driver method until localForage is ready. These stubs\n        // will be replaced by the driver methods as soon as the driver is\n        // loaded, so there is no performance impact.\n        for (var i = 0; i < LibraryMethods.length; i++) {\n            callWhenReady(this, LibraryMethods[i]);\n        }\n\n        this.setDriver(this._config.driver);\n    }\n\n    LocalForage.prototype.INDEXEDDB = DriverType.INDEXEDDB;\n    LocalForage.prototype.LOCALSTORAGE = DriverType.LOCALSTORAGE;\n    LocalForage.prototype.WEBSQL = DriverType.WEBSQL;\n\n    // Set any config values for localForage; can be called anytime before\n    // the first API call (e.g. `getItem`, `setItem`).\n    // We loop through options so we don't overwrite existing config\n    // values.\n    LocalForage.prototype.config = function(options) {\n        // If the options argument is an object, we use it to set values.\n        // Otherwise, we return either a specified config value or all\n        // config values.\n        if (typeof(options) === 'object') {\n            // If localforage is ready and fully initialized, we can't set\n            // any new configuration values. Instead, we return an error.\n            if (this._ready) {\n                return new Error(\"Can't call config() after localforage \" +\n                                 'has been used.');\n            }\n\n            for (var i in options) {\n                if (i === 'storeName') {\n                    options[i] = options[i].replace(/\\W/g, '_');\n                }\n\n                this._config[i] = options[i];\n            }\n\n            // after all config options are set and\n            // the driver option is used, try setting it\n            if ('driver' in options && options.driver) {\n                this.setDriver(this._config.driver);\n            }\n\n            return true;\n        } else if (typeof(options) === 'string') {\n            return this._config[options];\n        } else {\n            return this._config;\n        }\n    };\n\n    // Used to define a custom driver, shared across all instances of\n    // localForage.\n    LocalForage.prototype.defineDriver = function(driverObject, callback,\n                                                  errorCallback) {\n        var defineDriver = new Promise(function(resolve, reject) {\n            try {\n                var driverName = driverObject._driver;\n                var complianceError = new Error(\n                    'Custom driver not compliant; see ' +\n                    'https://mozilla.github.io/localForage/#definedriver'\n                );\n                var namingError = new Error(\n                    'Custom driver name already in use: ' + driverObject._driver\n                );\n\n                // A driver name should be defined and not overlap with the\n                // library-defined, default drivers.\n                if (!driverObject._driver) {\n                    reject(complianceError);\n                    return;\n                }\n                if (isLibraryDriver(driverObject._driver)) {\n                    reject(namingError);\n                    return;\n                }\n\n                var customDriverMethods = LibraryMethods.concat('_initStorage');\n                for (var i = 0; i < customDriverMethods.length; i++) {\n                    var customDriverMethod = customDriverMethods[i];\n                    if (!customDriverMethod ||\n                        !driverObject[customDriverMethod] ||\n                        typeof driverObject[customDriverMethod] !== 'function') {\n                        reject(complianceError);\n                        return;\n                    }\n                }\n\n                var supportPromise = Promise.resolve(true);\n                if ('_support'  in driverObject) {\n                    if (driverObject._support && typeof driverObject._support === 'function') {\n                        supportPromise = driverObject._support();\n                    } else {\n                        supportPromise = Promise.resolve(!!driverObject._support);\n                    }\n                }\n\n                supportPromise.then(function(supportResult) {\n                    driverSupport[driverName] = supportResult;\n                    CustomDrivers[driverName] = driverObject;\n                    resolve();\n                }, reject);\n            } catch (e) {\n                reject(e);\n            }\n        });\n\n        defineDriver.then(callback, errorCallback);\n        return defineDriver;\n    };\n\n    LocalForage.prototype.driver = function() {\n        return this._driver || null;\n    };\n\n    LocalForage.prototype.ready = function(callback) {\n        var self = this;\n\n        var ready = new Promise(function(resolve, reject) {\n            self._driverSet.then(function() {\n                if (self._ready === null) {\n                    self._ready = self._initStorage(self._config);\n                }\n\n                self._ready.then(resolve, reject);\n            }).catch(reject);\n        });\n\n        ready.then(callback, callback);\n        return ready;\n    };\n\n    LocalForage.prototype.setDriver = function(drivers, callback,\n                                               errorCallback) {\n        var self = this;\n\n        if (typeof drivers === 'string') {\n            drivers = [drivers];\n        }\n\n        this._driverSet = new Promise(function(resolve, reject) {\n            var driverName = self._getFirstSupportedDriver(drivers);\n            var error = new Error('No available storage method found.');\n\n            if (!driverName) {\n                self._driverSet = Promise.reject(error);\n                reject(error);\n                return;\n            }\n\n            self._dbInfo = null;\n            self._ready = null;\n\n            if (isLibraryDriver(driverName)) {\n                var driverPromise = new Promise(function(resolve/*, reject*/) {\n                    // We allow localForage to be declared as a module or as a\n                    // library available without AMD/require.js.\n                    if (moduleType === ModuleType.DEFINE) {\n                        require([driverName], resolve);\n                    } else if (moduleType === ModuleType.EXPORT) {\n                        // Making it browserify friendly\n                        switch (driverName) {\n                            case self.INDEXEDDB:\n                                resolve(require('./drivers/indexeddb'));\n                                break;\n                            case self.LOCALSTORAGE:\n                                resolve(require('./drivers/localstorage'));\n                                break;\n                            case self.WEBSQL:\n                                resolve(require('./drivers/websql'));\n                                break;\n                        }\n                    } else {\n                        resolve(globalObject[driverName]);\n                    }\n                });\n                driverPromise.then(function(driver) {\n                    self._extend(driver);\n                    resolve();\n                });\n            } else if (CustomDrivers[driverName]) {\n                self._extend(CustomDrivers[driverName]);\n                resolve();\n            } else {\n                self._driverSet = Promise.reject(error);\n                reject(error);\n            }\n        });\n\n        function setDriverToConfig() {\n            self._config.driver = self.driver();\n        }\n        this._driverSet.then(setDriverToConfig, setDriverToConfig);\n\n        this._driverSet.then(callback, errorCallback);\n        return this._driverSet;\n    };\n\n    LocalForage.prototype.supports = function(driverName) {\n        return !!driverSupport[driverName];\n    };\n\n    LocalForage.prototype._extend = function(libraryMethodsAndProperties) {\n        extend(this, libraryMethodsAndProperties);\n    };\n\n    // Used to determine which driver we should use as the backend for this\n    // instance of localForage.\n    LocalForage.prototype._getFirstSupportedDriver = function(drivers) {\n        if (drivers && isArray(drivers)) {\n            for (var i = 0; i < drivers.length; i++) {\n                var driver = drivers[i];\n\n                if (this.supports(driver)) {\n                    return driver;\n                }\n            }\n        }\n\n        return null;\n    };\n\n    LocalForage.prototype.createInstance = function(options) {\n        return new LocalForage(options);\n    };\n\n    // The actual localForage object that we expose as a module or via a\n    // global. It's extended by pulling in one of our other libraries.\n    var localForage = new LocalForage();\n\n    // We allow localForage to be declared as a module or as a library\n    // available without AMD/require.js.\n    if (moduleType === ModuleType.DEFINE) {\n        define('localforage', function() {\n            return localForage;\n        });\n    } else if (moduleType === ModuleType.EXPORT) {\n        module.exports = localForage;\n    } else {\n        this.localforage = localForage;\n    }\n}).call(window);\n",
    "(function() {\n    'use strict';\n\n    // Sadly, the best way to save binary data in WebSQL/localStorage is serializing\n    // it to Base64, so this is how we store it to prevent very strange errors with less\n    // verbose ways of binary <-> string data storage.\n    var BASE_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n    var BLOB_TYPE_PREFIX = '~~local_forage_type~';\n    var BLOB_TYPE_PREFIX_REGEX = /^~~local_forage_type~([^~]+)~/;\n\n    var SERIALIZED_MARKER = '__lfsc__:';\n    var SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER.length;\n\n    // OMG the serializations!\n    var TYPE_ARRAYBUFFER = 'arbf';\n    var TYPE_BLOB = 'blob';\n    var TYPE_INT8ARRAY = 'si08';\n    var TYPE_UINT8ARRAY = 'ui08';\n    var TYPE_UINT8CLAMPEDARRAY = 'uic8';\n    var TYPE_INT16ARRAY = 'si16';\n    var TYPE_INT32ARRAY = 'si32';\n    var TYPE_UINT16ARRAY = 'ur16';\n    var TYPE_UINT32ARRAY = 'ui32';\n    var TYPE_FLOAT32ARRAY = 'fl32';\n    var TYPE_FLOAT64ARRAY = 'fl64';\n    var TYPE_SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER_LENGTH +\n                                        TYPE_ARRAYBUFFER.length;\n\n    // Get out of our habit of using `window` inline, at least.\n    var globalObject = this;\n\n    // Abstracts constructing a Blob object, so it also works in older\n    // browsers that don't support the native Blob constructor. (i.e.\n    // old QtWebKit versions, at least).\n    function _createBlob(parts, properties) {\n        parts = parts || [];\n        properties = properties || {};\n\n        try {\n            return new Blob(parts, properties);\n        } catch (err) {\n            if (err.name !== 'TypeError') {\n                throw err;\n            }\n\n            var BlobBuilder = globalObject.BlobBuilder ||\n                              globalObject.MSBlobBuilder ||\n                              globalObject.MozBlobBuilder ||\n                              globalObject.WebKitBlobBuilder;\n\n            var builder = new BlobBuilder();\n            for (var i = 0; i < parts.length; i += 1) {\n                builder.append(parts[i]);\n            }\n\n            return builder.getBlob(properties.type);\n        }\n    }\n\n    // Serialize a value, afterwards executing a callback (which usually\n    // instructs the `setItem()` callback/promise to be executed). This is how\n    // we store binary data with localStorage.\n    function serialize(value, callback) {\n        var valueString = '';\n        if (value) {\n            valueString = value.toString();\n        }\n\n        // Cannot use `value instanceof ArrayBuffer` or such here, as these\n        // checks fail when running the tests using casper.js...\n        //\n        // TODO: See why those tests fail and use a better solution.\n        if (value && (value.toString() === '[object ArrayBuffer]' ||\n                      value.buffer &&\n                      value.buffer.toString() === '[object ArrayBuffer]')) {\n            // Convert binary arrays to a string and prefix the string with\n            // a special marker.\n            var buffer;\n            var marker = SERIALIZED_MARKER;\n\n            if (value instanceof ArrayBuffer) {\n                buffer = value;\n                marker += TYPE_ARRAYBUFFER;\n            } else {\n                buffer = value.buffer;\n\n                if (valueString === '[object Int8Array]') {\n                    marker += TYPE_INT8ARRAY;\n                } else if (valueString === '[object Uint8Array]') {\n                    marker += TYPE_UINT8ARRAY;\n                } else if (valueString === '[object Uint8ClampedArray]') {\n                    marker += TYPE_UINT8CLAMPEDARRAY;\n                } else if (valueString === '[object Int16Array]') {\n                    marker += TYPE_INT16ARRAY;\n                } else if (valueString === '[object Uint16Array]') {\n                    marker += TYPE_UINT16ARRAY;\n                } else if (valueString === '[object Int32Array]') {\n                    marker += TYPE_INT32ARRAY;\n                } else if (valueString === '[object Uint32Array]') {\n                    marker += TYPE_UINT32ARRAY;\n                } else if (valueString === '[object Float32Array]') {\n                    marker += TYPE_FLOAT32ARRAY;\n                } else if (valueString === '[object Float64Array]') {\n                    marker += TYPE_FLOAT64ARRAY;\n                } else {\n                    callback(new Error('Failed to get type for BinaryArray'));\n                }\n            }\n\n            callback(marker + bufferToString(buffer));\n        } else if (valueString === '[object Blob]') {\n            // Conver the blob to a binaryArray and then to a string.\n            var fileReader = new FileReader();\n\n            fileReader.onload = function() {\n                // Backwards-compatible prefix for the blob type.\n                var str = BLOB_TYPE_PREFIX + value.type + '~' +\n                    bufferToString(this.result);\n\n                callback(SERIALIZED_MARKER + TYPE_BLOB + str);\n            };\n\n            fileReader.readAsArrayBuffer(value);\n        } else {\n            try {\n                callback(JSON.stringify(value));\n            } catch (e) {\n                console.error(\"Couldn't convert value into a JSON string: \",\n                              value);\n\n                callback(null, e);\n            }\n        }\n    }\n\n    // Deserialize data we've inserted into a value column/field. We place\n    // special markers into our strings to mark them as encoded; this isn't\n    // as nice as a meta field, but it's the only sane thing we can do whilst\n    // keeping localStorage support intact.\n    //\n    // Oftentimes this will just deserialize JSON content, but if we have a\n    // special marker (SERIALIZED_MARKER, defined above), we will extract\n    // some kind of arraybuffer/binary data/typed array out of the string.\n    function deserialize(value) {\n        // If we haven't marked this string as being specially serialized (i.e.\n        // something other than serialized JSON), we can just return it and be\n        // done with it.\n        if (value.substring(0,\n            SERIALIZED_MARKER_LENGTH) !== SERIALIZED_MARKER) {\n            return JSON.parse(value);\n        }\n\n        // The following code deals with deserializing some kind of Blob or\n        // TypedArray. First we separate out the type of data we're dealing\n        // with from the data itself.\n        var serializedString = value.substring(TYPE_SERIALIZED_MARKER_LENGTH);\n        var type = value.substring(SERIALIZED_MARKER_LENGTH,\n                                   TYPE_SERIALIZED_MARKER_LENGTH);\n\n        var blobType;\n        // Backwards-compatible blob type serialization strategy.\n        // DBs created with older versions of localForage will simply not have the blob type.\n        if (type === TYPE_BLOB && BLOB_TYPE_PREFIX_REGEX.test(serializedString)) {\n            var matcher = serializedString.match(BLOB_TYPE_PREFIX_REGEX);\n            blobType = matcher[1];\n            serializedString = serializedString.substring(matcher[0].length);\n        }\n        var buffer = stringToBuffer(serializedString);\n\n        // Return the right type based on the code/type set during\n        // serialization.\n        switch (type) {\n            case TYPE_ARRAYBUFFER:\n                return buffer;\n            case TYPE_BLOB:\n                return _createBlob([buffer], {type: blobType});\n            case TYPE_INT8ARRAY:\n                return new Int8Array(buffer);\n            case TYPE_UINT8ARRAY:\n                return new Uint8Array(buffer);\n            case TYPE_UINT8CLAMPEDARRAY:\n                return new Uint8ClampedArray(buffer);\n            case TYPE_INT16ARRAY:\n                return new Int16Array(buffer);\n            case TYPE_UINT16ARRAY:\n                return new Uint16Array(buffer);\n            case TYPE_INT32ARRAY:\n                return new Int32Array(buffer);\n            case TYPE_UINT32ARRAY:\n                return new Uint32Array(buffer);\n            case TYPE_FLOAT32ARRAY:\n                return new Float32Array(buffer);\n            case TYPE_FLOAT64ARRAY:\n                return new Float64Array(buffer);\n            default:\n                throw new Error('Unkown type: ' + type);\n        }\n    }\n\n    function stringToBuffer(serializedString) {\n        // Fill the string into a ArrayBuffer.\n        var bufferLength = serializedString.length * 0.75;\n        var len = serializedString.length;\n        var i;\n        var p = 0;\n        var encoded1, encoded2, encoded3, encoded4;\n\n        if (serializedString[serializedString.length - 1] === '=') {\n            bufferLength--;\n            if (serializedString[serializedString.length - 2] === '=') {\n                bufferLength--;\n            }\n        }\n\n        var buffer = new ArrayBuffer(bufferLength);\n        var bytes = new Uint8Array(buffer);\n\n        for (i = 0; i < len; i+=4) {\n            encoded1 = BASE_CHARS.indexOf(serializedString[i]);\n            encoded2 = BASE_CHARS.indexOf(serializedString[i+1]);\n            encoded3 = BASE_CHARS.indexOf(serializedString[i+2]);\n            encoded4 = BASE_CHARS.indexOf(serializedString[i+3]);\n\n            /*jslint bitwise: true */\n            bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n            bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n            bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n        }\n        return buffer;\n    }\n\n    // Converts a buffer to a string to store, serialized, in the backend\n    // storage library.\n    function bufferToString(buffer) {\n        // base64-arraybuffer\n        var bytes = new Uint8Array(buffer);\n        var base64String = '';\n        var i;\n\n        for (i = 0; i < bytes.length; i += 3) {\n            /*jslint bitwise: true */\n            base64String += BASE_CHARS[bytes[i] >> 2];\n            base64String += BASE_CHARS[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n            base64String += BASE_CHARS[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n            base64String += BASE_CHARS[bytes[i + 2] & 63];\n        }\n\n        if ((bytes.length % 3) === 2) {\n            base64String = base64String.substring(0, base64String.length - 1) + '=';\n        } else if (bytes.length % 3 === 1) {\n            base64String = base64String.substring(0, base64String.length - 2) + '==';\n        }\n\n        return base64String;\n    }\n\n    var localforageSerializer = {\n        serialize: serialize,\n        deserialize: deserialize,\n        stringToBuffer: stringToBuffer,\n        bufferToString: bufferToString\n    };\n\n    if (typeof module !== 'undefined' && module.exports && typeof require !== 'undefined') {\n        module.exports = localforageSerializer;\n    } else if (typeof define === 'function' && define.amd) {\n        define('localforageSerializer', function() {\n            return localforageSerializer;\n        });\n    } else {\n        this.localforageSerializer = localforageSerializer;\n    }\n}).call(window);\n",
    "var Extend = require('lodash.assign');\n\nvar delta = function( maxDt, minDt ) {\n\t\n\treturn function() {\n\t\tvar newTime, dt\n\t\n\t\tnewTime = Date.now()\n\t\tdt = newTime - this.now\n\t\n\t\tdt = Math.min( dt, maxDt )\n\t\tdt = Math.max( dt, minDt )\n\t\n\t\tthis.elapsed += dt\n\t\tthis.now = newTime\n\t\n\t\treturn dt\n\t}\n}\n\nvar start = function() {\n\tthis.now = Date.now()\n}\n\nvar reset = function() {\n\tthis.now = 0\n\tthis.elapsed = 0\n}\n\nvar getValue = function( key ) {\n\treturn function() {\n\t\treturn this[key]\n\t}\n}\n\nvar clock = function( properties ) {\n\n\tvar config = Extend({\n\t\tmaxDt : 60,\n\t\tminDt : 16.66666667,\n\t\tautostart : false\n\t}, properties)\n\t\n\tvar state = Object.preventExtensions({\n\t\tnow : 0,\n\t\telapsed : 0\n\t})\n\n\tif(config.autostart !== false) {\n\t\tstart.bind( state )()\n\t}\n\t\n\treturn {\n\t\tstart\t: start.bind( state ),\n\t\treset\t: reset.bind( state ),\n\t\tnow\t\t: getValue(\"now\").bind( state ),\n\t\telapsed\t: getValue(\"elapsed\").bind( state ),\n\t\tdelta\t: delta( config.maxDt, config.minDt ).bind( state ),\n\t}\n}\n\nmodule.exports = clock",
    "var raf = require('raf');\nvar EventEmitter = require('events').EventEmitter;\nvar Extend = require('lodash.assign');\nvar clock = require('./clock')();\n\nvar start = function( loop, clock ) {\n\t\n\treturn function() {\n\t\tif( !this.started ) {\n\t\t\tif( !this.clockStarted ) {\n\t\t\t\tclock.start()\n\t\t\t}\n\t\t\tloop()\n\t\t\tthis.started = true\n\t\t}\n\t}\n\t\t\n}\n\nvar stop = function() {\n\traf.cancel( this.rafHandle )\n\tthis.started = false\n}\n\nvar createLoop = function( emitter, clock, customizeEvent ) {\n\t\n\treturn function runLoop() {\n\t\t\n\t\tthis.rafHandle = raf( runLoop.bind(this) )\n\t\tvar dt = clock.delta()\n\t\t\n\t\tvar event = customizeEvent({\n\t\t\tdt: dt,\n\t\t\tunitDt: dt / 16.66666667,\n\t\t\tnow: clock.now(),\n\t\t\telapsed: clock.elapsed()\n\t\t})\n\t\t\n\t\temitter.emit(\"update\", event)\n\t\temitter.emit(\"draw\", event)\n\t\t\n\t}\n\t\n}\n\nvar passThrough = function( a ) { return a }\n\nmodule.exports = function configurePoemLoop( properties ) {\n\n\tvar config = Extend({\n\t\temitter: new EventEmitter(),\n\t\tcustomizeEvent: passThrough\n\t}, properties)\n\t\n\tvar state = Object.preventExtensions({\n\t\tclockStarted : false,\n\t\tstarted: false,\n\t\trafHandle: null\n\t})\n\t\n\tvar loop = createLoop(\n\t\tconfig.emitter,\n\t\tclock,\n\t\tconfig.customizeEvent\n\t)\n\t.bind( state )\n\t\n\treturn {\n\t\tstart\t: start( loop, clock ).bind( state ),\n\t\tstop\t: stop.bind( state ),\n\t\treset\t: clock.reset,\n\t\temitter : config.emitter\n\t}\n\t\n}",
    "/**\n * lodash 3.2.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar baseAssign = require('lodash._baseassign'),\n    createAssigner = require('lodash._createassigner'),\n    keys = require('lodash.keys');\n\n/**\n * A specialized version of `_.assign` for customizing assigned values without\n * support for argument juggling, multiple sources, and `this` binding `customizer`\n * functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {Function} customizer The function to customize assigned values.\n * @returns {Object} Returns `object`.\n */\nfunction assignWith(object, source, customizer) {\n  var index = -1,\n      props = keys(source),\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index],\n        value = object[key],\n        result = customizer(value, source[key], key, object, source);\n\n    if ((result === result ? (result !== value) : (value === value)) ||\n        (value === undefined && !(key in object))) {\n      object[key] = result;\n    }\n  }\n  return object;\n}\n\n/**\n * Assigns own enumerable properties of source object(s) to the destination\n * object. Subsequent sources overwrite property assignments of previous sources.\n * If `customizer` is provided it is invoked to produce the assigned values.\n * The `customizer` is bound to `thisArg` and invoked with five arguments:\n * (objectValue, sourceValue, key, object, source).\n *\n * **Note:** This method mutates `object` and is based on\n * [`Object.assign`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.assign).\n *\n * @static\n * @memberOf _\n * @alias extend\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {*} [thisArg] The `this` binding of `customizer`.\n * @returns {Object} Returns `object`.\n * @example\n *\n * _.assign({ 'user': 'barney' }, { 'age': 40 }, { 'user': 'fred' });\n * // => { 'user': 'fred', 'age': 40 }\n *\n * // using a customizer callback\n * var defaults = _.partialRight(_.assign, function(value, other) {\n *   return _.isUndefined(value) ? other : value;\n * });\n *\n * defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n * // => { 'user': 'barney', 'age': 36 }\n */\nvar assign = createAssigner(function(object, source, customizer) {\n  return customizer\n    ? assignWith(object, source, customizer)\n    : baseAssign(object, source);\n});\n\nmodule.exports = assign;\n",
    "/**\n * lodash 3.2.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar baseCopy = require('lodash._basecopy'),\n    keys = require('lodash.keys');\n\n/**\n * The base implementation of `_.assign` without support for argument juggling,\n * multiple sources, and `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return source == null\n    ? object\n    : baseCopy(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n",
    "/**\n * lodash 3.0.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property names to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @returns {Object} Returns `object`.\n */\nfunction baseCopy(source, props, object) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n    object[key] = source[key];\n  }\n  return object;\n}\n\nmodule.exports = baseCopy;\n",
    "/**\n * lodash 3.1.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar bindCallback = require('lodash._bindcallback'),\n    isIterateeCall = require('lodash._isiterateecall'),\n    restParam = require('lodash.restparam');\n\n/**\n * Creates a function that assigns properties of source object(s) to a given\n * destination object.\n *\n * **Note:** This function is used to create `_.assign`, `_.defaults`, and `_.merge`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return restParam(function(object, sources) {\n    var index = -1,\n        length = object == null ? 0 : sources.length,\n        customizer = length > 2 ? sources[length - 2] : undefined,\n        guard = length > 2 ? sources[2] : undefined,\n        thisArg = length > 1 ? sources[length - 1] : undefined;\n\n    if (typeof customizer == 'function') {\n      customizer = bindCallback(customizer, thisArg, 5);\n      length -= 2;\n    } else {\n      customizer = typeof thisArg == 'function' ? thisArg : undefined;\n      length -= (customizer ? 1 : 0);\n    }\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n",
    "/**\n * lodash 3.0.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * A specialized version of `baseCallback` which only supports `this` binding\n * and specifying the number of arguments to provide to `func`.\n *\n * @private\n * @param {Function} func The function to bind.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {number} [argCount] The number of arguments to provide to `func`.\n * @returns {Function} Returns the callback.\n */\nfunction bindCallback(func, thisArg, argCount) {\n  if (typeof func != 'function') {\n    return identity;\n  }\n  if (thisArg === undefined) {\n    return func;\n  }\n  switch (argCount) {\n    case 1: return function(value) {\n      return func.call(thisArg, value);\n    };\n    case 3: return function(value, index, collection) {\n      return func.call(thisArg, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(thisArg, accumulator, value, index, collection);\n    };\n    case 5: return function(value, other, key, object, source) {\n      return func.call(thisArg, value, other, key, object, source);\n    };\n  }\n  return function() {\n    return func.apply(thisArg, arguments);\n  };\n}\n\n/**\n * This method returns the first argument provided to it.\n *\n * @static\n * @memberOf _\n * @category Utility\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'user': 'fred' };\n *\n * _.identity(object) === object;\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = bindCallback;\n",
    "/**\n * lodash 3.0.9 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^\\d+$/;\n\n/**\n * Used as the [maximum length](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is array-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value));\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return value > -1 && value % 1 == 0 && value < length;\n}\n\n/**\n * Checks if the provided arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n      ? (isArrayLike(object) && isIndex(index, object.length))\n      : (type == 'string' && index in object)) {\n    var other = object[index];\n    return value === value ? (value === other) : (other !== other);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isIterateeCall;\n",
    "/**\n * lodash 3.6.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that invokes `func` with the `this` binding of the\n * created function and arguments from `start` and beyond provided as an array.\n *\n * **Note:** This method is based on the [rest parameter](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters).\n *\n * @static\n * @memberOf _\n * @category Function\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var say = _.restParam(function(what, names) {\n *   return what + ' ' + _.initial(names).join(', ') +\n *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n * });\n *\n * say('hello', 'fred', 'barney', 'pebbles');\n * // => 'hello fred, barney, & pebbles'\n */\nfunction restParam(func, start) {\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  start = nativeMax(start === undefined ? (func.length - 1) : (+start || 0), 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        rest = Array(length);\n\n    while (++index < length) {\n      rest[index] = args[start + index];\n    }\n    switch (start) {\n      case 0: return func.call(this, rest);\n      case 1: return func.call(this, args[0], rest);\n      case 2: return func.call(this, args[0], args[1], rest);\n    }\n    var otherArgs = Array(start + 1);\n    index = -1;\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = rest;\n    return func.apply(this, otherArgs);\n  };\n}\n\nmodule.exports = restParam;\n",
    "/**\n * lodash 3.1.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar getNative = require('lodash._getnative'),\n    isArguments = require('lodash.isarguments'),\n    isArray = require('lodash.isarray');\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^\\d+$/;\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = getNative(Object, 'keys');\n\n/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is array-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value));\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return value > -1 && value % 1 == 0 && value < length;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * A fallback implementation of `Object.keys` which creates an array of the\n * own enumerable property names of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction shimKeys(object) {\n  var props = keysIn(object),\n      propsLength = props.length,\n      length = propsLength && object.length;\n\n  var allowIndexes = !!length && isLength(length) &&\n    (isArray(object) || isArguments(object));\n\n  var index = -1,\n      result = [];\n\n  while (++index < propsLength) {\n    var key = props[index];\n    if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nvar keys = !nativeKeys ? shimKeys : function(object) {\n  var Ctor = object == null ? undefined : object.constructor;\n  if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n      (typeof object != 'function' && isArrayLike(object))) {\n    return shimKeys(object);\n  }\n  return isObject(object) ? nativeKeys(object) : [];\n};\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  if (object == null) {\n    return [];\n  }\n  if (!isObject(object)) {\n    object = Object(object);\n  }\n  var length = object.length;\n  length = (length && isLength(length) &&\n    (isArray(object) || isArguments(object)) && length) || 0;\n\n  var Ctor = object.constructor,\n      index = -1,\n      isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n      result = Array(length),\n      skipIndexes = length > 0;\n\n  while (++index < length) {\n    result[index] = (index + '');\n  }\n  for (var key in object) {\n    if (!(skipIndexes && isIndex(key, length)) &&\n        !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = keys;\n",
    "/**\n * lodash 3.9.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]';\n\n/** Used to detect host constructors (Safari > 5). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar fnToString = Function.prototype.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = object == null ? undefined : object[key];\n  return isNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in older versions of Chrome and Safari which return 'function' for regexes\n  // and Safari 8 equivalents which return 'object' for typed array constructors.\n  return isObject(value) && objToString.call(value) == funcTag;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is a native function.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n * @example\n *\n * _.isNative(Array.prototype.push);\n * // => true\n *\n * _.isNative(_);\n * // => false\n */\nfunction isNative(value) {\n  if (value == null) {\n    return false;\n  }\n  if (isFunction(value)) {\n    return reIsNative.test(fnToString.call(value));\n  }\n  return isObjectLike(value) && reIsHostCtor.test(value);\n}\n\nmodule.exports = getNative;\n",
    "/**\n * lodash 3.0.4 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Native method references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is array-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value));\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is classified as an `arguments` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  return isObjectLike(value) && isArrayLike(value) &&\n    hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n}\n\nmodule.exports = isArguments;\n",
    "/**\n * lodash 3.0.4 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** `Object#toString` result references. */\nvar arrayTag = '[object Array]',\n    funcTag = '[object Function]';\n\n/** Used to detect host constructors (Safari > 5). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar fnToString = Function.prototype.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeIsArray = getNative(Array, 'isArray');\n\n/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = object == null ? undefined : object[key];\n  return isNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(function() { return arguments; }());\n * // => false\n */\nvar isArray = nativeIsArray || function(value) {\n  return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n};\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in older versions of Chrome and Safari which return 'function' for regexes\n  // and Safari 8 equivalents which return 'object' for typed array constructors.\n  return isObject(value) && objToString.call(value) == funcTag;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is a native function.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n * @example\n *\n * _.isNative(Array.prototype.push);\n * // => true\n *\n * _.isNative(_);\n * // => false\n */\nfunction isNative(value) {\n  if (value == null) {\n    return false;\n  }\n  if (isFunction(value)) {\n    return reIsNative.test(fnToString.call(value));\n  }\n  return isObjectLike(value) && reIsHostCtor.test(value);\n}\n\nmodule.exports = isArray;\n",
    "var now = require('performance-now')\n  , global = typeof window === 'undefined' ? {} : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = global['request' + suffix]\n  , caf = global['cancel' + suffix] || global['cancelRequest' + suffix]\n  , isNative = true\n\nfor(var i = 0; i < vendors.length && !raf; i++) {\n  raf = global[vendors[i] + 'Request' + suffix]\n  caf = global[vendors[i] + 'Cancel' + suffix]\n      || global[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  isNative = false\n\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  if(!isNative) {\n    return raf.call(global, fn)\n  }\n  return raf.call(global, function() {\n    try{\n      fn.apply(this, arguments)\n    } catch(e) {\n      setTimeout(function() { throw e }, 0)\n    }\n  })\n}\nmodule.exports.cancel = function() {\n  caf.apply(global, arguments)\n}\n",
    "// Generated by CoffeeScript 1.6.3\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n/*\n//@ sourceMappingURL=performance-now.map\n*/\n",
    "var EventEmitter = require('events').EventEmitter;\nvar IsObject = require('lodash.isobject');\nvar Each = require('lodash.foreach');\nvar Extend = require('lodash.assign');\n\nvar load = function( manifests, globalManifest, getGraph, emitter ) {\n\t\n\treturn function( newSlug ) {\n\n\t\tvar oldSlug = this.slug;\n\n\t\tvar newManifest = manifests[newSlug];\n\t\tvar oldManifest = this.manifest;\n\t\t\n\t\tif( !IsObject( newManifest ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif( this.slug ) {\n\t\t\temitter.emit(\"unload\", {\n\t\t\t\tslug : oldSlug,\n\t\t\t\tmanifest : oldManifest\n\t\t\t});\n\t\t}\n\t\t\n\t\tvar graph = getGraph( newManifest, newSlug );\n\t\tparseManifest( globalManifest, graph );\n\t\tparseManifest( newManifest, graph );\n\n\t\tthis.manifest = newManifest;\n\t\tthis.slug = newSlug;\n\t\t\n\t\temitter.emit(\"load\", {\n\t\t\tslug\t\t\t: newSlug,\n\t\t\tglobalManifest\t: globalManifest,\n\t\t\tmanifest\t\t: newManifest,\n\t\t\tgraph\t\t\t: graph\n\t\t});\n\t\t\n\t\treturn true;\n\t\t\n\t};\n\t\n};\n\nvar parseManifest = function( manifest, graph ) {\n\t\n\tEach( manifest.components, function loadComponent( value, key ) {\n\t\t\n\t\tvar properties;\n\t\t\n\t\tif(IsObject( value )) {\n\t\t\t\n\t\t\tproperties = IsObject( value.properties ) ? value.properties : {};\n\t\t\t\n\t\t\tif( IsObject( value.function ) ) {\n\t\t\t\tgraph[ key ] = value.function( graph, properties );\n\t\t\t} else if( IsObject( value.construct ) ) {\n\t\t\t\tgraph[ key ] = new value.construct( graph, properties );\n\t\t\t} else {\n\t\t\t\tgraph[ key ] = value;\n\t\t\t}\n\t\t\t\n\t\t} else {\n\t\t\tgraph[ key ] = value;\n\t\t}\n\t\t\n\t});\n\t\n\treturn graph;\n};\n\nvar createBlankObject = function() { return {}; };\n\nmodule.exports = function( manifests, properties ) {\n\n\tvar config = Extend({\n\t\tglobalManifest: {},\n\t\tgetGraph: createBlankObject,\n\t\temitter: new EventEmitter()\n\t}, properties);\n\t\n\tvar state = Object.preventExtensions({\n\t\tslug : null,\n\t\tmanifest : null\n\t});\n\t\n\treturn {\n\t\tload : load( manifests, config.globalManifest, config.getGraph, config.emitter ).bind( state ),\n\t\temitter : config.emitter\n\t}\n\t\n};",
    "/**\n * lodash 3.2.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar baseAssign = require('lodash._baseassign'),\n    createAssigner = require('lodash._createassigner'),\n    keys = require('lodash.keys');\n\n/**\n * A specialized version of `_.assign` for customizing assigned values without\n * support for argument juggling, multiple sources, and `this` binding `customizer`\n * functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {Function} customizer The function to customize assigned values.\n * @returns {Object} Returns `object`.\n */\nfunction assignWith(object, source, customizer) {\n  var index = -1,\n      props = keys(source),\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index],\n        value = object[key],\n        result = customizer(value, source[key], key, object, source);\n\n    if ((result === result ? (result !== value) : (value === value)) ||\n        (value === undefined && !(key in object))) {\n      object[key] = result;\n    }\n  }\n  return object;\n}\n\n/**\n * Assigns own enumerable properties of source object(s) to the destination\n * object. Subsequent sources overwrite property assignments of previous sources.\n * If `customizer` is provided it is invoked to produce the assigned values.\n * The `customizer` is bound to `thisArg` and invoked with five arguments:\n * (objectValue, sourceValue, key, object, source).\n *\n * **Note:** This method mutates `object` and is based on\n * [`Object.assign`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.assign).\n *\n * @static\n * @memberOf _\n * @alias extend\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {*} [thisArg] The `this` binding of `customizer`.\n * @returns {Object} Returns `object`.\n * @example\n *\n * _.assign({ 'user': 'barney' }, { 'age': 40 }, { 'user': 'fred' });\n * // => { 'user': 'fred', 'age': 40 }\n *\n * // using a customizer callback\n * var defaults = _.partialRight(_.assign, function(value, other) {\n *   return _.isUndefined(value) ? other : value;\n * });\n *\n * defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n * // => { 'user': 'barney', 'age': 36 }\n */\nvar assign = createAssigner(function(object, source, customizer) {\n  return customizer\n    ? assignWith(object, source, customizer)\n    : baseAssign(object, source);\n});\n\nmodule.exports = assign;\n",
    "/**\n * lodash 3.2.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar baseCopy = require('lodash._basecopy'),\n    keys = require('lodash.keys');\n\n/**\n * The base implementation of `_.assign` without support for argument juggling,\n * multiple sources, and `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return source == null\n    ? object\n    : baseCopy(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n",
    "/**\n * lodash 3.0.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property names to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @returns {Object} Returns `object`.\n */\nfunction baseCopy(source, props, object) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n    object[key] = source[key];\n  }\n  return object;\n}\n\nmodule.exports = baseCopy;\n",
    "/**\n * lodash 3.1.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar bindCallback = require('lodash._bindcallback'),\n    isIterateeCall = require('lodash._isiterateecall'),\n    restParam = require('lodash.restparam');\n\n/**\n * Creates a function that assigns properties of source object(s) to a given\n * destination object.\n *\n * **Note:** This function is used to create `_.assign`, `_.defaults`, and `_.merge`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return restParam(function(object, sources) {\n    var index = -1,\n        length = object == null ? 0 : sources.length,\n        customizer = length > 2 ? sources[length - 2] : undefined,\n        guard = length > 2 ? sources[2] : undefined,\n        thisArg = length > 1 ? sources[length - 1] : undefined;\n\n    if (typeof customizer == 'function') {\n      customizer = bindCallback(customizer, thisArg, 5);\n      length -= 2;\n    } else {\n      customizer = typeof thisArg == 'function' ? thisArg : undefined;\n      length -= (customizer ? 1 : 0);\n    }\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n",
    "/**\n * lodash 3.0.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * A specialized version of `baseCallback` which only supports `this` binding\n * and specifying the number of arguments to provide to `func`.\n *\n * @private\n * @param {Function} func The function to bind.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {number} [argCount] The number of arguments to provide to `func`.\n * @returns {Function} Returns the callback.\n */\nfunction bindCallback(func, thisArg, argCount) {\n  if (typeof func != 'function') {\n    return identity;\n  }\n  if (thisArg === undefined) {\n    return func;\n  }\n  switch (argCount) {\n    case 1: return function(value) {\n      return func.call(thisArg, value);\n    };\n    case 3: return function(value, index, collection) {\n      return func.call(thisArg, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(thisArg, accumulator, value, index, collection);\n    };\n    case 5: return function(value, other, key, object, source) {\n      return func.call(thisArg, value, other, key, object, source);\n    };\n  }\n  return function() {\n    return func.apply(thisArg, arguments);\n  };\n}\n\n/**\n * This method returns the first argument provided to it.\n *\n * @static\n * @memberOf _\n * @category Utility\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'user': 'fred' };\n *\n * _.identity(object) === object;\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = bindCallback;\n",
    "/**\n * lodash 3.0.9 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^\\d+$/;\n\n/**\n * Used as the [maximum length](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is array-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value));\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return value > -1 && value % 1 == 0 && value < length;\n}\n\n/**\n * Checks if the provided arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n      ? (isArrayLike(object) && isIndex(index, object.length))\n      : (type == 'string' && index in object)) {\n    var other = object[index];\n    return value === value ? (value === other) : (other !== other);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isIterateeCall;\n",
    "/**\n * lodash 3.6.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that invokes `func` with the `this` binding of the\n * created function and arguments from `start` and beyond provided as an array.\n *\n * **Note:** This method is based on the [rest parameter](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters).\n *\n * @static\n * @memberOf _\n * @category Function\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var say = _.restParam(function(what, names) {\n *   return what + ' ' + _.initial(names).join(', ') +\n *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n * });\n *\n * say('hello', 'fred', 'barney', 'pebbles');\n * // => 'hello fred, barney, & pebbles'\n */\nfunction restParam(func, start) {\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  start = nativeMax(start === undefined ? (func.length - 1) : (+start || 0), 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        rest = Array(length);\n\n    while (++index < length) {\n      rest[index] = args[start + index];\n    }\n    switch (start) {\n      case 0: return func.call(this, rest);\n      case 1: return func.call(this, args[0], rest);\n      case 2: return func.call(this, args[0], args[1], rest);\n    }\n    var otherArgs = Array(start + 1);\n    index = -1;\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = rest;\n    return func.apply(this, otherArgs);\n  };\n}\n\nmodule.exports = restParam;\n",
    "/**\n * lodash 3.1.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar getNative = require('lodash._getnative'),\n    isArguments = require('lodash.isarguments'),\n    isArray = require('lodash.isarray');\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^\\d+$/;\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = getNative(Object, 'keys');\n\n/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is array-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value));\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return value > -1 && value % 1 == 0 && value < length;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * A fallback implementation of `Object.keys` which creates an array of the\n * own enumerable property names of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction shimKeys(object) {\n  var props = keysIn(object),\n      propsLength = props.length,\n      length = propsLength && object.length;\n\n  var allowIndexes = !!length && isLength(length) &&\n    (isArray(object) || isArguments(object));\n\n  var index = -1,\n      result = [];\n\n  while (++index < propsLength) {\n    var key = props[index];\n    if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nvar keys = !nativeKeys ? shimKeys : function(object) {\n  var Ctor = object == null ? undefined : object.constructor;\n  if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n      (typeof object != 'function' && isArrayLike(object))) {\n    return shimKeys(object);\n  }\n  return isObject(object) ? nativeKeys(object) : [];\n};\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  if (object == null) {\n    return [];\n  }\n  if (!isObject(object)) {\n    object = Object(object);\n  }\n  var length = object.length;\n  length = (length && isLength(length) &&\n    (isArray(object) || isArguments(object)) && length) || 0;\n\n  var Ctor = object.constructor,\n      index = -1,\n      isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n      result = Array(length),\n      skipIndexes = length > 0;\n\n  while (++index < length) {\n    result[index] = (index + '');\n  }\n  for (var key in object) {\n    if (!(skipIndexes && isIndex(key, length)) &&\n        !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = keys;\n",
    "/**\n * lodash 3.9.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]';\n\n/** Used to detect host constructors (Safari > 5). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar fnToString = Function.prototype.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = object == null ? undefined : object[key];\n  return isNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in older versions of Chrome and Safari which return 'function' for regexes\n  // and Safari 8 equivalents which return 'object' for typed array constructors.\n  return isObject(value) && objToString.call(value) == funcTag;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is a native function.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n * @example\n *\n * _.isNative(Array.prototype.push);\n * // => true\n *\n * _.isNative(_);\n * // => false\n */\nfunction isNative(value) {\n  if (value == null) {\n    return false;\n  }\n  if (isFunction(value)) {\n    return reIsNative.test(fnToString.call(value));\n  }\n  return isObjectLike(value) && reIsHostCtor.test(value);\n}\n\nmodule.exports = getNative;\n",
    "/**\n * lodash 3.0.4 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Native method references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is array-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value));\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is classified as an `arguments` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  return isObjectLike(value) && isArrayLike(value) &&\n    hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n}\n\nmodule.exports = isArguments;\n",
    "/**\n * lodash 3.0.4 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** `Object#toString` result references. */\nvar arrayTag = '[object Array]',\n    funcTag = '[object Function]';\n\n/** Used to detect host constructors (Safari > 5). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar fnToString = Function.prototype.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeIsArray = getNative(Array, 'isArray');\n\n/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = object == null ? undefined : object[key];\n  return isNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(function() { return arguments; }());\n * // => false\n */\nvar isArray = nativeIsArray || function(value) {\n  return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n};\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in older versions of Chrome and Safari which return 'function' for regexes\n  // and Safari 8 equivalents which return 'object' for typed array constructors.\n  return isObject(value) && objToString.call(value) == funcTag;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is a native function.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n * @example\n *\n * _.isNative(Array.prototype.push);\n * // => true\n *\n * _.isNative(_);\n * // => false\n */\nfunction isNative(value) {\n  if (value == null) {\n    return false;\n  }\n  if (isFunction(value)) {\n    return reIsNative.test(fnToString.call(value));\n  }\n  return isObjectLike(value) && reIsHostCtor.test(value);\n}\n\nmodule.exports = isArray;\n",
    "/**\n * lodash 3.0.3 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar arrayEach = require('lodash._arrayeach'),\n    baseEach = require('lodash._baseeach'),\n    bindCallback = require('lodash._bindcallback'),\n    isArray = require('lodash.isarray');\n\n/**\n * Creates a function for `_.forEach` or `_.forEachRight`.\n *\n * @private\n * @param {Function} arrayFunc The function to iterate over an array.\n * @param {Function} eachFunc The function to iterate over a collection.\n * @returns {Function} Returns the new each function.\n */\nfunction createForEach(arrayFunc, eachFunc) {\n  return function(collection, iteratee, thisArg) {\n    return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n      ? arrayFunc(collection, iteratee)\n      : eachFunc(collection, bindCallback(iteratee, thisArg, 3));\n  };\n}\n\n/**\n * Iterates over elements of `collection` invoking `iteratee` for each element.\n * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n * (value, index|key, collection). Iteratee functions may exit iteration early\n * by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\" property\n * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n * may be used for object iteration.\n *\n * @static\n * @memberOf _\n * @alias each\n * @category Collection\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [thisArg] The `this` binding of `iteratee`.\n * @returns {Array|Object|string} Returns `collection`.\n * @example\n *\n * _([1, 2]).forEach(function(n) {\n *   console.log(n);\n * }).value();\n * // => logs each value from left to right and returns the array\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(n, key) {\n *   console.log(n, key);\n * });\n * // => logs each value-key pair and returns the object (iteration order is not guaranteed)\n */\nvar forEach = createForEach(arrayEach, baseEach);\n\nmodule.exports = forEach;\n",
    "/**\n * lodash 3.0.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.7.0 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * A specialized version of `_.forEach` for arrays without support for callback\n * shorthands or `this` binding.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n",
    "/**\n * lodash 3.0.4 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar keys = require('lodash.keys');\n\n/**\n * Used as the [maximum length](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * The base implementation of `_.forEach` without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object|string} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\n/**\n * The base implementation of `baseForIn` and `baseForOwn` which iterates\n * over `object` properties returned by `keysFunc` invoking `iteratee` for\n * each property. Iteratee functions may exit iteration early by explicitly\n * returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `_.forOwn` without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return baseFor(object, iteratee, keys);\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    var length = collection ? getLength(collection) : 0;\n    if (!isLength(length)) {\n      return eachFunc(collection, iteratee);\n    }\n    var index = fromRight ? length : -1,\n        iterable = toObject(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\n/**\n * Creates a base function for `_.forIn` or `_.forInRight`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var iterable = toObject(object),\n        props = keysFunc(object),\n        length = props.length,\n        index = fromRight ? length : -1;\n\n    while ((fromRight ? index-- : ++index < length)) {\n      var key = props[index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Converts `value` to an object if it's not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Object} Returns the object.\n */\nfunction toObject(value) {\n  return isObject(value) ? value : Object(value);\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = baseEach;\n",
    "/**\n * lodash 3.1.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar getNative = require('lodash._getnative'),\n    isArguments = require('lodash.isarguments'),\n    isArray = require('lodash.isarray');\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^\\d+$/;\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = getNative(Object, 'keys');\n\n/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is array-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value));\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return value > -1 && value % 1 == 0 && value < length;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * A fallback implementation of `Object.keys` which creates an array of the\n * own enumerable property names of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction shimKeys(object) {\n  var props = keysIn(object),\n      propsLength = props.length,\n      length = propsLength && object.length;\n\n  var allowIndexes = !!length && isLength(length) &&\n    (isArray(object) || isArguments(object));\n\n  var index = -1,\n      result = [];\n\n  while (++index < propsLength) {\n    var key = props[index];\n    if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nvar keys = !nativeKeys ? shimKeys : function(object) {\n  var Ctor = object == null ? undefined : object.constructor;\n  if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n      (typeof object != 'function' && isArrayLike(object))) {\n    return shimKeys(object);\n  }\n  return isObject(object) ? nativeKeys(object) : [];\n};\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  if (object == null) {\n    return [];\n  }\n  if (!isObject(object)) {\n    object = Object(object);\n  }\n  var length = object.length;\n  length = (length && isLength(length) &&\n    (isArray(object) || isArguments(object)) && length) || 0;\n\n  var Ctor = object.constructor,\n      index = -1,\n      isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n      result = Array(length),\n      skipIndexes = length > 0;\n\n  while (++index < length) {\n    result[index] = (index + '');\n  }\n  for (var key in object) {\n    if (!(skipIndexes && isIndex(key, length)) &&\n        !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = keys;\n",
    "/**\n * lodash 3.9.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]';\n\n/** Used to detect host constructors (Safari > 5). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar fnToString = Function.prototype.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = object == null ? undefined : object[key];\n  return isNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in older versions of Chrome and Safari which return 'function' for regexes\n  // and Safari 8 equivalents which return 'object' for typed array constructors.\n  return isObject(value) && objToString.call(value) == funcTag;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is a native function.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n * @example\n *\n * _.isNative(Array.prototype.push);\n * // => true\n *\n * _.isNative(_);\n * // => false\n */\nfunction isNative(value) {\n  if (value == null) {\n    return false;\n  }\n  if (isFunction(value)) {\n    return reIsNative.test(fnToString.call(value));\n  }\n  return isObjectLike(value) && reIsHostCtor.test(value);\n}\n\nmodule.exports = getNative;\n",
    "/**\n * lodash 3.0.4 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Native method references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is array-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value));\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is classified as an `arguments` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  return isObjectLike(value) && isArrayLike(value) &&\n    hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n}\n\nmodule.exports = isArguments;\n",
    "/**\n * lodash 3.0.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * A specialized version of `baseCallback` which only supports `this` binding\n * and specifying the number of arguments to provide to `func`.\n *\n * @private\n * @param {Function} func The function to bind.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {number} [argCount] The number of arguments to provide to `func`.\n * @returns {Function} Returns the callback.\n */\nfunction bindCallback(func, thisArg, argCount) {\n  if (typeof func != 'function') {\n    return identity;\n  }\n  if (thisArg === undefined) {\n    return func;\n  }\n  switch (argCount) {\n    case 1: return function(value) {\n      return func.call(thisArg, value);\n    };\n    case 3: return function(value, index, collection) {\n      return func.call(thisArg, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(thisArg, accumulator, value, index, collection);\n    };\n    case 5: return function(value, other, key, object, source) {\n      return func.call(thisArg, value, other, key, object, source);\n    };\n  }\n  return function() {\n    return func.apply(thisArg, arguments);\n  };\n}\n\n/**\n * This method returns the first argument provided to it.\n *\n * @static\n * @memberOf _\n * @category Utility\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'user': 'fred' };\n *\n * _.identity(object) === object;\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = bindCallback;\n",
    "/**\n * lodash 3.0.4 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** `Object#toString` result references. */\nvar arrayTag = '[object Array]',\n    funcTag = '[object Function]';\n\n/** Used to detect host constructors (Safari > 5). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar fnToString = Function.prototype.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeIsArray = getNative(Array, 'isArray');\n\n/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = object == null ? undefined : object[key];\n  return isNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(function() { return arguments; }());\n * // => false\n */\nvar isArray = nativeIsArray || function(value) {\n  return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n};\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in older versions of Chrome and Safari which return 'function' for regexes\n  // and Safari 8 equivalents which return 'object' for typed array constructors.\n  return isObject(value) && objToString.call(value) == funcTag;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is a native function.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n * @example\n *\n * _.isNative(Array.prototype.push);\n * // => true\n *\n * _.isNative(_);\n * // => false\n */\nfunction isNative(value) {\n  if (value == null) {\n    return false;\n  }\n  if (isFunction(value)) {\n    return reIsNative.test(fnToString.call(value));\n  }\n  return isObjectLike(value) && reIsHostCtor.test(value);\n}\n\nmodule.exports = isArray;\n",
    "/**\n * lodash 3.0.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n",
    "var _ = require('lodash');\n\nvar colors = {\n\t\n\thexToArray : function( hexColor ) {\n\t\t\n\t\tvar string = colors.hexToString( hexColor );\n\t\t\n\t\treturn [\n\t\t    parseInt(string[1]+string[2], 16),\n\t\t\tparseInt(string[3]+string[4], 16),\n\t\t\tparseInt(string[5]+string[6], 16)\n\t\t];\n\t\t\n\t},\n\t\n\tarrayToHex : function( color ) {\n\t\t\n\t\tvar stringResult = _.map( color, function( c ) {\n\t\t\t\n\t\t\tvar s = parseInt( c, 10 ).toString(16);\n\t\t\t\n\t\t\treturn s.length > 1 ? s : \"0\"+s;\n\t\t\t\n\t\t}).join('');\n\t\t\n\t\treturn parseInt( stringResult, 16 );\n\t\t\n\t},\n\t\n\tlightness : function( hexColor, unitI ) {\n\t\n\t\t// oh my dear lord\n\t\t\n\t\tif( typeof hexColor !== \"number\" ) throw new Error(\"hexColor must be in the form of 0x54AFFF\");\n\t\tif( hexColor < 0x000000 || hexColor > 0xffffff ) throw new Error(\"hexColor is out of range\");\n\t\t\n\t\tvar color = colors.hexToArray( hexColor );\n\t\tvar blendValue = 255;\n\t\n\t\tif( unitI < 0 ) {\n\t\t\tunitI *= -1;\n\t\t\tblendValue = 0;\n\t\t}\n\t\t\n\t\tvar result = _.map( color, function( c ) {\n\t\t\t\n\t\t\treturn c * ( 1 - unitI ) + blendValue * unitI;\n\t\t\t\n\t\t});\n\t\t\n\t\treturn colors.arrayToHex( result );\n\t\t\n\t},\n\t\n\tmix : function( hexColor1, hexColor2, unitI ) {\n\t\t\n\t\tvar color1 = colors.hexToArray( hexColor1 );\n\t\tvar color2 = colors.hexToArray( hexColor2 );\n\t\t\n\t\tvar result = _.map( color1, function( c1, i ) {\n\t\t\t\n\t\t\treturn c1 * (1 - unitI) + color2[i] * unitI;\n\t\t\t\t\t\t\n\t\t});\n\t\t\n\t\treturn colors.arrayToHex( result );\n\t},\n\n\thexToString : function( hexColor ) {\n\t\n\t\tvar string = parseInt(hexColor, 10).toString( 16 );\n\t\n\t\twhile( string.length < 6 ) {\n\t\t\tstring = \"0\" + string;\n\t\t}\n\t\n\t\treturn \"#\" + string;\n\t}\t\n\t\n}\n\nmodule.exports = colors;",
    "\nvar insertCss = require('insert-css');\nvar ClassList = require(\"class-list\");\nvar EventEmitter = require('events').EventEmitter;\nvar _ = require('lodash');\nvar colors = require('./colors');\n\nvar _menuTemplate = null;\nvar _cssTemplate = null;\nvar _levelTemplate = null;\n\n\nvar sortAndFilterManifests = function( manifests ) {\n\t\t\n\treturn _.chain( manifests )\n\t\t.pairs()\n\t\t.filter(function( keypair ) {\n\t\t\treturn keypair[1].visible !== false;\n\t\t})\n\t\t.sortBy(function( keypair ) {\n\t\t\treturn keypair[1].order;\n\t\t})\n\t.value();\n\t\n};\n\nvar handlers = (function() {\n\t\n\tvar bodyClass = ClassList( document.body );\n\tvar isOpen = false;\n\tvar emitter = null;\n\tvar preventDefault = false;\n\t\n\tvar toggle = function( e ) {\n\t\tif( e ) e.preventDefault();\n\t\tisOpen ? close() : open();\n\t};\n\t\n\tvar close = function() {\n\t\tbodyClass.remove('poem-menu-open');\n\t\temitter.emit('close');\n\t\tisOpen = false;\n\t};\n\t\n\tvar open = function() {\n\t\tbodyClass.add('poem-menu-open');\n\t\temitter.emit('open');\n\t\tisOpen = true;\n\t};\n\t\n\tvar loadLevel = function( e ) {\n\t\temitter.emit('load', {\n\t\t\tslug : this.getAttribute('data-slug')\n\t\t});\n\t\tclose();\n\t};\n\t\n\treturn function( config, currentEmitter, div ) {\n\n\t\temitter = currentEmitter;\n\t\tpreventDefault = config.preventDefault;\n\t\t\n\t\tvar button = div.getElementsByClassName('poem-menu-burger')[0];\n\t\tbutton.addEventListener( 'click', toggle, false );\n\t\t\n\t\tvar levelLinks = div\n\t\t\t.getElementsByClassName('poem-menu-levels')[0]\n\t\t\t.getElementsByTagName('a');\n\t\t\n\t\t_.each( levelLinks, function( el ) {\n\t\t\tel.addEventListener( 'click', loadLevel, false );\n\t\t});\n\t\t\n\t\tdiv\t.getElementsByClassName('poem-menu-blocker')[0]\n\t\t\t.addEventListener( 'click', close, false );\n\t\t\n\t\twindow.addEventListener('keydown', function toggleMenuHandler( e ) {\n\t\t\tif( e.keyCode !== config.toggleKey ) return;\n\t\t\ttoggle(e);\n\t\t});\n\t\t\n\t\treturn {\n\t\t\tclose : close,\n\t\t\topen : open\n\t\t};\n\t};\n\t\n})();\n\nvar loadTemplatesOnce = (function() {\n\t\n\tvar firstRun = true;\n\t\n\treturn function() {\n\t\t\n\t\tif( firstRun ) {\n\t\t\t\n\t\t\tfirstRun = false;\n\t\t\t\n\t\t\t_menuTemplate = _.template(\n\t\t\t\tBuffer(\"PGRpdiBjbGFzcz0ncG9lbS1tZW51Jz4KCQoJPGEgY2xhc3M9InBvZW0tbWVudS1idXJnZXIiIGhyZWY9IiNtZW51IiB0aXRsZT0nSGl0IEVTQyBrZXkgdG8gb3Blbi9jbG9zZSc+CgkJPGRpdiBjbGFzcz0icG9lbS1tZW51LWJ1cmdlci1iYXJzIj48L2Rpdj4KCTwvYT4KCQoJPGRpdiBjbGFzcz0ncG9lbS1tZW51LXRvcCc+PC9kaXY+CgkKCTxkaXYgY2xhc3M9J3BvZW0tbWVudS1taWRkbGUnPgoJCTxkaXYgY2xhc3M9J3BvZW0tbWVudS1sZXZlbHMtdG9wJz48L2Rpdj4KCQk8ZGl2IGNsYXNzPSdwb2VtLW1lbnUtbGV2ZWxzJz4KCQkJPCU9IGxldmVscyAlPgoJCTwvZGl2PgoJCTxkaXYgY2xhc3M9J3BvZW0tbWVudS1sZXZlbHMtYm90dG9tJz48L2Rpdj4KCTwvZGl2PgoJCQoJPGRpdiBjbGFzcz0ncG9lbS1tZW51LWJvdHRvbSc+PC9kaXY+CgkKPC9kaXY+CjxkaXYgY2xhc3M9J3BvZW0tbWVudS1ibG9ja2VyJz48L2Rpdj4=\",\"base64\")\n\t\t\t);\n\t\t\t\n\t\t\t_levelTemplate = _.template(\n\t\t\t\tBuffer(\"PGEgaHJlZj0nIy88JS0gc2x1ZyAlPicgZGF0YS1zbHVnPSc8JS0gc2x1ZyAlPicgY2xhc3M9J3BvZW0tbWVudS1sZXZlbCc+Cgk8aDIgY2xhc3M9J3BvZW0tbWVudS1sZXZlbC1uYW1lJz48JS0gbWFuaWZlc3QubmFtZSAlPjwvaDE+Cgk8ZGl2IGNsYXNzPSdwb2VtLW1lbnUtbGV2ZWwtZGVzY3JpcHRpb24nPjwlLSBtYW5pZmVzdC5kZXNjcmlwdGlvbiAlPjwvZGl2Pgo8L2E+\",\"base64\")\n\t\t\t);\n\t\t\t\n\t\t\t_cssTemplate = _.template(\n\t\t\t\tBuffer(\"LnBvZW0tbWVudSwKLnBvZW0tbWVudSAqLAoucG9lbS1tZW51ICo6YmVmb3JlLAoucG9lbS1tZW51ICo6YWZ0ZXIgewoJLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94OyAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KLnBvZW0tbWVudSBhIHsKCWNvbG9yOiA8JT0gcHJpbWFyeSAlPjsKfQoucG9lbS1tZW51IHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0zMDBweCk7CiAgICAgICAtbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMzAwcHgpOwogICAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTMwMHB4KTsKICAgICAgICAgLW8tdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0zMDBweCk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMzAwcHgpOwogICAgdHJhbnNpdGlvbjogNTAwbXM7CiAgICB3aWR0aDogMzAwcHg7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBib3JkZXItcmlnaHQ6IDNweCBzb2xpZCA8JT0gbWVudUxpZ2h0ICU+OwogICAgYmFja2dyb3VuZDogPCU9IG1lbnVEYXJrICU+OwogICAgcGFkZGluZzogMWVtOwoJei1pbmRleDoxMDE7Cn0KLnBvZW0tbWVudS1vcGVuIC5wb2VtLW1lbnUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7CiAgICAgICAtbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKICAgICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOwogICAgICAgICAtby10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKICAgIGJveC1zaGFkb3c6IDAgMCAyZW0gcmdiYSgwLCAwLCAwLCAwLjE5KTsKfQoucG9lbS1tZW51LWJsb2NrZXIgewoJaGVpZ2h0OjA7Cgl3aWR0aDoxMDAlOwoJcG9zaXRpb246YWJzb2x1dGU7Cgl0b3A6MDsKCWxlZnQ6MDsKCXotaW5kZXg6MTAwOwoJY3Vyc29yOiBwb2ludGVyOwogICAgYmFja2dyb3VuZDogPCU9IG1lbnUgJT47CglvcGFjaXR5OjA7Cgktd2Via2l0LXRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXM7CgkgICAtbW96LXRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXM7CgkgICAgLW1zLXRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXM7CgkgICAgIC1vLXRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXM7CgkgICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXM7Cn0KLnBvZW0tbWVudS1vcGVuIC5wb2VtLW1lbnUtYmxvY2tlciB7CgloZWlnaHQ6MTAwJTsKCW9wYWNpdHk6MC43Owp9Ci5wb2VtLW1lbnUtb3BlbiAucG9lbS1tZW51LWNvbnRhaW5lciB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgzMDBweCk7CiAgICAgICAtbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgzMDBweCk7CiAgICAgICAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlWCgzMDBweCk7CiAgICAgICAgIC1vLXRyYW5zZm9ybTogdHJhbnNsYXRlWCgzMDBweCk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgzMDBweCk7CiAgICBvcGFjaXR5OiAwLjM7Cn0KLnBvZW0tbWVudS1jb250YWluZXIgewoJLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7CgkgICAtbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKCSAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOwoJICAgICAtby10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7CgkgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKCWhlaWdodDogMTAwJTsKCXRyYW5zaXRpb246IHRyYW5zZm9ybSA1MDBtcywgb3BhY2l0eSA1MDBtczsKCXdpZHRoOiAxMDAlOwoJcG9zaXRpb246IGFic29sdXRlOwoJei1pbmRleDowOwp9Ci5wb2VtLW1lbnUtYnVyZ2VyIHsKCXBhZGRpbmc6IDEuNWVtIDAuNWVtOwoJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJcG9zaXRpb246IGFic29sdXRlOwoJdG9wOiAwOwoJcmlnaHQ6IDA7Cgktd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKDMuNGVtLCAwLjRlbSk7CgkgICAtbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlKDMuNGVtLCAwLjRlbSk7CgkgICAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlKDMuNGVtLCAwLjRlbSk7CgkgICAgIC1vLXRyYW5zZm9ybTogdHJhbnNsYXRlKDMuNGVtLCAwLjRlbSk7CgkgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKDMuNGVtLCAwLjRlbSk7Cgktd2Via2l0LXRyYW5zaXRpb246IC13ZWJraXQtdHJhbnNmb3JtIDUwMG1zOwoJICAgLW1vei10cmFuc2l0aW9uOiAtbW96LXRyYW5zZm9ybSA1MDBtczsKCSAgICAtbXMtdHJhbnNpdGlvbjogLW1zLXRyYW5zZm9ybSA1MDBtczsKCSAgICAgLW8tdHJhbnNpdGlvbjogLW8tdHJhbnNmb3JtIDUwMG1zOwoJICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gNTAwbXM7Cn0KLnBvZW0tbWVudS1idXJnZXItYmFycyB7CglkaXNwbGF5OmJsb2NrOwoJaGVpZ2h0OjAuM2VtOwoJd2lkdGg6MmVtOwoJYmFja2dyb3VuZDogPCU9IGhhbWJ1cmdlciAlPjsKCXBvc2l0aW9uOnJlbGF0aXZlOwoJY3Vyc29yOiBwb2ludGVyOwoJLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgMC42NnM7CgkgICAtbW96LXRyYW5zaXRpb246IGFsbCAwLjY2czsKCSAgICAtbXMtdHJhbnNpdGlvbjogYWxsIDAuNjZzOwoJICAgICAtby10cmFuc2l0aW9uOiBhbGwgMC42NnM7CgkgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjY2czsKfQoucG9lbS1tZW51LWJ1cmdlci1iYXJzOmFmdGVyIHsKCWNvbnRlbnQ6Jyc7Cglwb3NpdGlvbjphYnNvbHV0ZTsKCXRvcDowLjhlbTsKCXdpZHRoOjJlbTsKCWhlaWdodDowLjNlbTsKCWJhY2tncm91bmQ6IDwlPSBoYW1idXJnZXIgJT47Cgktd2Via2l0LXRyYW5zaXRpb246IGFsbCAwLjY2czsKCSAgIC1tb3otdHJhbnNpdGlvbjogYWxsIDAuNjZzOwoJICAgIC1tcy10cmFuc2l0aW9uOiBhbGwgMC42NnM7CgkgICAgIC1vLXRyYW5zaXRpb246IGFsbCAwLjY2czsKCSAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuNjZzOwp9Ci5wb2VtLW1lbnUtYnVyZ2VyLWJhcnM6YmVmb3JlIHsKCWNvbnRlbnQ6Jyc7Cglwb3NpdGlvbjphYnNvbHV0ZTsKCXRvcDotMC44ZW07Cgl3aWR0aDoyZW07CgloZWlnaHQ6MC4zZW07CgliYWNrZ3JvdW5kOjwlPSBoYW1idXJnZXIgJT47Cgktd2Via2l0LXRyYW5zaXRpb246IGFsbCAwLjY2czsKCSAgIC1tb3otdHJhbnNpdGlvbjogYWxsIDAuNjZzOwoJICAgIC1tcy10cmFuc2l0aW9uOiBhbGwgMC42NnM7CgkgICAgIC1vLXRyYW5zaXRpb246IGFsbCAwLjY2czsKCSAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuNjZzOwp9CgoucG9lbS1tZW51LW9wZW4gLnBvZW0tbWVudS1idXJnZXItYmFycyB7CgliYWNrZ3JvdW5kOnRyYW5zcGFyZW50Owp9Ci5wb2VtLW1lbnUtb3BlbiAucG9lbS1tZW51LWJ1cmdlci1iYXJzOmJlZm9yZSB7Cgktd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMjI1ZGVnKTsKCSAgIC1tb3otdHJhbnNmb3JtOnJvdGF0ZSgyMjVkZWcpOwoJICAgIC1tcy10cmFuc2Zvcm06cm90YXRlKDIyNWRlZyk7CgkgICAgIC1vLXRyYW5zZm9ybTpyb3RhdGUoMjI1ZGVnKTsKCSAgICAgICAgdHJhbnNmb3JtOnJvdGF0ZSgyMjVkZWcpOwoJdG9wOjA7Cn0KLnBvZW0tbWVudS1vcGVuIC5wb2VtLW1lbnUtYnVyZ2VyLWJhcnM6YWZ0ZXIgewoJLXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC0yMjVkZWcpOwoJICAgLW1vei10cmFuc2Zvcm06cm90YXRlKC0yMjVkZWcpOwoJICAgIC1tcy10cmFuc2Zvcm06cm90YXRlKC0yMjVkZWcpOwoJICAgICAtby10cmFuc2Zvcm06cm90YXRlKC0yMjVkZWcpOwoJICAgICAgICB0cmFuc2Zvcm06cm90YXRlKC0yMjVkZWcpOwoJdG9wOjA7Cn0KLnBvZW0tbWVudS1ib3R0b20gewoJcG9zaXRpb246IGFic29sdXRlOwoJYm90dG9tOiAwOwoJd2lkdGg6IDEwMCU7CglsZWZ0OiAwOwoJcGFkZGluZzogMWVtOwp9Ci5wb2VtLW1lbnUtYm90dG9tLW11dGUgewoJdGV4dC1hbGlnbjpyaWdodDsKfQoucG9lbS1tZW51LWJvdHRvbS1tdXRlIGltZyB7Cgl3aWR0aDo2MHB4Owp9Ci5wb2VtLW1lbnUtYm90dG9tLXJlc2V0IHsKCXBvc2l0aW9uOiBhYnNvbHV0ZTsKCWJvdHRvbToxLjNlbTsKCWxlZnQ6MWVtOwp9Ci5wb2VtLW1lbnUtdG9wIHsKICAgIGNvbG9yOiA8JT0gcHJpbWFyeSAlPjsKICAgIGZvbnQtc2l6ZTogMS43ZW07CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBmb250LXdlaWdodDogODAwOwogICAgbGluZS1oZWlnaHQ6IDEuMjsKICAgIG1hcmdpbi10b3A6IDAuMWVtOwp9Ci5wb2VtLW1lbnUtbWlkZGxlIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIGxlZnQ6IDA7CiAgICByaWdodDogMDsKICAgIHRvcDogNC40ZW07CiAgICBib3R0b206IDVlbTsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICBvdmVyZmxvdy15OiBhdXRvOwogICAgcGFkZGluZzogMWVtOwogICAgYmFja2dyb3VuZDogPCU9IG1lbnUgJT47CiAgICBib3JkZXItdG9wOiAxcHggc29saWQgPCU9IG1lbnVMaWdodCAlPjsKICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCA8JT0gbWVudURhcmsgJT47Cn0KLnBvZW0tbWVudS1sZXZlbC1uYW1lIHsKICAgIG1hcmdpbjogMDsKICAgIGZvbnQtd2VpZ2h0OiAxMDA7CiAgICBmb250LXNpemU6IDEuMWVtOwogICAgbWFyZ2luLWJvdHRvbTogMC4zZW07Cgljb2xvcjogPCU9IHByaW1hcnkgJT4KfQphOmhvdmVyIC5wb2VtLW1lbnUtbGV2ZWwtbmFtZSB7Cgljb2xvcjogPCU9IHByaW1hcnlBY3RpdmUgJT4KfQoucG9lbS1tZW51LWxldmVsLWRlc2NyaXB0aW9uIHsKICAgIGNvbG9yOiA8JT0gdGV4dCAlPjsKICAgIHRleHQtdHJhbnNmb3JtOiBub25lOwogICAgZm9udC1zaXplOiAwLjhlbTsKICAgIGZvbnQtd2VpZ2h0OiAxMDA7Cn0KYTpob3ZlciAucG9lbS1tZW51LWxldmVsLWRlc2NyaXB0aW9uIHsKCWNvbG9yOiA8JT0gdGV4dEFjdGl2ZSAlPgp9CgphLnBvZW0tbWVudS1sZXZlbCB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGJvcmRlcjogMXB4IHNvbGlkIDwlPSBsZXZlbEFjdGl2ZSAlPjsKICAgIG1hcmdpbjogMS4zZW0gMDsKICAgIHBhZGRpbmc6IDAuNWVtOwogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgYm94LXNoYWRvdzogMCAwIDAuOWVtIHJnYmEoMCwgMCwgMCwgMC4yMik7CiAgICBiYWNrZ3JvdW5kOiA8JT0gbGV2ZWwgJT47CiAgICAtd2Via2l0LXRyYW5zaXRpb246IC13ZWJraXQtdHJhbnNmb3JtIDIwMG1zOwogICAgICAgLW1vei10cmFuc2l0aW9uOiAtbW96LXRyYW5zZm9ybSAyMDBtczsKICAgICAgICAtbXMtdHJhbnNpdGlvbjogLW1zLXRyYW5zZm9ybSAyMDBtczsKICAgICAgICAgLW8tdHJhbnNpdGlvbjogLW8tdHJhbnNmb3JtIDIwMG1zOwogICAgICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMjAwbXM7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMSk7CiAgICAgICAtbW96LXRyYW5zZm9ybTogc2NhbGUoMSk7CiAgICAgICAgLW1zLXRyYW5zZm9ybTogc2NhbGUoMSk7CiAgICAgICAgIC1vLXRyYW5zZm9ybTogc2NhbGUoMSk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7Cn0KYS5wb2VtLW1lbnUtbGV2ZWwtdGl0bGVzIHsKCXRleHQtYWxpZ246IGNlbnRlcjsKCXBhZGRpbmc6IDAuNGVtOwoJbWFyZ2luLXRvcDogMC41ZW07Cn0KYS5wb2VtLW1lbnUtbGV2ZWw6aG92ZXIgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEuMDE1KTsKICAgICAgIC1tb3otdHJhbnNmb3JtOiBzY2FsZSgxLjAxNSk7CiAgICAgICAgLW1zLXRyYW5zZm9ybTogc2NhbGUoMS4wMTUpOwogICAgICAgICAtby10cmFuc2Zvcm06IHNjYWxlKDEuMDE1KTsKICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjAxNSk7Cn0KQG1lZGlhIChtYXgtd2lkdGg6NDAwcHgpIHsKCS5wb2VtLW1lbnUgewoJICAgIGZvbnQtc2l6ZTogMC44NWVtOwoJfQoJLnBvZW0tbWVudS1vcGVuIC5idXJnZXItd3JhcHBlciB7CgkgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTAuMWVtKTsKCSAgICAgICAtbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMC4xZW0pOwoJICAgICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0wLjFlbSk7CgkgICAgICAgICAtby10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTAuMWVtKTsKCSAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMC4xZW0pOwoJfQoJCgkucG9lbS1tZW51LXRvcCB7CgkgICAgdGV4dC1hbGlnbjogbGVmdDsKCSAgICBmb250LXNpemU6IDIuMWVtOwoJfQoJLnBvZW0tbWVudS1taWRkbGUgewoJICAgIHRvcDogNC44ZW07CgkgICAgYm90dG9tOiAzLjVlbTsKCX0KfQ==\",\"base64\")\n\t\t\t);\n\t\t\t\n\t\t}\n\t};\n\t\n})();\n\nvar runCssTemplates = function( config ) {\n\t\n\tvar direction = config.primaryColor > config.menuColor ? 1 : -1;\n\t\n\tvar css = _cssTemplate(_.mapValues({\n\t\t\n\t\thamburger\t\t: config.hamburgerColor,\n\t\tprimaryActive\t: config.primaryColor,\n\t\ttext\t\t\t: config.textColor,\n\t\tmenu\t\t\t: config.menuColor,\n\t\t\n\t\ttextActive\t\t: colors.lightness( config.textColor,\t\tdirection * 0.1 ),\n\t\tmenuDark\t\t: colors.lightness( config.menuColor,\t\tdirection * -0.2 ),\n\t\tmenuLight\t\t: colors.lightness( config.menuColor,\t\tdirection * 0.2 ),\n\t\t\n\t\tprimary\t\t\t: colors.mix( config.primaryColor, config.menuColor, 0.2 ),\n\t\tlevel\t\t\t: colors.mix( config.primaryColor, config.menuColor, 0.9 ),\n\t\tlevelActive\t\t: colors.mix( config.primaryColor, config.menuColor, 0.6 )\n\t\t\n\t}, colors.hexToString ));\n\t\n\tinsertCss( css );\n\t\n};\n\nvar runHtmlTemplates = function( manifestKeyValuePairs, config ) {\n\t\t\n\tvar levels = _.reduce( manifestKeyValuePairs, function( memo, keyPair ) {\n\t\treturn memo + _levelTemplate({\n\t\t\tslug: keyPair[0],\n\t\t\tmanifest: keyPair[1]\n\t\t})\n\t}, \"\");\n\t\n\tvar html = _menuTemplate({\n\t\tlevels : levels\n\t});\n\t\t\n\t//Attach elements\n\tvar div = document.createElement('div');\n\tdiv.innerHTML = html;\n\t\n\tfunction appendOrSetInnerHtml( el, contents ) {\n\t\tif( _.isElement( contents ) ) {\n\t\t\tel.appendChild( contents );\n\t\t} else {\n\t\t\tel.innerHTML = contents;\n\t\t}\n\t}\n\t\n\tappendOrSetInnerHtml( div.getElementsByClassName('poem-menu-top')[0],\t\t\t\tconfig.top );\n\tappendOrSetInnerHtml( div.getElementsByClassName('poem-menu-levels-top')[0],\t\tconfig.beforeLevels );\n\tappendOrSetInnerHtml( div.getElementsByClassName('poem-menu-levels-bottom')[0],\t\tconfig.afterLevels );\n\tappendOrSetInnerHtml( div.getElementsByClassName('poem-menu-bottom')[0],\t\t\tconfig.bottom );\n\t\n\tdocument.body.insertBefore( div, document.body.firstChild );\n\t\n\treturn div;\n};\n\nmodule.exports = function menu( manifests, properties ) {\n\n\tloadTemplatesOnce();\n\n\tvar config = _.extend({\n\t\thamburgerColor\t\t\t\t: 0xffffff,\n\t\tprimaryColor\t\t\t\t: 0x54AFFF,\n\t\ttextColor\t\t\t\t\t: 0x9FC6E1,\n\t\tmenuColor\t\t\t\t\t: 0x272E34,\n\t\ttop\t\t\t\t\t\t\t: \"Poem\",\n\t\tbeforeLevels\t\t\t\t: \"\",\n\t\tafterLevels\t\t\t\t\t: \"\",\n\t\tbottom\t\t\t\t\t\t: \"\",\n\t\tpreventDefaultLevelLinks\t: true,\n\t\ttoggleKey\t\t\t\t\t: 27 //escape\n\t}, properties);\n\t\n    var emitter = new EventEmitter();\n\tvar manifestKeyValuePairs = sortAndFilterManifests( manifests )\n\t\n\trunCssTemplates( config );\n\tvar div = runHtmlTemplates( manifestKeyValuePairs, config );\n    var commands = handlers( config, emitter, div );\n\t\n\treturn {\n\t\temitter : emitter,\n\t\tclose : commands.close,\n\t\topen : commands.open\n\t};\n\t\n};",
    "// contains, add, remove, toggle\nvar indexof = require('indexof')\n\nmodule.exports = ClassList\n\nfunction ClassList(elem) {\n    var cl = elem.classList\n\n    if (cl) {\n        return cl\n    }\n\n    var classList = {\n        add: add\n        , remove: remove\n        , contains: contains\n        , toggle: toggle\n        , toString: $toString\n        , length: 0\n        , item: item\n    }\n\n    return classList\n\n    function add(token) {\n        var list = getTokens()\n        if (indexof(list, token) > -1) {\n            return\n        }\n        list.push(token)\n        setTokens(list)\n    }\n\n    function remove(token) {\n        var list = getTokens()\n            , index = indexof(list, token)\n\n        if (index === -1) {\n            return\n        }\n\n        list.splice(index, 1)\n        setTokens(list)\n    }\n\n    function contains(token) {\n        return indexof(getTokens(), token) > -1\n    }\n\n    function toggle(token) {\n        if (contains(token)) {\n            remove(token)\n            return false\n        } else {\n            add(token)\n            return true\n        }\n    }\n\n    function $toString() {\n        return elem.className\n    }\n\n    function item(index) {\n        var tokens = getTokens()\n        return tokens[index] || null\n    }\n\n    function getTokens() {\n        var className = elem.className\n\n        return filter(className.split(\" \"), isTruthy)\n    }\n\n    function setTokens(list) {\n        var length = list.length\n\n        elem.className = list.join(\" \")\n        classList.length = length\n\n        for (var i = 0; i < list.length; i++) {\n            classList[i] = list[i]\n        }\n\n        delete list[length]\n    }\n}\n\nfunction filter (arr, fn) {\n    var ret = []\n    for (var i = 0; i < arr.length; i++) {\n        if (fn(arr[i])) ret.push(arr[i])\n    }\n    return ret\n}\n\nfunction isTruthy(value) {\n    return !!value\n}\n",
    "\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};",
    "var inserted = {};\n\nmodule.exports = function (css, options) {\n    if (inserted[css]) return;\n    inserted[css] = true;\n    \n    var elem = document.createElement('style');\n    elem.setAttribute('type', 'text/css');\n\n    if ('textContent' in elem) {\n      elem.textContent = css;\n    } else {\n      elem.styleSheet.cssText = css;\n    }\n    \n    var head = document.getElementsByTagName('head')[0];\n    if (options && options.prepend) {\n        head.insertBefore(elem, head.childNodes[0]);\n    } else {\n        head.appendChild(elem);\n    }\n};\n",
    "/**\n * @license\n * Lo-Dash 2.4.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern -o ./dist/lodash.js`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre ES5 environments */\n  var undefined;\n\n  /** Used to pool arrays and objects used internally */\n  var arrayPool = [],\n      objectPool = [];\n\n  /** Used to generate unique IDs */\n  var idCounter = 0;\n\n  /** Used to prefix keys to avoid issues with `__proto__` and properties on `Object.prototype` */\n  var keyPrefix = +new Date + '';\n\n  /** Used as the size when optimizations are enabled for large arrays */\n  var largeArraySize = 75;\n\n  /** Used as the max size of the `arrayPool` and `objectPool` */\n  var maxPoolSize = 40;\n\n  /** Used to detect and test whitespace */\n  var whitespace = (\n    // whitespace\n    ' \\t\\x0B\\f\\xA0\\ufeff' +\n\n    // line terminators\n    '\\n\\r\\u2028\\u2029' +\n\n    // unicode category \"Zs\" space separators\n    '\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000'\n  );\n\n  /** Used to match empty string literals in compiled template source */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /**\n   * Used to match ES6 template delimiters\n   * http://people.mozilla.org/~jorendorff/es6-draft.html#sec-literals-string-literals\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match regexp flags from their coerced string values */\n  var reFlags = /\\w*$/;\n\n  /** Used to detected named functions */\n  var reFuncName = /^\\s*function[ \\n\\r\\t]+\\w/;\n\n  /** Used to match \"interpolate\" template delimiters */\n  var reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match leading whitespace and zeros to be removed */\n  var reLeadingSpacesAndZeros = RegExp('^[' + whitespace + ']*0+(?=.$)');\n\n  /** Used to ensure capturing order of template delimiters */\n  var reNoMatch = /($^)/;\n\n  /** Used to detect functions containing a `this` reference */\n  var reThis = /\\bthis\\b/;\n\n  /** Used to match unescaped characters in compiled string literals */\n  var reUnescapedString = /['\\n\\r\\t\\u2028\\u2029\\\\]/g;\n\n  /** Used to assign default `context` object properties */\n  var contextProps = [\n    'Array', 'Boolean', 'Date', 'Function', 'Math', 'Number', 'Object',\n    'RegExp', 'String', '_', 'attachEvent', 'clearTimeout', 'isFinite', 'isNaN',\n    'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify */\n  var templateCounter = 0;\n\n  /** `Object#toString` result shortcuts */\n  var argsClass = '[object Arguments]',\n      arrayClass = '[object Array]',\n      boolClass = '[object Boolean]',\n      dateClass = '[object Date]',\n      funcClass = '[object Function]',\n      numberClass = '[object Number]',\n      objectClass = '[object Object]',\n      regexpClass = '[object RegExp]',\n      stringClass = '[object String]';\n\n  /** Used to identify object classifications that `_.clone` supports */\n  var cloneableClasses = {};\n  cloneableClasses[funcClass] = false;\n  cloneableClasses[argsClass] = cloneableClasses[arrayClass] =\n  cloneableClasses[boolClass] = cloneableClasses[dateClass] =\n  cloneableClasses[numberClass] = cloneableClasses[objectClass] =\n  cloneableClasses[regexpClass] = cloneableClasses[stringClass] = true;\n\n  /** Used as an internal `_.debounce` options object */\n  var debounceOptions = {\n    'leading': false,\n    'maxWait': 0,\n    'trailing': false\n  };\n\n  /** Used as the property descriptor for `__bindData__` */\n  var descriptor = {\n    'configurable': false,\n    'enumerable': false,\n    'value': null,\n    'writable': false\n  };\n\n  /** Used to determine if values are of the language type Object */\n  var objectTypes = {\n    'boolean': false,\n    'function': true,\n    'object': true,\n    'number': false,\n    'string': false,\n    'undefined': false\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\t': 't',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Used as a reference to the global object */\n  var root = (objectTypes[typeof window] && window) || this;\n\n  /** Detect free variable `exports` */\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module` */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports` */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /** Detect free variable `global` from Node.js or Browserified code and use it as `root` */\n  var freeGlobal = objectTypes[typeof global] && global;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `_.indexOf` without support for binary searches\n   * or `fromIndex` constraints.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} [fromIndex=0] The index to search from.\n   * @returns {number} Returns the index of the matched value or `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    var index = (fromIndex || 0) - 1,\n        length = array ? array.length : 0;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * An implementation of `_.contains` for cache objects that mimics the return\n   * signature of `_.indexOf` by returning `0` if the value is found, else `-1`.\n   *\n   * @private\n   * @param {Object} cache The cache object to inspect.\n   * @param {*} value The value to search for.\n   * @returns {number} Returns `0` if `value` is found, else `-1`.\n   */\n  function cacheIndexOf(cache, value) {\n    var type = typeof value;\n    cache = cache.cache;\n\n    if (type == 'boolean' || value == null) {\n      return cache[value] ? 0 : -1;\n    }\n    if (type != 'number' && type != 'string') {\n      type = 'object';\n    }\n    var key = type == 'number' ? value : keyPrefix + value;\n    cache = (cache = cache[type]) && cache[key];\n\n    return type == 'object'\n      ? (cache && baseIndexOf(cache, value) > -1 ? 0 : -1)\n      : (cache ? 0 : -1);\n  }\n\n  /**\n   * Adds a given value to the corresponding cache object.\n   *\n   * @private\n   * @param {*} value The value to add to the cache.\n   */\n  function cachePush(value) {\n    var cache = this.cache,\n        type = typeof value;\n\n    if (type == 'boolean' || value == null) {\n      cache[value] = true;\n    } else {\n      if (type != 'number' && type != 'string') {\n        type = 'object';\n      }\n      var key = type == 'number' ? value : keyPrefix + value,\n          typeCache = cache[type] || (cache[type] = {});\n\n      if (type == 'object') {\n        (typeCache[key] || (typeCache[key] = [])).push(value);\n      } else {\n        typeCache[key] = true;\n      }\n    }\n  }\n\n  /**\n   * Used by `_.max` and `_.min` as the default callback when a given\n   * collection is a string value.\n   *\n   * @private\n   * @param {string} value The character to inspect.\n   * @returns {number} Returns the code unit of given character.\n   */\n  function charAtCallback(value) {\n    return value.charCodeAt(0);\n  }\n\n  /**\n   * Used by `sortBy` to compare transformed `collection` elements, stable sorting\n   * them in ascending order.\n   *\n   * @private\n   * @param {Object} a The object to compare to `b`.\n   * @param {Object} b The object to compare to `a`.\n   * @returns {number} Returns the sort order indicator of `1` or `-1`.\n   */\n  function compareAscending(a, b) {\n    var ac = a.criteria,\n        bc = b.criteria,\n        index = -1,\n        length = ac.length;\n\n    while (++index < length) {\n      var value = ac[index],\n          other = bc[index];\n\n      if (value !== other) {\n        if (value > other || typeof value == 'undefined') {\n          return 1;\n        }\n        if (value < other || typeof other == 'undefined') {\n          return -1;\n        }\n      }\n    }\n    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n    // that causes it, under certain circumstances, to return the same value for\n    // `a` and `b`. See https://github.com/jashkenas/underscore/pull/1247\n    //\n    // This also ensures a stable sort in V8 and other engines.\n    // See http://code.google.com/p/v8/issues/detail?id=90\n    return a.index - b.index;\n  }\n\n  /**\n   * Creates a cache object to optimize linear searches of large arrays.\n   *\n   * @private\n   * @param {Array} [array=[]] The array to search.\n   * @returns {null|Object} Returns the cache object or `null` if caching should not be used.\n   */\n  function createCache(array) {\n    var index = -1,\n        length = array.length,\n        first = array[0],\n        mid = array[(length / 2) | 0],\n        last = array[length - 1];\n\n    if (first && typeof first == 'object' &&\n        mid && typeof mid == 'object' && last && typeof last == 'object') {\n      return false;\n    }\n    var cache = getObject();\n    cache['false'] = cache['null'] = cache['true'] = cache['undefined'] = false;\n\n    var result = getObject();\n    result.array = array;\n    result.cache = cache;\n    result.push = cachePush;\n\n    while (++index < length) {\n      result.push(array[index]);\n    }\n    return result;\n  }\n\n  /**\n   * Used by `template` to escape characters for inclusion in compiled\n   * string literals.\n   *\n   * @private\n   * @param {string} match The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(match) {\n    return '\\\\' + stringEscapes[match];\n  }\n\n  /**\n   * Gets an array from the array pool or creates a new one if the pool is empty.\n   *\n   * @private\n   * @returns {Array} The array from the pool.\n   */\n  function getArray() {\n    return arrayPool.pop() || [];\n  }\n\n  /**\n   * Gets an object from the object pool or creates a new one if the pool is empty.\n   *\n   * @private\n   * @returns {Object} The object from the pool.\n   */\n  function getObject() {\n    return objectPool.pop() || {\n      'array': null,\n      'cache': null,\n      'criteria': null,\n      'false': false,\n      'index': 0,\n      'null': false,\n      'number': null,\n      'object': null,\n      'push': null,\n      'string': null,\n      'true': false,\n      'undefined': false,\n      'value': null\n    };\n  }\n\n  /**\n   * Releases the given array back to the array pool.\n   *\n   * @private\n   * @param {Array} [array] The array to release.\n   */\n  function releaseArray(array) {\n    array.length = 0;\n    if (arrayPool.length < maxPoolSize) {\n      arrayPool.push(array);\n    }\n  }\n\n  /**\n   * Releases the given object back to the object pool.\n   *\n   * @private\n   * @param {Object} [object] The object to release.\n   */\n  function releaseObject(object) {\n    var cache = object.cache;\n    if (cache) {\n      releaseObject(cache);\n    }\n    object.array = object.cache = object.criteria = object.object = object.number = object.string = object.value = null;\n    if (objectPool.length < maxPoolSize) {\n      objectPool.push(object);\n    }\n  }\n\n  /**\n   * Slices the `collection` from the `start` index up to, but not including,\n   * the `end` index.\n   *\n   * Note: This function is used instead of `Array#slice` to support node lists\n   * in IE < 9 and to ensure dense arrays are returned.\n   *\n   * @private\n   * @param {Array|Object|string} collection The collection to slice.\n   * @param {number} start The start index.\n   * @param {number} end The end index.\n   * @returns {Array} Returns the new array.\n   */\n  function slice(array, start, end) {\n    start || (start = 0);\n    if (typeof end == 'undefined') {\n      end = array ? array.length : 0;\n    }\n    var index = -1,\n        length = end - start || 0,\n        result = Array(length < 0 ? 0 : length);\n\n    while (++index < length) {\n      result[index] = array[start + index];\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new `lodash` function using the given context object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns the `lodash` function.\n   */\n  function runInContext(context) {\n    // Avoid issues with some ES3 environments that attempt to use values, named\n    // after built-in constructors like `Object`, for the creation of literals.\n    // ES5 clears this up by stating that literals must use built-in constructors.\n    // See http://es5.github.io/#x11.1.5.\n    context = context ? _.defaults(root.Object(), context, _.pick(root, contextProps)) : root;\n\n    /** Native constructor references */\n    var Array = context.Array,\n        Boolean = context.Boolean,\n        Date = context.Date,\n        Function = context.Function,\n        Math = context.Math,\n        Number = context.Number,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /**\n     * Used for `Array` method references.\n     *\n     * Normally `Array.prototype` would suffice, however, using an array literal\n     * avoids issues in Narwhal.\n     */\n    var arrayRef = [];\n\n    /** Used for native method references */\n    var objectProto = Object.prototype;\n\n    /** Used to restore the original `_` reference in `noConflict` */\n    var oldDash = context._;\n\n    /** Used to resolve the internal [[Class]] of values */\n    var toString = objectProto.toString;\n\n    /** Used to detect if a method is native */\n    var reNative = RegExp('^' +\n      String(toString)\n        .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n        .replace(/toString| for [^\\]]+/g, '.*?') + '$'\n    );\n\n    /** Native method shortcuts */\n    var ceil = Math.ceil,\n        clearTimeout = context.clearTimeout,\n        floor = Math.floor,\n        fnToString = Function.prototype.toString,\n        getPrototypeOf = isNative(getPrototypeOf = Object.getPrototypeOf) && getPrototypeOf,\n        hasOwnProperty = objectProto.hasOwnProperty,\n        push = arrayRef.push,\n        setTimeout = context.setTimeout,\n        splice = arrayRef.splice,\n        unshift = arrayRef.unshift;\n\n    /** Used to set meta data on functions */\n    var defineProperty = (function() {\n      // IE 8 only accepts DOM elements\n      try {\n        var o = {},\n            func = isNative(func = Object.defineProperty) && func,\n            result = func(o, o, o) && func;\n      } catch(e) { }\n      return result;\n    }());\n\n    /* Native method shortcuts for methods with the same name as other `lodash` methods */\n    var nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate,\n        nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray,\n        nativeIsFinite = context.isFinite,\n        nativeIsNaN = context.isNaN,\n        nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys,\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random;\n\n    /** Used to lookup a built-in constructor by [[Class]] */\n    var ctorByClass = {};\n    ctorByClass[arrayClass] = Array;\n    ctorByClass[boolClass] = Boolean;\n    ctorByClass[dateClass] = Date;\n    ctorByClass[funcClass] = Function;\n    ctorByClass[objectClass] = Object;\n    ctorByClass[numberClass] = Number;\n    ctorByClass[regexpClass] = RegExp;\n    ctorByClass[stringClass] = String;\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps the given value to enable intuitive\n     * method chaining.\n     *\n     * In addition to Lo-Dash methods, wrappers also have the following `Array` methods:\n     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`, `splice`,\n     * and `unshift`\n     *\n     * Chaining is supported in custom builds as long as the `value` method is\n     * implicitly or explicitly included in the build.\n     *\n     * The chainable wrapper functions are:\n     * `after`, `assign`, `bind`, `bindAll`, `bindKey`, `chain`, `compact`,\n     * `compose`, `concat`, `countBy`, `create`, `createCallback`, `curry`,\n     * `debounce`, `defaults`, `defer`, `delay`, `difference`, `filter`, `flatten`,\n     * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,\n     * `functions`, `groupBy`, `indexBy`, `initial`, `intersection`, `invert`,\n     * `invoke`, `keys`, `map`, `max`, `memoize`, `merge`, `min`, `object`, `omit`,\n     * `once`, `pairs`, `partial`, `partialRight`, `pick`, `pluck`, `pull`, `push`,\n     * `range`, `reject`, `remove`, `rest`, `reverse`, `shuffle`, `slice`, `sort`,\n     * `sortBy`, `splice`, `tap`, `throttle`, `times`, `toArray`, `transform`,\n     * `union`, `uniq`, `unshift`, `unzip`, `values`, `where`, `without`, `wrap`,\n     * and `zip`\n     *\n     * The non-chainable wrapper functions are:\n     * `clone`, `cloneDeep`, `contains`, `escape`, `every`, `find`, `findIndex`,\n     * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `has`, `identity`,\n     * `indexOf`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`,\n     * `isEmpty`, `isEqual`, `isFinite`, `isFunction`, `isNaN`, `isNull`, `isNumber`,\n     * `isObject`, `isPlainObject`, `isRegExp`, `isString`, `isUndefined`, `join`,\n     * `lastIndexOf`, `mixin`, `noConflict`, `parseInt`, `pop`, `random`, `reduce`,\n     * `reduceRight`, `result`, `shift`, `size`, `some`, `sortedIndex`, `runInContext`,\n     * `template`, `unescape`, `uniqueId`, and `value`\n     *\n     * The wrapper functions `first` and `last` return wrapped values when `n` is\n     * provided, otherwise they return unwrapped values.\n     *\n     * Explicit chaining can be enabled by using the `_.chain` method.\n     *\n     * @name _\n     * @constructor\n     * @category Chaining\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns a `lodash` instance.\n     * @example\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // returns an unwrapped value\n     * wrapped.reduce(function(sum, num) {\n     *   return sum + num;\n     * });\n     * // => 6\n     *\n     * // returns a wrapped value\n     * var squares = wrapped.map(function(num) {\n     *   return num * num;\n     * });\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      // don't wrap if already wrapped, even if wrapped by a different `lodash` constructor\n      return (value && typeof value == 'object' && !isArray(value) && hasOwnProperty.call(value, '__wrapped__'))\n       ? value\n       : new lodashWrapper(value);\n    }\n\n    /**\n     * A fast path for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @param {boolean} chainAll A flag to enable chaining for all methods\n     * @returns {Object} Returns a `lodash` instance.\n     */\n    function lodashWrapper(value, chainAll) {\n      this.__chain__ = !!chainAll;\n      this.__wrapped__ = value;\n    }\n    // ensure `new lodashWrapper` is an instance of `lodash`\n    lodashWrapper.prototype = lodash.prototype;\n\n    /**\n     * An object used to flag environments features.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    var support = lodash.support = {};\n\n    /**\n     * Detect if functions can be decompiled by `Function#toString`\n     * (all but PS3 and older Opera mobile browsers & avoided in Windows 8 apps).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.funcDecomp = !isNative(context.WinRTError) && reThis.test(runInContext);\n\n    /**\n     * Detect if `Function#name` is supported (all but IE).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.funcNames = typeof Function.name == 'string';\n\n    /**\n     * By default, the template delimiters used by Lo-Dash are similar to those in\n     * embedded Ruby (ERB). Change the following template settings to use alternative\n     * delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'escape': /<%-([\\s\\S]+?)%>/g,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'evaluate': /<%([\\s\\S]+?)%>/g,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type string\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type Object\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type Function\n         */\n        '_': lodash\n      }\n    };\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * The base implementation of `_.bind` that creates the bound function and\n     * sets its meta data.\n     *\n     * @private\n     * @param {Array} bindData The bind data array.\n     * @returns {Function} Returns the new bound function.\n     */\n    function baseBind(bindData) {\n      var func = bindData[0],\n          partialArgs = bindData[2],\n          thisArg = bindData[4];\n\n      function bound() {\n        // `Function#bind` spec\n        // http://es5.github.io/#x15.3.4.5\n        if (partialArgs) {\n          // avoid `arguments` object deoptimizations by using `slice` instead\n          // of `Array.prototype.slice.call` and not assigning `arguments` to a\n          // variable as a ternary expression\n          var args = slice(partialArgs);\n          push.apply(args, arguments);\n        }\n        // mimic the constructor's `return` behavior\n        // http://es5.github.io/#x13.2.2\n        if (this instanceof bound) {\n          // ensure `new bound` is an instance of `func`\n          var thisBinding = baseCreate(func.prototype),\n              result = func.apply(thisBinding, args || arguments);\n          return isObject(result) ? result : thisBinding;\n        }\n        return func.apply(thisArg, args || arguments);\n      }\n      setBindData(bound, bindData);\n      return bound;\n    }\n\n    /**\n     * The base implementation of `_.clone` without argument juggling or support\n     * for `thisArg` binding.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep=false] Specify a deep clone.\n     * @param {Function} [callback] The function to customize cloning values.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates clones with source counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, isDeep, callback, stackA, stackB) {\n      if (callback) {\n        var result = callback(value);\n        if (typeof result != 'undefined') {\n          return result;\n        }\n      }\n      // inspect [[Class]]\n      var isObj = isObject(value);\n      if (isObj) {\n        var className = toString.call(value);\n        if (!cloneableClasses[className]) {\n          return value;\n        }\n        var ctor = ctorByClass[className];\n        switch (className) {\n          case boolClass:\n          case dateClass:\n            return new ctor(+value);\n\n          case numberClass:\n          case stringClass:\n            return new ctor(value);\n\n          case regexpClass:\n            result = ctor(value.source, reFlags.exec(value));\n            result.lastIndex = value.lastIndex;\n            return result;\n        }\n      } else {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isDeep) {\n        // check for circular references and return corresponding clone\n        var initedStack = !stackA;\n        stackA || (stackA = getArray());\n        stackB || (stackB = getArray());\n\n        var length = stackA.length;\n        while (length--) {\n          if (stackA[length] == value) {\n            return stackB[length];\n          }\n        }\n        result = isArr ? ctor(value.length) : {};\n      }\n      else {\n        result = isArr ? slice(value) : assign({}, value);\n      }\n      // add array properties assigned by `RegExp#exec`\n      if (isArr) {\n        if (hasOwnProperty.call(value, 'index')) {\n          result.index = value.index;\n        }\n        if (hasOwnProperty.call(value, 'input')) {\n          result.input = value.input;\n        }\n      }\n      // exit for shallow clone\n      if (!isDeep) {\n        return result;\n      }\n      // add the source value to the stack of traversed objects\n      // and associate it with its clone\n      stackA.push(value);\n      stackB.push(result);\n\n      // recursively populate clone (susceptible to call stack limits)\n      (isArr ? forEach : forOwn)(value, function(objValue, key) {\n        result[key] = baseClone(objValue, isDeep, callback, stackA, stackB);\n      });\n\n      if (initedStack) {\n        releaseArray(stackA);\n        releaseArray(stackB);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} prototype The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    function baseCreate(prototype, properties) {\n      return isObject(prototype) ? nativeCreate(prototype) : {};\n    }\n    // fallback for browsers without `Object.create`\n    if (!nativeCreate) {\n      baseCreate = (function() {\n        function Object() {}\n        return function(prototype) {\n          if (isObject(prototype)) {\n            Object.prototype = prototype;\n            var result = new Object;\n            Object.prototype = null;\n          }\n          return result || context.Object();\n        };\n      }());\n    }\n\n    /**\n     * The base implementation of `_.createCallback` without support for creating\n     * \"_.pluck\" or \"_.where\" style callbacks.\n     *\n     * @private\n     * @param {*} [func=identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of the created callback.\n     * @param {number} [argCount] The number of arguments the callback accepts.\n     * @returns {Function} Returns a callback function.\n     */\n    function baseCreateCallback(func, thisArg, argCount) {\n      if (typeof func != 'function') {\n        return identity;\n      }\n      // exit early for no `thisArg` or already bound by `Function#bind`\n      if (typeof thisArg == 'undefined' || !('prototype' in func)) {\n        return func;\n      }\n      var bindData = func.__bindData__;\n      if (typeof bindData == 'undefined') {\n        if (support.funcNames) {\n          bindData = !func.name;\n        }\n        bindData = bindData || !support.funcDecomp;\n        if (!bindData) {\n          var source = fnToString.call(func);\n          if (!support.funcNames) {\n            bindData = !reFuncName.test(source);\n          }\n          if (!bindData) {\n            // checks if `func` references the `this` keyword and stores the result\n            bindData = reThis.test(source);\n            setBindData(func, bindData);\n          }\n        }\n      }\n      // exit early if there are no `this` references or `func` is bound\n      if (bindData === false || (bindData !== true && bindData[1] & 1)) {\n        return func;\n      }\n      switch (argCount) {\n        case 1: return function(value) {\n          return func.call(thisArg, value);\n        };\n        case 2: return function(a, b) {\n          return func.call(thisArg, a, b);\n        };\n        case 3: return function(value, index, collection) {\n          return func.call(thisArg, value, index, collection);\n        };\n        case 4: return function(accumulator, value, index, collection) {\n          return func.call(thisArg, accumulator, value, index, collection);\n        };\n      }\n      return bind(func, thisArg);\n    }\n\n    /**\n     * The base implementation of `createWrapper` that creates the wrapper and\n     * sets its meta data.\n     *\n     * @private\n     * @param {Array} bindData The bind data array.\n     * @returns {Function} Returns the new function.\n     */\n    function baseCreateWrapper(bindData) {\n      var func = bindData[0],\n          bitmask = bindData[1],\n          partialArgs = bindData[2],\n          partialRightArgs = bindData[3],\n          thisArg = bindData[4],\n          arity = bindData[5];\n\n      var isBind = bitmask & 1,\n          isBindKey = bitmask & 2,\n          isCurry = bitmask & 4,\n          isCurryBound = bitmask & 8,\n          key = func;\n\n      function bound() {\n        var thisBinding = isBind ? thisArg : this;\n        if (partialArgs) {\n          var args = slice(partialArgs);\n          push.apply(args, arguments);\n        }\n        if (partialRightArgs || isCurry) {\n          args || (args = slice(arguments));\n          if (partialRightArgs) {\n            push.apply(args, partialRightArgs);\n          }\n          if (isCurry && args.length < arity) {\n            bitmask |= 16 & ~32;\n            return baseCreateWrapper([func, (isCurryBound ? bitmask : bitmask & ~3), args, null, thisArg, arity]);\n          }\n        }\n        args || (args = arguments);\n        if (isBindKey) {\n          func = thisBinding[key];\n        }\n        if (this instanceof bound) {\n          thisBinding = baseCreate(func.prototype);\n          var result = func.apply(thisBinding, args);\n          return isObject(result) ? result : thisBinding;\n        }\n        return func.apply(thisBinding, args);\n      }\n      setBindData(bound, bindData);\n      return bound;\n    }\n\n    /**\n     * The base implementation of `_.difference` that accepts a single array\n     * of values to exclude.\n     *\n     * @private\n     * @param {Array} array The array to process.\n     * @param {Array} [values] The array of values to exclude.\n     * @returns {Array} Returns a new array of filtered values.\n     */\n    function baseDifference(array, values) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array ? array.length : 0,\n          isLarge = length >= largeArraySize && indexOf === baseIndexOf,\n          result = [];\n\n      if (isLarge) {\n        var cache = createCache(values);\n        if (cache) {\n          indexOf = cacheIndexOf;\n          values = cache;\n        } else {\n          isLarge = false;\n        }\n      }\n      while (++index < length) {\n        var value = array[index];\n        if (indexOf(values, value) < 0) {\n          result.push(value);\n        }\n      }\n      if (isLarge) {\n        releaseObject(values);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` without support for callback\n     * shorthands or `thisArg` binding.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isShallow=false] A flag to restrict flattening to a single level.\n     * @param {boolean} [isStrict=false] A flag to restrict flattening to arrays and `arguments` objects.\n     * @param {number} [fromIndex=0] The index to start from.\n     * @returns {Array} Returns a new flattened array.\n     */\n    function baseFlatten(array, isShallow, isStrict, fromIndex) {\n      var index = (fromIndex || 0) - 1,\n          length = array ? array.length : 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n\n        if (value && typeof value == 'object' && typeof value.length == 'number'\n            && (isArray(value) || isArguments(value))) {\n          // recursively flatten arrays (susceptible to call stack limits)\n          if (!isShallow) {\n            value = baseFlatten(value, isShallow, isStrict);\n          }\n          var valIndex = -1,\n              valLength = value.length,\n              resIndex = result.length;\n\n          result.length += valLength;\n          while (++valIndex < valLength) {\n            result[resIndex++] = value[valIndex];\n          }\n        } else if (!isStrict) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.isEqual`, without support for `thisArg` binding,\n     * that allows partial \"_.where\" style comparisons.\n     *\n     * @private\n     * @param {*} a The value to compare.\n     * @param {*} b The other value to compare.\n     * @param {Function} [callback] The function to customize comparing values.\n     * @param {Function} [isWhere=false] A flag to indicate performing partial comparisons.\n     * @param {Array} [stackA=[]] Tracks traversed `a` objects.\n     * @param {Array} [stackB=[]] Tracks traversed `b` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(a, b, callback, isWhere, stackA, stackB) {\n      // used to indicate that when comparing objects, `a` has at least the properties of `b`\n      if (callback) {\n        var result = callback(a, b);\n        if (typeof result != 'undefined') {\n          return !!result;\n        }\n      }\n      // exit early for identical values\n      if (a === b) {\n        // treat `+0` vs. `-0` as not equal\n        return a !== 0 || (1 / a == 1 / b);\n      }\n      var type = typeof a,\n          otherType = typeof b;\n\n      // exit early for unlike primitive values\n      if (a === a &&\n          !(a && objectTypes[type]) &&\n          !(b && objectTypes[otherType])) {\n        return false;\n      }\n      // exit early for `null` and `undefined` avoiding ES3's Function#call behavior\n      // http://es5.github.io/#x15.3.4.4\n      if (a == null || b == null) {\n        return a === b;\n      }\n      // compare [[Class]] names\n      var className = toString.call(a),\n          otherClass = toString.call(b);\n\n      if (className == argsClass) {\n        className = objectClass;\n      }\n      if (otherClass == argsClass) {\n        otherClass = objectClass;\n      }\n      if (className != otherClass) {\n        return false;\n      }\n      switch (className) {\n        case boolClass:\n        case dateClass:\n          // coerce dates and booleans to numbers, dates to milliseconds and booleans\n          // to `1` or `0` treating invalid dates coerced to `NaN` as not equal\n          return +a == +b;\n\n        case numberClass:\n          // treat `NaN` vs. `NaN` as equal\n          return (a != +a)\n            ? b != +b\n            // but treat `+0` vs. `-0` as not equal\n            : (a == 0 ? (1 / a == 1 / b) : a == +b);\n\n        case regexpClass:\n        case stringClass:\n          // coerce regexes to strings (http://es5.github.io/#x15.10.6.4)\n          // treat string primitives and their corresponding object instances as equal\n          return a == String(b);\n      }\n      var isArr = className == arrayClass;\n      if (!isArr) {\n        // unwrap any `lodash` wrapped values\n        var aWrapped = hasOwnProperty.call(a, '__wrapped__'),\n            bWrapped = hasOwnProperty.call(b, '__wrapped__');\n\n        if (aWrapped || bWrapped) {\n          return baseIsEqual(aWrapped ? a.__wrapped__ : a, bWrapped ? b.__wrapped__ : b, callback, isWhere, stackA, stackB);\n        }\n        // exit for functions and DOM nodes\n        if (className != objectClass) {\n          return false;\n        }\n        // in older versions of Opera, `arguments` objects have `Array` constructors\n        var ctorA = a.constructor,\n            ctorB = b.constructor;\n\n        // non `Object` object instances with different constructors are not equal\n        if (ctorA != ctorB &&\n              !(isFunction(ctorA) && ctorA instanceof ctorA && isFunction(ctorB) && ctorB instanceof ctorB) &&\n              ('constructor' in a && 'constructor' in b)\n            ) {\n          return false;\n        }\n      }\n      // assume cyclic structures are equal\n      // the algorithm for detecting cyclic structures is adapted from ES 5.1\n      // section 15.12.3, abstract operation `JO` (http://es5.github.io/#x15.12.3)\n      var initedStack = !stackA;\n      stackA || (stackA = getArray());\n      stackB || (stackB = getArray());\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == a) {\n          return stackB[length] == b;\n        }\n      }\n      var size = 0;\n      result = true;\n\n      // add `a` and `b` to the stack of traversed objects\n      stackA.push(a);\n      stackB.push(b);\n\n      // recursively compare objects and arrays (susceptible to call stack limits)\n      if (isArr) {\n        // compare lengths to determine if a deep comparison is necessary\n        length = a.length;\n        size = b.length;\n        result = size == length;\n\n        if (result || isWhere) {\n          // deep compare the contents, ignoring non-numeric properties\n          while (size--) {\n            var index = length,\n                value = b[size];\n\n            if (isWhere) {\n              while (index--) {\n                if ((result = baseIsEqual(a[index], value, callback, isWhere, stackA, stackB))) {\n                  break;\n                }\n              }\n            } else if (!(result = baseIsEqual(a[size], value, callback, isWhere, stackA, stackB))) {\n              break;\n            }\n          }\n        }\n      }\n      else {\n        // deep compare objects using `forIn`, instead of `forOwn`, to avoid `Object.keys`\n        // which, in this case, is more costly\n        forIn(b, function(value, key, b) {\n          if (hasOwnProperty.call(b, key)) {\n            // count the number of properties.\n            size++;\n            // deep compare each property value.\n            return (result = hasOwnProperty.call(a, key) && baseIsEqual(a[key], value, callback, isWhere, stackA, stackB));\n          }\n        });\n\n        if (result && !isWhere) {\n          // ensure both objects have the same number of properties\n          forIn(a, function(value, key, a) {\n            if (hasOwnProperty.call(a, key)) {\n              // `size` will be `-1` if `a` has more properties than `b`\n              return (result = --size > -1);\n            }\n          });\n        }\n      }\n      stackA.pop();\n      stackB.pop();\n\n      if (initedStack) {\n        releaseArray(stackA);\n        releaseArray(stackB);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.merge` without argument juggling or support\n     * for `thisArg` binding.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} [callback] The function to customize merging properties.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     */\n    function baseMerge(object, source, callback, stackA, stackB) {\n      (isArray(source) ? forEach : forOwn)(source, function(source, key) {\n        var found,\n            isArr,\n            result = source,\n            value = object[key];\n\n        if (source && ((isArr = isArray(source)) || isPlainObject(source))) {\n          // avoid merging previously merged cyclic sources\n          var stackLength = stackA.length;\n          while (stackLength--) {\n            if ((found = stackA[stackLength] == source)) {\n              value = stackB[stackLength];\n              break;\n            }\n          }\n          if (!found) {\n            var isShallow;\n            if (callback) {\n              result = callback(value, source);\n              if ((isShallow = typeof result != 'undefined')) {\n                value = result;\n              }\n            }\n            if (!isShallow) {\n              value = isArr\n                ? (isArray(value) ? value : [])\n                : (isPlainObject(value) ? value : {});\n            }\n            // add `source` and associated `value` to the stack of traversed objects\n            stackA.push(source);\n            stackB.push(value);\n\n            // recursively merge objects and arrays (susceptible to call stack limits)\n            if (!isShallow) {\n              baseMerge(value, source, callback, stackA, stackB);\n            }\n          }\n        }\n        else {\n          if (callback) {\n            result = callback(value, source);\n            if (typeof result == 'undefined') {\n              result = source;\n            }\n          }\n          if (typeof result != 'undefined') {\n            value = result;\n          }\n        }\n        object[key] = value;\n      });\n    }\n\n    /**\n     * The base implementation of `_.random` without argument juggling or support\n     * for returning floating-point numbers.\n     *\n     * @private\n     * @param {number} min The minimum possible value.\n     * @param {number} max The maximum possible value.\n     * @returns {number} Returns a random number.\n     */\n    function baseRandom(min, max) {\n      return min + floor(nativeRandom() * (max - min + 1));\n    }\n\n    /**\n     * The base implementation of `_.uniq` without support for callback shorthands\n     * or `thisArg` binding.\n     *\n     * @private\n     * @param {Array} array The array to process.\n     * @param {boolean} [isSorted=false] A flag to indicate that `array` is sorted.\n     * @param {Function} [callback] The function called per iteration.\n     * @returns {Array} Returns a duplicate-value-free array.\n     */\n    function baseUniq(array, isSorted, callback) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array ? array.length : 0,\n          result = [];\n\n      var isLarge = !isSorted && length >= largeArraySize && indexOf === baseIndexOf,\n          seen = (callback || isLarge) ? getArray() : result;\n\n      if (isLarge) {\n        var cache = createCache(seen);\n        indexOf = cacheIndexOf;\n        seen = cache;\n      }\n      while (++index < length) {\n        var value = array[index],\n            computed = callback ? callback(value, index, array) : value;\n\n        if (isSorted\n              ? !index || seen[seen.length - 1] !== computed\n              : indexOf(seen, computed) < 0\n            ) {\n          if (callback || isLarge) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      if (isLarge) {\n        releaseArray(seen.array);\n        releaseObject(seen);\n      } else if (callback) {\n        releaseArray(seen);\n      }\n      return result;\n    }\n\n    /**\n     * Creates a function that aggregates a collection, creating an object composed\n     * of keys generated from the results of running each element of the collection\n     * through a callback. The given `setter` function sets the keys and values\n     * of the composed object.\n     *\n     * @private\n     * @param {Function} setter The setter function.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter) {\n      return function(collection, callback, thisArg) {\n        var result = {};\n        callback = lodash.createCallback(callback, thisArg, 3);\n\n        var index = -1,\n            length = collection ? collection.length : 0;\n\n        if (typeof length == 'number') {\n          while (++index < length) {\n            var value = collection[index];\n            setter(result, value, callback(value, index, collection), collection);\n          }\n        } else {\n          forOwn(collection, function(value, key, collection) {\n            setter(result, value, callback(value, key, collection), collection);\n          });\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that, when called, either curries or invokes `func`\n     * with an optional `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of method flags to compose.\n     *  The bitmask may be composed of the following flags:\n     *  1 - `_.bind`\n     *  2 - `_.bindKey`\n     *  4 - `_.curry`\n     *  8 - `_.curry` (bound)\n     *  16 - `_.partial`\n     *  32 - `_.partialRight`\n     * @param {Array} [partialArgs] An array of arguments to prepend to those\n     *  provided to the new function.\n     * @param {Array} [partialRightArgs] An array of arguments to append to those\n     *  provided to the new function.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new function.\n     */\n    function createWrapper(func, bitmask, partialArgs, partialRightArgs, thisArg, arity) {\n      var isBind = bitmask & 1,\n          isBindKey = bitmask & 2,\n          isCurry = bitmask & 4,\n          isCurryBound = bitmask & 8,\n          isPartial = bitmask & 16,\n          isPartialRight = bitmask & 32;\n\n      if (!isBindKey && !isFunction(func)) {\n        throw new TypeError;\n      }\n      if (isPartial && !partialArgs.length) {\n        bitmask &= ~16;\n        isPartial = partialArgs = false;\n      }\n      if (isPartialRight && !partialRightArgs.length) {\n        bitmask &= ~32;\n        isPartialRight = partialRightArgs = false;\n      }\n      var bindData = func && func.__bindData__;\n      if (bindData && bindData !== true) {\n        // clone `bindData`\n        bindData = slice(bindData);\n        if (bindData[2]) {\n          bindData[2] = slice(bindData[2]);\n        }\n        if (bindData[3]) {\n          bindData[3] = slice(bindData[3]);\n        }\n        // set `thisBinding` is not previously bound\n        if (isBind && !(bindData[1] & 1)) {\n          bindData[4] = thisArg;\n        }\n        // set if previously bound but not currently (subsequent curried functions)\n        if (!isBind && bindData[1] & 1) {\n          bitmask |= 8;\n        }\n        // set curried arity if not yet set\n        if (isCurry && !(bindData[1] & 4)) {\n          bindData[5] = arity;\n        }\n        // append partial left arguments\n        if (isPartial) {\n          push.apply(bindData[2] || (bindData[2] = []), partialArgs);\n        }\n        // append partial right arguments\n        if (isPartialRight) {\n          unshift.apply(bindData[3] || (bindData[3] = []), partialRightArgs);\n        }\n        // merge flags\n        bindData[1] |= bitmask;\n        return createWrapper.apply(null, bindData);\n      }\n      // fast path for `_.bind`\n      var creater = (bitmask == 1 || bitmask === 17) ? baseBind : baseCreateWrapper;\n      return creater([func, bitmask, partialArgs, partialRightArgs, thisArg, arity]);\n    }\n\n    /**\n     * Used by `escape` to convert characters to HTML entities.\n     *\n     * @private\n     * @param {string} match The matched character to escape.\n     * @returns {string} Returns the escaped character.\n     */\n    function escapeHtmlChar(match) {\n      return htmlEscapes[match];\n    }\n\n    /**\n     * Gets the appropriate \"indexOf\" function. If the `_.indexOf` method is\n     * customized, this method returns the custom method, otherwise it returns\n     * the `baseIndexOf` function.\n     *\n     * @private\n     * @returns {Function} Returns the \"indexOf\" function.\n     */\n    function getIndexOf() {\n      var result = (result = lodash.indexOf) === indexOf ? baseIndexOf : result;\n      return result;\n    }\n\n    /**\n     * Checks if `value` is a native function.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a native function, else `false`.\n     */\n    function isNative(value) {\n      return typeof value == 'function' && reNative.test(value);\n    }\n\n    /**\n     * Sets `this` binding data on a given function.\n     *\n     * @private\n     * @param {Function} func The function to set data on.\n     * @param {Array} value The data array to set.\n     */\n    var setBindData = !defineProperty ? noop : function(func, value) {\n      descriptor.value = value;\n      defineProperty(func, '__bindData__', descriptor);\n      descriptor.value = null;\n    };\n\n    /**\n     * A fallback implementation of `isPlainObject` which checks if a given value\n     * is an object created by the `Object` constructor, assuming objects created\n     * by the `Object` constructor have no inherited enumerable properties and that\n     * there are no `Object.prototype` extensions.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     */\n    function shimIsPlainObject(value) {\n      var ctor,\n          result;\n\n      // avoid non Object objects, `arguments` objects, and DOM elements\n      if (!(value && toString.call(value) == objectClass) ||\n          (ctor = value.constructor, isFunction(ctor) && !(ctor instanceof ctor))) {\n        return false;\n      }\n      // In most environments an object's own properties are iterated before\n      // its inherited properties. If the last iterated property is an object's\n      // own property then there are no inherited enumerable properties.\n      forIn(value, function(value, key) {\n        result = key;\n      });\n      return typeof result == 'undefined' || hasOwnProperty.call(value, result);\n    }\n\n    /**\n     * Used by `unescape` to convert HTML entities to characters.\n     *\n     * @private\n     * @param {string} match The matched character to unescape.\n     * @returns {string} Returns the unescaped character.\n     */\n    function unescapeHtmlChar(match) {\n      return htmlUnescapes[match];\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Checks if `value` is an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is an `arguments` object, else `false`.\n     * @example\n     *\n     * (function() { return _.isArguments(arguments); })(1, 2, 3);\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    function isArguments(value) {\n      return value && typeof value == 'object' && typeof value.length == 'number' &&\n        toString.call(value) == argsClass || false;\n    }\n\n    /**\n     * Checks if `value` is an array.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is an array, else `false`.\n     * @example\n     *\n     * (function() { return _.isArray(arguments); })();\n     * // => false\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     */\n    var isArray = nativeIsArray || function(value) {\n      return value && typeof value == 'object' && typeof value.length == 'number' &&\n        toString.call(value) == arrayClass || false;\n    };\n\n    /**\n     * A fallback implementation of `Object.keys` which produces an array of the\n     * given object's own enumerable property names.\n     *\n     * @private\n     * @type Function\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns an array of property names.\n     */\n    var shimKeys = function(object) {\n      var index, iterable = object, result = [];\n      if (!iterable) return result;\n      if (!(objectTypes[typeof object])) return result;\n        for (index in iterable) {\n          if (hasOwnProperty.call(iterable, index)) {\n            result.push(index);\n          }\n        }\n      return result\n    };\n\n    /**\n     * Creates an array composed of the own enumerable property names of an object.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns an array of property names.\n     * @example\n     *\n     * _.keys({ 'one': 1, 'two': 2, 'three': 3 });\n     * // => ['one', 'two', 'three'] (property order is not guaranteed across environments)\n     */\n    var keys = !nativeKeys ? shimKeys : function(object) {\n      if (!isObject(object)) {\n        return [];\n      }\n      return nativeKeys(object);\n    };\n\n    /**\n     * Used to convert characters to HTML entities:\n     *\n     * Though the `>` character is escaped for symmetry, characters like `>` and `/`\n     * don't require escaping in HTML and have no special meaning unless they're part\n     * of a tag or an unquoted attribute value.\n     * http://mathiasbynens.be/notes/ambiguous-ampersands (under \"semi-related fun fact\")\n     */\n    var htmlEscapes = {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#39;'\n    };\n\n    /** Used to convert HTML entities to characters */\n    var htmlUnescapes = invert(htmlEscapes);\n\n    /** Used to match HTML entities and HTML characters */\n    var reEscapedHtml = RegExp('(' + keys(htmlUnescapes).join('|') + ')', 'g'),\n        reUnescapedHtml = RegExp('[' + keys(htmlEscapes).join('') + ']', 'g');\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object. Subsequent sources will overwrite property assignments of previous\n     * sources. If a callback is provided it will be executed to produce the\n     * assigned values. The callback is bound to `thisArg` and invoked with two\n     * arguments; (objectValue, sourceValue).\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @alias extend\n     * @category Objects\n     * @param {Object} object The destination object.\n     * @param {...Object} [source] The source objects.\n     * @param {Function} [callback] The function to customize assigning values.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the destination object.\n     * @example\n     *\n     * _.assign({ 'name': 'fred' }, { 'employer': 'slate' });\n     * // => { 'name': 'fred', 'employer': 'slate' }\n     *\n     * var defaults = _.partialRight(_.assign, function(a, b) {\n     *   return typeof a == 'undefined' ? b : a;\n     * });\n     *\n     * var object = { 'name': 'barney' };\n     * defaults(object, { 'name': 'fred', 'employer': 'slate' });\n     * // => { 'name': 'barney', 'employer': 'slate' }\n     */\n    var assign = function(object, source, guard) {\n      var index, iterable = object, result = iterable;\n      if (!iterable) return result;\n      var args = arguments,\n          argsIndex = 0,\n          argsLength = typeof guard == 'number' ? 2 : args.length;\n      if (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n        var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n      } else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n        callback = args[--argsLength];\n      }\n      while (++argsIndex < argsLength) {\n        iterable = args[argsIndex];\n        if (iterable && objectTypes[typeof iterable]) {\n        var ownIndex = -1,\n            ownProps = objectTypes[typeof iterable] && keys(iterable),\n            length = ownProps ? ownProps.length : 0;\n\n        while (++ownIndex < length) {\n          index = ownProps[ownIndex];\n          result[index] = callback ? callback(result[index], iterable[index]) : iterable[index];\n        }\n        }\n      }\n      return result\n    };\n\n    /**\n     * Creates a clone of `value`. If `isDeep` is `true` nested objects will also\n     * be cloned, otherwise they will be assigned by reference. If a callback\n     * is provided it will be executed to produce the cloned values. If the\n     * callback returns `undefined` cloning will be handled by the method instead.\n     * The callback is bound to `thisArg` and invoked with one argument; (value).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep=false] Specify a deep clone.\n     * @param {Function} [callback] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the cloned value.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * var shallow = _.clone(characters);\n     * shallow[0] === characters[0];\n     * // => true\n     *\n     * var deep = _.clone(characters, true);\n     * deep[0] === characters[0];\n     * // => false\n     *\n     * _.mixin({\n     *   'clone': _.partialRight(_.clone, function(value) {\n     *     return _.isElement(value) ? value.cloneNode(false) : undefined;\n     *   })\n     * });\n     *\n     * var clone = _.clone(document.body);\n     * clone.childNodes.length;\n     * // => 0\n     */\n    function clone(value, isDeep, callback, thisArg) {\n      // allows working with \"Collections\" methods without using their `index`\n      // and `collection` arguments for `isDeep` and `callback`\n      if (typeof isDeep != 'boolean' && isDeep != null) {\n        thisArg = callback;\n        callback = isDeep;\n        isDeep = false;\n      }\n      return baseClone(value, isDeep, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 1));\n    }\n\n    /**\n     * Creates a deep clone of `value`. If a callback is provided it will be\n     * executed to produce the cloned values. If the callback returns `undefined`\n     * cloning will be handled by the method instead. The callback is bound to\n     * `thisArg` and invoked with one argument; (value).\n     *\n     * Note: This method is loosely based on the structured clone algorithm. Functions\n     * and DOM nodes are **not** cloned. The enumerable properties of `arguments` objects and\n     * objects created by constructors other than `Object` are cloned to plain `Object` objects.\n     * See http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to deep clone.\n     * @param {Function} [callback] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the deep cloned value.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * var deep = _.cloneDeep(characters);\n     * deep[0] === characters[0];\n     * // => false\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'node': element\n     * };\n     *\n     * var clone = _.cloneDeep(view, function(value) {\n     *   return _.isElement(value) ? value.cloneNode(true) : undefined;\n     * });\n     *\n     * clone.node == view.node;\n     * // => false\n     */\n    function cloneDeep(value, callback, thisArg) {\n      return baseClone(value, true, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 1));\n    }\n\n    /**\n     * Creates an object that inherits from the given `prototype` object. If a\n     * `properties` object is provided its own enumerable properties are assigned\n     * to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, { 'constructor': Circle });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties ? assign(result, properties) : result;\n    }\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object for all destination properties that resolve to `undefined`. Once a\n     * property is set, additional defaults of the same property will be ignored.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Objects\n     * @param {Object} object The destination object.\n     * @param {...Object} [source] The source objects.\n     * @param- {Object} [guard] Allows working with `_.reduce` without using its\n     *  `key` and `object` arguments as sources.\n     * @returns {Object} Returns the destination object.\n     * @example\n     *\n     * var object = { 'name': 'barney' };\n     * _.defaults(object, { 'name': 'fred', 'employer': 'slate' });\n     * // => { 'name': 'barney', 'employer': 'slate' }\n     */\n    var defaults = function(object, source, guard) {\n      var index, iterable = object, result = iterable;\n      if (!iterable) return result;\n      var args = arguments,\n          argsIndex = 0,\n          argsLength = typeof guard == 'number' ? 2 : args.length;\n      while (++argsIndex < argsLength) {\n        iterable = args[argsIndex];\n        if (iterable && objectTypes[typeof iterable]) {\n        var ownIndex = -1,\n            ownProps = objectTypes[typeof iterable] && keys(iterable),\n            length = ownProps ? ownProps.length : 0;\n\n        while (++ownIndex < length) {\n          index = ownProps[ownIndex];\n          if (typeof result[index] == 'undefined') result[index] = iterable[index];\n        }\n        }\n      }\n      return result\n    };\n\n    /**\n     * This method is like `_.findIndex` except that it returns the key of the\n     * first element that passes the callback check, instead of the element itself.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [callback=identity] The function called per\n     *  iteration. If a property name or object is provided it will be used to\n     *  create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {string|undefined} Returns the key of the found element, else `undefined`.\n     * @example\n     *\n     * var characters = {\n     *   'barney': {  'age': 36, 'blocked': false },\n     *   'fred': {    'age': 40, 'blocked': true },\n     *   'pebbles': { 'age': 1,  'blocked': false }\n     * };\n     *\n     * _.findKey(characters, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => 'barney' (property order is not guaranteed across environments)\n     *\n     * // using \"_.where\" callback shorthand\n     * _.findKey(characters, { 'age': 1 });\n     * // => 'pebbles'\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.findKey(characters, 'blocked');\n     * // => 'fred'\n     */\n    function findKey(object, callback, thisArg) {\n      var result;\n      callback = lodash.createCallback(callback, thisArg, 3);\n      forOwn(object, function(value, key, object) {\n        if (callback(value, key, object)) {\n          result = key;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements\n     * of a `collection` in the opposite order.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [callback=identity] The function called per\n     *  iteration. If a property name or object is provided it will be used to\n     *  create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {string|undefined} Returns the key of the found element, else `undefined`.\n     * @example\n     *\n     * var characters = {\n     *   'barney': {  'age': 36, 'blocked': true },\n     *   'fred': {    'age': 40, 'blocked': false },\n     *   'pebbles': { 'age': 1,  'blocked': true }\n     * };\n     *\n     * _.findLastKey(characters, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => returns `pebbles`, assuming `_.findKey` returns `barney`\n     *\n     * // using \"_.where\" callback shorthand\n     * _.findLastKey(characters, { 'age': 40 });\n     * // => 'fred'\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.findLastKey(characters, 'blocked');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, callback, thisArg) {\n      var result;\n      callback = lodash.createCallback(callback, thisArg, 3);\n      forOwnRight(object, function(value, key, object) {\n        if (callback(value, key, object)) {\n          result = key;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Iterates over own and inherited enumerable properties of an object,\n     * executing the callback for each property. The callback is bound to `thisArg`\n     * and invoked with three arguments; (value, key, object). Callbacks may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * Shape.prototype.move = function(x, y) {\n     *   this.x += x;\n     *   this.y += y;\n     * };\n     *\n     * _.forIn(new Shape, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'x', 'y', and 'move' (property order is not guaranteed across environments)\n     */\n    var forIn = function(collection, callback, thisArg) {\n      var index, iterable = collection, result = iterable;\n      if (!iterable) return result;\n      if (!objectTypes[typeof iterable]) return result;\n      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n        for (index in iterable) {\n          if (callback(iterable[index], index, collection) === false) return result;\n        }\n      return result\n    };\n\n    /**\n     * This method is like `_.forIn` except that it iterates over elements\n     * of a `collection` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * Shape.prototype.move = function(x, y) {\n     *   this.x += x;\n     *   this.y += y;\n     * };\n     *\n     * _.forInRight(new Shape, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'move', 'y', and 'x' assuming `_.forIn ` logs 'x', 'y', and 'move'\n     */\n    function forInRight(object, callback, thisArg) {\n      var pairs = [];\n\n      forIn(object, function(value, key) {\n        pairs.push(key, value);\n      });\n\n      var length = pairs.length;\n      callback = baseCreateCallback(callback, thisArg, 3);\n      while (length--) {\n        if (callback(pairs[length--], pairs[length], object) === false) {\n          break;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Iterates over own enumerable properties of an object, executing the callback\n     * for each property. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, key, object). Callbacks may exit iteration early by\n     * explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.forOwn({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {\n     *   console.log(key);\n     * });\n     * // => logs '0', '1', and 'length' (property order is not guaranteed across environments)\n     */\n    var forOwn = function(collection, callback, thisArg) {\n      var index, iterable = collection, result = iterable;\n      if (!iterable) return result;\n      if (!objectTypes[typeof iterable]) return result;\n      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n        var ownIndex = -1,\n            ownProps = objectTypes[typeof iterable] && keys(iterable),\n            length = ownProps ? ownProps.length : 0;\n\n        while (++ownIndex < length) {\n          index = ownProps[ownIndex];\n          if (callback(iterable[index], index, collection) === false) return result;\n        }\n      return result\n    };\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over elements\n     * of a `collection` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.forOwnRight({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'length', '1', and '0' assuming `_.forOwn` logs '0', '1', and 'length'\n     */\n    function forOwnRight(object, callback, thisArg) {\n      var props = keys(object),\n          length = props.length;\n\n      callback = baseCreateCallback(callback, thisArg, 3);\n      while (length--) {\n        var key = props[length];\n        if (callback(object[key], key, object) === false) {\n          break;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Creates a sorted array of property names of all enumerable properties,\n     * own and inherited, of `object` that have function values.\n     *\n     * @static\n     * @memberOf _\n     * @alias methods\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns an array of property names that have function values.\n     * @example\n     *\n     * _.functions(_);\n     * // => ['all', 'any', 'bind', 'bindAll', 'clone', 'compact', 'compose', ...]\n     */\n    function functions(object) {\n      var result = [];\n      forIn(object, function(value, key) {\n        if (isFunction(value)) {\n          result.push(key);\n        }\n      });\n      return result.sort();\n    }\n\n    /**\n     * Checks if the specified property name exists as a direct property of `object`,\n     * instead of an inherited property.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @param {string} key The name of the property to check.\n     * @returns {boolean} Returns `true` if key is a direct property, else `false`.\n     * @example\n     *\n     * _.has({ 'a': 1, 'b': 2, 'c': 3 }, 'b');\n     * // => true\n     */\n    function has(object, key) {\n      return object ? hasOwnProperty.call(object, key) : false;\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of the given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the created inverted object.\n     * @example\n     *\n     * _.invert({ 'first': 'fred', 'second': 'barney' });\n     * // => { 'fred': 'first', 'barney': 'second' }\n     */\n    function invert(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index];\n        result[object[key]] = key;\n      }\n      return result;\n    }\n\n    /**\n     * Checks if `value` is a boolean value.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a boolean value, else `false`.\n     * @example\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        value && typeof value == 'object' && toString.call(value) == boolClass || false;\n    }\n\n    /**\n     * Checks if `value` is a date.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a date, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     */\n    function isDate(value) {\n      return value && typeof value == 'object' && toString.call(value) == dateClass || false;\n    }\n\n    /**\n     * Checks if `value` is a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     */\n    function isElement(value) {\n      return value && value.nodeType === 1 || false;\n    }\n\n    /**\n     * Checks if `value` is empty. Arrays, strings, or `arguments` objects with a\n     * length of `0` and objects with no own enumerable properties are considered\n     * \"empty\".\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Array|Object|string} value The value to inspect.\n     * @returns {boolean} Returns `true` if the `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({});\n     * // => true\n     *\n     * _.isEmpty('');\n     * // => true\n     */\n    function isEmpty(value) {\n      var result = true;\n      if (!value) {\n        return result;\n      }\n      var className = toString.call(value),\n          length = value.length;\n\n      if ((className == arrayClass || className == stringClass || className == argsClass ) ||\n          (className == objectClass && typeof length == 'number' && isFunction(value.splice))) {\n        return !length;\n      }\n      forOwn(value, function() {\n        return (result = false);\n      });\n      return result;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent to each other. If a callback is provided it will be executed\n     * to compare values. If the callback returns `undefined` comparisons will\n     * be handled by the method instead. The callback is bound to `thisArg` and\n     * invoked with two arguments; (a, b).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} a The value to compare.\n     * @param {*} b The other value to compare.\n     * @param {Function} [callback] The function to customize comparing values.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'name': 'fred' };\n     * var copy = { 'name': 'fred' };\n     *\n     * object == copy;\n     * // => false\n     *\n     * _.isEqual(object, copy);\n     * // => true\n     *\n     * var words = ['hello', 'goodbye'];\n     * var otherWords = ['hi', 'goodbye'];\n     *\n     * _.isEqual(words, otherWords, function(a, b) {\n     *   var reGreet = /^(?:hello|hi)$/i,\n     *       aGreet = _.isString(a) && reGreet.test(a),\n     *       bGreet = _.isString(b) && reGreet.test(b);\n     *\n     *   return (aGreet || bGreet) ? (aGreet == bGreet) : undefined;\n     * });\n     * // => true\n     */\n    function isEqual(a, b, callback, thisArg) {\n      return baseIsEqual(a, b, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 2));\n    }\n\n    /**\n     * Checks if `value` is, or can be coerced to, a finite number.\n     *\n     * Note: This is not the same as native `isFinite` which will return true for\n     * booleans and empty strings. See http://es5.github.io/#x15.1.2.5.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is finite, else `false`.\n     * @example\n     *\n     * _.isFinite(-101);\n     * // => true\n     *\n     * _.isFinite('10');\n     * // => true\n     *\n     * _.isFinite(true);\n     * // => false\n     *\n     * _.isFinite('');\n     * // => false\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     */\n    function isFinite(value) {\n      return nativeIsFinite(value) && !nativeIsNaN(parseFloat(value));\n    }\n\n    /**\n     * Checks if `value` is a function.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     */\n    function isFunction(value) {\n      return typeof value == 'function';\n    }\n\n    /**\n     * Checks if `value` is the language type of Object.\n     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(1);\n     * // => false\n     */\n    function isObject(value) {\n      // check if the value is the ECMAScript language type of Object\n      // http://es5.github.io/#x8\n      // and avoid a V8 bug\n      // http://code.google.com/p/v8/issues/detail?id=2291\n      return !!(value && objectTypes[typeof value]);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * Note: This is not the same as native `isNaN` which will return `true` for\n     * `undefined` and other non-numeric values. See http://es5.github.io/#x15.1.2.4.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // `NaN` as a primitive is the only value that is not equal to itself\n      // (perform the [[Class]] check first to avoid errors with some host objects in IE)\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(undefined);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is a number.\n     *\n     * Note: `NaN` is considered a number. See http://es5.github.io/#x8.5.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(8.4 * 5);\n     * // => true\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        value && typeof value == 'object' && toString.call(value) == numberClass || false;\n    }\n\n    /**\n     * Checks if `value` is an object created by the `Object` constructor.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * _.isPlainObject(new Shape);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     */\n    var isPlainObject = !getPrototypeOf ? shimIsPlainObject : function(value) {\n      if (!(value && toString.call(value) == objectClass)) {\n        return false;\n      }\n      var valueOf = value.valueOf,\n          objProto = isNative(valueOf) && (objProto = getPrototypeOf(valueOf)) && getPrototypeOf(objProto);\n\n      return objProto\n        ? (value == objProto || getPrototypeOf(value) == objProto)\n        : shimIsPlainObject(value);\n    };\n\n    /**\n     * Checks if `value` is a regular expression.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a regular expression, else `false`.\n     * @example\n     *\n     * _.isRegExp(/fred/);\n     * // => true\n     */\n    function isRegExp(value) {\n      return value && typeof value == 'object' && toString.call(value) == regexpClass || false;\n    }\n\n    /**\n     * Checks if `value` is a string.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('fred');\n     * // => true\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        value && typeof value == 'object' && toString.call(value) == stringClass || false;\n    }\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     */\n    function isUndefined(value) {\n      return typeof value == 'undefined';\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated by\n     * running each own enumerable property of `object` through the callback.\n     * The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, key, object).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new object with values of the results of each `callback` execution.\n     * @example\n     *\n     * _.mapValues({ 'a': 1, 'b': 2, 'c': 3} , function(num) { return num * 3; });\n     * // => { 'a': 3, 'b': 6, 'c': 9 }\n     *\n     * var characters = {\n     *   'fred': { 'name': 'fred', 'age': 40 },\n     *   'pebbles': { 'name': 'pebbles', 'age': 1 }\n     * };\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.mapValues(characters, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 }\n     */\n    function mapValues(object, callback, thisArg) {\n      var result = {};\n      callback = lodash.createCallback(callback, thisArg, 3);\n\n      forOwn(object, function(value, key, object) {\n        result[key] = callback(value, key, object);\n      });\n      return result;\n    }\n\n    /**\n     * Recursively merges own enumerable properties of the source object(s), that\n     * don't resolve to `undefined` into the destination object. Subsequent sources\n     * will overwrite property assignments of previous sources. If a callback is\n     * provided it will be executed to produce the merged values of the destination\n     * and source properties. If the callback returns `undefined` merging will\n     * be handled by the method instead. The callback is bound to `thisArg` and\n     * invoked with two arguments; (objectValue, sourceValue).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The destination object.\n     * @param {...Object} [source] The source objects.\n     * @param {Function} [callback] The function to customize merging properties.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the destination object.\n     * @example\n     *\n     * var names = {\n     *   'characters': [\n     *     { 'name': 'barney' },\n     *     { 'name': 'fred' }\n     *   ]\n     * };\n     *\n     * var ages = {\n     *   'characters': [\n     *     { 'age': 36 },\n     *     { 'age': 40 }\n     *   ]\n     * };\n     *\n     * _.merge(names, ages);\n     * // => { 'characters': [{ 'name': 'barney', 'age': 36 }, { 'name': 'fred', 'age': 40 }] }\n     *\n     * var food = {\n     *   'fruits': ['apple'],\n     *   'vegetables': ['beet']\n     * };\n     *\n     * var otherFood = {\n     *   'fruits': ['banana'],\n     *   'vegetables': ['carrot']\n     * };\n     *\n     * _.merge(food, otherFood, function(a, b) {\n     *   return _.isArray(a) ? a.concat(b) : undefined;\n     * });\n     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot] }\n     */\n    function merge(object) {\n      var args = arguments,\n          length = 2;\n\n      if (!isObject(object)) {\n        return object;\n      }\n      // allows working with `_.reduce` and `_.reduceRight` without using\n      // their `index` and `collection` arguments\n      if (typeof args[2] != 'number') {\n        length = args.length;\n      }\n      if (length > 3 && typeof args[length - 2] == 'function') {\n        var callback = baseCreateCallback(args[--length - 1], args[length--], 2);\n      } else if (length > 2 && typeof args[length - 1] == 'function') {\n        callback = args[--length];\n      }\n      var sources = slice(arguments, 1, length),\n          index = -1,\n          stackA = getArray(),\n          stackB = getArray();\n\n      while (++index < length) {\n        baseMerge(object, sources[index], callback, stackA, stackB);\n      }\n      releaseArray(stackA);\n      releaseArray(stackB);\n      return object;\n    }\n\n    /**\n     * Creates a shallow clone of `object` excluding the specified properties.\n     * Property names may be specified as individual arguments or as arrays of\n     * property names. If a callback is provided it will be executed for each\n     * property of `object` omitting the properties the callback returns truey\n     * for. The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The source object.\n     * @param {Function|...string|string[]} [callback] The properties to omit or the\n     *  function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns an object without the omitted properties.\n     * @example\n     *\n     * _.omit({ 'name': 'fred', 'age': 40 }, 'age');\n     * // => { 'name': 'fred' }\n     *\n     * _.omit({ 'name': 'fred', 'age': 40 }, function(value) {\n     *   return typeof value == 'number';\n     * });\n     * // => { 'name': 'fred' }\n     */\n    function omit(object, callback, thisArg) {\n      var result = {};\n      if (typeof callback != 'function') {\n        var props = [];\n        forIn(object, function(value, key) {\n          props.push(key);\n        });\n        props = baseDifference(props, baseFlatten(arguments, true, false, 1));\n\n        var index = -1,\n            length = props.length;\n\n        while (++index < length) {\n          var key = props[index];\n          result[key] = object[key];\n        }\n      } else {\n        callback = lodash.createCallback(callback, thisArg, 3);\n        forIn(object, function(value, key, object) {\n          if (!callback(value, key, object)) {\n            result[key] = value;\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Creates a two dimensional array of an object's key-value pairs,\n     * i.e. `[[key1, value1], [key2, value2]]`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns new array of key-value pairs.\n     * @example\n     *\n     * _.pairs({ 'barney': 36, 'fred': 40 });\n     * // => [['barney', 36], ['fred', 40]] (property order is not guaranteed across environments)\n     */\n    function pairs(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var key = props[index];\n        result[index] = [key, object[key]];\n      }\n      return result;\n    }\n\n    /**\n     * Creates a shallow clone of `object` composed of the specified properties.\n     * Property names may be specified as individual arguments or as arrays of\n     * property names. If a callback is provided it will be executed for each\n     * property of `object` picking the properties the callback returns truey\n     * for. The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The source object.\n     * @param {Function|...string|string[]} [callback] The function called per\n     *  iteration or property names to pick, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns an object composed of the picked properties.\n     * @example\n     *\n     * _.pick({ 'name': 'fred', '_userid': 'fred1' }, 'name');\n     * // => { 'name': 'fred' }\n     *\n     * _.pick({ 'name': 'fred', '_userid': 'fred1' }, function(value, key) {\n     *   return key.charAt(0) != '_';\n     * });\n     * // => { 'name': 'fred' }\n     */\n    function pick(object, callback, thisArg) {\n      var result = {};\n      if (typeof callback != 'function') {\n        var index = -1,\n            props = baseFlatten(arguments, true, false, 1),\n            length = isObject(object) ? props.length : 0;\n\n        while (++index < length) {\n          var key = props[index];\n          if (key in object) {\n            result[key] = object[key];\n          }\n        }\n      } else {\n        callback = lodash.createCallback(callback, thisArg, 3);\n        forIn(object, function(value, key, object) {\n          if (callback(value, key, object)) {\n            result[key] = value;\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * An alternative to `_.reduce` this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable properties through a callback, with each callback execution\n     * potentially mutating the `accumulator` object. The callback is bound to\n     * `thisArg` and invoked with four arguments; (accumulator, value, key, object).\n     * Callbacks may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Array|Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var squares = _.transform([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], function(result, num) {\n     *   num *= num;\n     *   if (num % 2) {\n     *     return result.push(num) < 3;\n     *   }\n     * });\n     * // => [1, 9, 25]\n     *\n     * var mapped = _.transform({ 'a': 1, 'b': 2, 'c': 3 }, function(result, num, key) {\n     *   result[key] = num * 3;\n     * });\n     * // => { 'a': 3, 'b': 6, 'c': 9 }\n     */\n    function transform(object, callback, accumulator, thisArg) {\n      var isArr = isArray(object);\n      if (accumulator == null) {\n        if (isArr) {\n          accumulator = [];\n        } else {\n          var ctor = object && object.constructor,\n              proto = ctor && ctor.prototype;\n\n          accumulator = baseCreate(proto);\n        }\n      }\n      if (callback) {\n        callback = lodash.createCallback(callback, thisArg, 4);\n        (isArr ? forEach : forOwn)(object, function(value, index, object) {\n          return callback(accumulator, value, index, object);\n        });\n      }\n      return accumulator;\n    }\n\n    /**\n     * Creates an array composed of the own enumerable property values of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns an array of property values.\n     * @example\n     *\n     * _.values({ 'one': 1, 'two': 2, 'three': 3 });\n     * // => [1, 2, 3] (property order is not guaranteed across environments)\n     */\n    function values(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = object[props[index]];\n      }\n      return result;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements from the specified indexes, or keys, of the\n     * `collection`. Indexes may be specified as individual arguments or as arrays\n     * of indexes.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(number|number[]|string|string[])} [index] The indexes of `collection`\n     *   to retrieve, specified as individual indexes or arrays of indexes.\n     * @returns {Array} Returns a new array of elements corresponding to the\n     *  provided indexes.\n     * @example\n     *\n     * _.at(['a', 'b', 'c', 'd', 'e'], [0, 2, 4]);\n     * // => ['a', 'c', 'e']\n     *\n     * _.at(['fred', 'barney', 'pebbles'], 0, 2);\n     * // => ['fred', 'pebbles']\n     */\n    function at(collection) {\n      var args = arguments,\n          index = -1,\n          props = baseFlatten(args, true, false, 1),\n          length = (args[2] && args[2][args[1]] === collection) ? 1 : props.length,\n          result = Array(length);\n\n      while(++index < length) {\n        result[index] = collection[props[index]];\n      }\n      return result;\n    }\n\n    /**\n     * Checks if a given value is present in a collection using strict equality\n     * for comparisons, i.e. `===`. If `fromIndex` is negative, it is used as the\n     * offset from the end of the collection.\n     *\n     * @static\n     * @memberOf _\n     * @alias include\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {*} target The value to check for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {boolean} Returns `true` if the `target` element is found, else `false`.\n     * @example\n     *\n     * _.contains([1, 2, 3], 1);\n     * // => true\n     *\n     * _.contains([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.contains({ 'name': 'fred', 'age': 40 }, 'fred');\n     * // => true\n     *\n     * _.contains('pebbles', 'eb');\n     * // => true\n     */\n    function contains(collection, target, fromIndex) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = collection ? collection.length : 0,\n          result = false;\n\n      fromIndex = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex) || 0;\n      if (isArray(collection)) {\n        result = indexOf(collection, target, fromIndex) > -1;\n      } else if (typeof length == 'number') {\n        result = (isString(collection) ? collection.indexOf(target, fromIndex) : indexOf(collection, target, fromIndex)) > -1;\n      } else {\n        forOwn(collection, function(value) {\n          if (++index >= fromIndex) {\n            return !(result = value === target);\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through the callback. The corresponding value\n     * of each key is the number of times the key was returned by the callback.\n     * The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(num) { return Math.floor(num); });\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(num) { return this.floor(num); }, Math);\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      (hasOwnProperty.call(result, key) ? result[key]++ : result[key] = 1);\n    });\n\n    /**\n     * Checks if the given callback returns truey value for **all** elements of\n     * a collection. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias all\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {boolean} Returns `true` if all elements passed the callback check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes']);\n     * // => false\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.every(characters, 'age');\n     * // => true\n     *\n     * // using \"_.where\" callback shorthand\n     * _.every(characters, { 'age': 36 });\n     * // => false\n     */\n    function every(collection, callback, thisArg) {\n      var result = true;\n      callback = lodash.createCallback(callback, thisArg, 3);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          if (!(result = !!callback(collection[index], index, collection))) {\n            break;\n          }\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          return (result = !!callback(value, index, collection));\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Iterates over elements of a collection, returning an array of all elements\n     * the callback returns truey for. The callback is bound to `thisArg` and\n     * invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias select\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of elements that passed the callback check.\n     * @example\n     *\n     * var evens = _.filter([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n     * // => [2, 4, 6]\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36, 'blocked': false },\n     *   { 'name': 'fred',   'age': 40, 'blocked': true }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.filter(characters, 'blocked');\n     * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]\n     *\n     * // using \"_.where\" callback shorthand\n     * _.filter(characters, { 'age': 36 });\n     * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]\n     */\n    function filter(collection, callback, thisArg) {\n      var result = [];\n      callback = lodash.createCallback(callback, thisArg, 3);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          var value = collection[index];\n          if (callback(value, index, collection)) {\n            result.push(value);\n          }\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          if (callback(value, index, collection)) {\n            result.push(value);\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Iterates over elements of a collection, returning the first element that\n     * the callback returns truey for. The callback is bound to `thisArg` and\n     * invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias detect, findWhere\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the found element, else `undefined`.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'age': 36, 'blocked': false },\n     *   { 'name': 'fred',    'age': 40, 'blocked': true },\n     *   { 'name': 'pebbles', 'age': 1,  'blocked': false }\n     * ];\n     *\n     * _.find(characters, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => { 'name': 'barney', 'age': 36, 'blocked': false }\n     *\n     * // using \"_.where\" callback shorthand\n     * _.find(characters, { 'age': 1 });\n     * // =>  { 'name': 'pebbles', 'age': 1, 'blocked': false }\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.find(characters, 'blocked');\n     * // => { 'name': 'fred', 'age': 40, 'blocked': true }\n     */\n    function find(collection, callback, thisArg) {\n      callback = lodash.createCallback(callback, thisArg, 3);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          var value = collection[index];\n          if (callback(value, index, collection)) {\n            return value;\n          }\n        }\n      } else {\n        var result;\n        forOwn(collection, function(value, index, collection) {\n          if (callback(value, index, collection)) {\n            result = value;\n            return false;\n          }\n        });\n        return result;\n      }\n    }\n\n    /**\n     * This method is like `_.find` except that it iterates over elements\n     * of a `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the found element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(num) {\n     *   return num % 2 == 1;\n     * });\n     * // => 3\n     */\n    function findLast(collection, callback, thisArg) {\n      var result;\n      callback = lodash.createCallback(callback, thisArg, 3);\n      forEachRight(collection, function(value, index, collection) {\n        if (callback(value, index, collection)) {\n          result = value;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Iterates over elements of a collection, executing the callback for each\n     * element. The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection). Callbacks may exit iteration early by\n     * explicitly returning `false`.\n     *\n     * Note: As with other \"Collections\" methods, objects with a `length` property\n     * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n     * may be used for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @alias each\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2, 3]).forEach(function(num) { console.log(num); }).join(',');\n     * // => logs each number and returns '1,2,3'\n     *\n     * _.forEach({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { console.log(num); });\n     * // => logs each number and returns the object (property order is not guaranteed across environments)\n     */\n    function forEach(collection, callback, thisArg) {\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n      if (typeof length == 'number') {\n        while (++index < length) {\n          if (callback(collection[index], index, collection) === false) {\n            break;\n          }\n        }\n      } else {\n        forOwn(collection, callback);\n      }\n      return collection;\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements\n     * of a `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias eachRight\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2, 3]).forEachRight(function(num) { console.log(num); }).join(',');\n     * // => logs each number from right to left and returns '3,2,1'\n     */\n    function forEachRight(collection, callback, thisArg) {\n      var length = collection ? collection.length : 0;\n      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n      if (typeof length == 'number') {\n        while (length--) {\n          if (callback(collection[length], length, collection) === false) {\n            break;\n          }\n        }\n      } else {\n        var props = keys(collection);\n        length = props.length;\n        forOwn(collection, function(value, key, collection) {\n          key = props ? props[--length] : --length;\n          return callback(collection[key], key, collection);\n        });\n      }\n      return collection;\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of a collection through the callback. The corresponding value\n     * of each key is an array of the elements responsible for generating the key.\n     * The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(num) { return Math.floor(num); });\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(num) { return this.floor(num); }, Math);\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      (hasOwnProperty.call(result, key) ? result[key] : result[key] = []).push(value);\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of the collection through the given callback. The corresponding\n     * value of each key is the last element responsible for generating the key.\n     * The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var keys = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.indexBy(keys, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keys, function(key) { return String.fromCharCode(key.code); });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(characters, function(key) { this.fromCharCode(key.code); }, String);\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     */\n    var indexBy = createAggregator(function(result, value, key) {\n      result[key] = value;\n    });\n\n    /**\n     * Invokes the method named by `methodName` on each element in the `collection`\n     * returning an array of the results of each invoked method. Additional arguments\n     * will be provided to each invoked method. If `methodName` is a function it\n     * will be invoked for, and `this` bound to, each element in the `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|string} methodName The name of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [arg] Arguments to invoke the method with.\n     * @returns {Array} Returns a new array of the results of each invoked method.\n     * @example\n     *\n     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invoke([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    function invoke(collection, methodName) {\n      var args = slice(arguments, 2),\n          index = -1,\n          isFunc = typeof methodName == 'function',\n          length = collection ? collection.length : 0,\n          result = Array(typeof length == 'number' ? length : 0);\n\n      forEach(collection, function(value) {\n        result[++index] = (isFunc ? methodName : value[methodName]).apply(value, args);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an array of values by running each element in the collection\n     * through the callback. The callback is bound to `thisArg` and invoked with\n     * three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias collect\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of the results of each `callback` execution.\n     * @example\n     *\n     * _.map([1, 2, 3], function(num) { return num * 3; });\n     * // => [3, 6, 9]\n     *\n     * _.map({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { return num * 3; });\n     * // => [3, 6, 9] (property order is not guaranteed across environments)\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.map(characters, 'name');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, callback, thisArg) {\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      callback = lodash.createCallback(callback, thisArg, 3);\n      if (typeof length == 'number') {\n        var result = Array(length);\n        while (++index < length) {\n          result[index] = callback(collection[index], index, collection);\n        }\n      } else {\n        result = [];\n        forOwn(collection, function(value, key, collection) {\n          result[++index] = callback(value, key, collection);\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Retrieves the maximum value of a collection. If the collection is empty or\n     * falsey `-Infinity` is returned. If a callback is provided it will be executed\n     * for each value in the collection to generate the criterion by which the value\n     * is ranked. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, index, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.max(characters, function(chr) { return chr.age; });\n     * // => { 'name': 'fred', 'age': 40 };\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.max(characters, 'age');\n     * // => { 'name': 'fred', 'age': 40 };\n     */\n    function max(collection, callback, thisArg) {\n      var computed = -Infinity,\n          result = computed;\n\n      // allows working with functions like `_.map` without using\n      // their `index` argument as a callback\n      if (typeof callback != 'function' && thisArg && thisArg[callback] === collection) {\n        callback = null;\n      }\n      if (callback == null && isArray(collection)) {\n        var index = -1,\n            length = collection.length;\n\n        while (++index < length) {\n          var value = collection[index];\n          if (value > result) {\n            result = value;\n          }\n        }\n      } else {\n        callback = (callback == null && isString(collection))\n          ? charAtCallback\n          : lodash.createCallback(callback, thisArg, 3);\n\n        forEach(collection, function(value, index, collection) {\n          var current = callback(value, index, collection);\n          if (current > computed) {\n            computed = current;\n            result = value;\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Retrieves the minimum value of a collection. If the collection is empty or\n     * falsey `Infinity` is returned. If a callback is provided it will be executed\n     * for each value in the collection to generate the criterion by which the value\n     * is ranked. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, index, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.min(characters, function(chr) { return chr.age; });\n     * // => { 'name': 'barney', 'age': 36 };\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.min(characters, 'age');\n     * // => { 'name': 'barney', 'age': 36 };\n     */\n    function min(collection, callback, thisArg) {\n      var computed = Infinity,\n          result = computed;\n\n      // allows working with functions like `_.map` without using\n      // their `index` argument as a callback\n      if (typeof callback != 'function' && thisArg && thisArg[callback] === collection) {\n        callback = null;\n      }\n      if (callback == null && isArray(collection)) {\n        var index = -1,\n            length = collection.length;\n\n        while (++index < length) {\n          var value = collection[index];\n          if (value < result) {\n            result = value;\n          }\n        }\n      } else {\n        callback = (callback == null && isString(collection))\n          ? charAtCallback\n          : lodash.createCallback(callback, thisArg, 3);\n\n        forEach(collection, function(value, index, collection) {\n          var current = callback(value, index, collection);\n          if (current < computed) {\n            computed = current;\n            result = value;\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Retrieves the value of a specified property from all elements in the collection.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {string} property The name of the property to pluck.\n     * @returns {Array} Returns a new array of property values.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.pluck(characters, 'name');\n     * // => ['barney', 'fred']\n     */\n    var pluck = map;\n\n    /**\n     * Reduces a collection to a value which is the accumulated result of running\n     * each element in the collection through the callback, where each successive\n     * callback execution consumes the return value of the previous execution. If\n     * `accumulator` is not provided the first element of the collection will be\n     * used as the initial `accumulator` value. The callback is bound to `thisArg`\n     * and invoked with four arguments; (accumulator, value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @alias foldl, inject\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [accumulator] Initial value of the accumulator.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var sum = _.reduce([1, 2, 3], function(sum, num) {\n     *   return sum + num;\n     * });\n     * // => 6\n     *\n     * var mapped = _.reduce({ 'a': 1, 'b': 2, 'c': 3 }, function(result, num, key) {\n     *   result[key] = num * 3;\n     *   return result;\n     * }, {});\n     * // => { 'a': 3, 'b': 6, 'c': 9 }\n     */\n    function reduce(collection, callback, accumulator, thisArg) {\n      if (!collection) return accumulator;\n      var noaccum = arguments.length < 3;\n      callback = lodash.createCallback(callback, thisArg, 4);\n\n      var index = -1,\n          length = collection.length;\n\n      if (typeof length == 'number') {\n        if (noaccum) {\n          accumulator = collection[++index];\n        }\n        while (++index < length) {\n          accumulator = callback(accumulator, collection[index], index, collection);\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          accumulator = noaccum\n            ? (noaccum = false, value)\n            : callback(accumulator, value, index, collection)\n        });\n      }\n      return accumulator;\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements\n     * of a `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias foldr\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [accumulator] Initial value of the accumulator.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var list = [[0, 1], [2, 3], [4, 5]];\n     * var flat = _.reduceRight(list, function(a, b) { return a.concat(b); }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, callback, accumulator, thisArg) {\n      var noaccum = arguments.length < 3;\n      callback = lodash.createCallback(callback, thisArg, 4);\n      forEachRight(collection, function(value, index, collection) {\n        accumulator = noaccum\n          ? (noaccum = false, value)\n          : callback(accumulator, value, index, collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The opposite of `_.filter` this method returns the elements of a\n     * collection that the callback does **not** return truey for.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of elements that failed the callback check.\n     * @example\n     *\n     * var odds = _.reject([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n     * // => [1, 3, 5]\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36, 'blocked': false },\n     *   { 'name': 'fred',   'age': 40, 'blocked': true }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.reject(characters, 'blocked');\n     * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]\n     *\n     * // using \"_.where\" callback shorthand\n     * _.reject(characters, { 'age': 36 });\n     * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]\n     */\n    function reject(collection, callback, thisArg) {\n      callback = lodash.createCallback(callback, thisArg, 3);\n      return filter(collection, function(value, index, collection) {\n        return !callback(value, index, collection);\n      });\n    }\n\n    /**\n     * Retrieves a random element or `n` random elements from a collection.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to sample.\n     * @param {number} [n] The number of elements to sample.\n     * @param- {Object} [guard] Allows working with functions like `_.map`\n     *  without using their `index` arguments as `n`.\n     * @returns {Array} Returns the random sample(s) of `collection`.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     *\n     * _.sample([1, 2, 3, 4], 2);\n     * // => [3, 1]\n     */\n    function sample(collection, n, guard) {\n      if (collection && typeof collection.length != 'number') {\n        collection = values(collection);\n      }\n      if (n == null || guard) {\n        return collection ? collection[baseRandom(0, collection.length - 1)] : undefined;\n      }\n      var result = shuffle(collection);\n      result.length = nativeMin(nativeMax(0, n), result.length);\n      return result;\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the Fisher-Yates\n     * shuffle. See http://en.wikipedia.org/wiki/Fisher-Yates_shuffle.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to shuffle.\n     * @returns {Array} Returns a new shuffled collection.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4, 5, 6]);\n     * // => [4, 1, 6, 3, 5, 2]\n     */\n    function shuffle(collection) {\n      var index = -1,\n          length = collection ? collection.length : 0,\n          result = Array(typeof length == 'number' ? length : 0);\n\n      forEach(collection, function(value) {\n        var rand = baseRandom(0, ++index);\n        result[index] = result[rand];\n        result[rand] = value;\n      });\n      return result;\n    }\n\n    /**\n     * Gets the size of the `collection` by returning `collection.length` for arrays\n     * and array-like objects or the number of own enumerable properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns `collection.length` or number of own enumerable properties.\n     * @example\n     *\n     * _.size([1, 2]);\n     * // => 2\n     *\n     * _.size({ 'one': 1, 'two': 2, 'three': 3 });\n     * // => 3\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      var length = collection ? collection.length : 0;\n      return typeof length == 'number' ? length : keys(collection).length;\n    }\n\n    /**\n     * Checks if the callback returns a truey value for **any** element of a\n     * collection. The function returns as soon as it finds a passing value and\n     * does not iterate over the entire collection. The callback is bound to\n     * `thisArg` and invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias any\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {boolean} Returns `true` if any element passed the callback check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36, 'blocked': false },\n     *   { 'name': 'fred',   'age': 40, 'blocked': true }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.some(characters, 'blocked');\n     * // => true\n     *\n     * // using \"_.where\" callback shorthand\n     * _.some(characters, { 'age': 1 });\n     * // => false\n     */\n    function some(collection, callback, thisArg) {\n      var result;\n      callback = lodash.createCallback(callback, thisArg, 3);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          if ((result = callback(collection[index], index, collection))) {\n            break;\n          }\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          return !(result = callback(value, index, collection));\n        });\n      }\n      return !!result;\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection through the callback. This method\n     * performs a stable sort, that is, it will preserve the original sort order\n     * of equal elements. The callback is bound to `thisArg` and invoked with\n     * three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an array of property names is provided for `callback` the collection\n     * will be sorted by each property value.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of sorted elements.\n     * @example\n     *\n     * _.sortBy([1, 2, 3], function(num) { return Math.sin(num); });\n     * // => [3, 1, 2]\n     *\n     * _.sortBy([1, 2, 3], function(num) { return this.sin(num); }, Math);\n     * // => [3, 1, 2]\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'age': 36 },\n     *   { 'name': 'fred',    'age': 40 },\n     *   { 'name': 'barney',  'age': 26 },\n     *   { 'name': 'fred',    'age': 30 }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.map(_.sortBy(characters, 'age'), _.values);\n     * // => [['barney', 26], ['fred', 30], ['barney', 36], ['fred', 40]]\n     *\n     * // sorting by multiple properties\n     * _.map(_.sortBy(characters, ['name', 'age']), _.values);\n     * // = > [['barney', 26], ['barney', 36], ['fred', 30], ['fred', 40]]\n     */\n    function sortBy(collection, callback, thisArg) {\n      var index = -1,\n          isArr = isArray(callback),\n          length = collection ? collection.length : 0,\n          result = Array(typeof length == 'number' ? length : 0);\n\n      if (!isArr) {\n        callback = lodash.createCallback(callback, thisArg, 3);\n      }\n      forEach(collection, function(value, key, collection) {\n        var object = result[++index] = getObject();\n        if (isArr) {\n          object.criteria = map(callback, function(key) { return value[key]; });\n        } else {\n          (object.criteria = getArray())[0] = callback(value, key, collection);\n        }\n        object.index = index;\n        object.value = value;\n      });\n\n      length = result.length;\n      result.sort(compareAscending);\n      while (length--) {\n        var object = result[length];\n        result[length] = object.value;\n        if (!isArr) {\n          releaseArray(object.criteria);\n        }\n        releaseObject(object);\n      }\n      return result;\n    }\n\n    /**\n     * Converts the `collection` to an array.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to convert.\n     * @returns {Array} Returns the new converted array.\n     * @example\n     *\n     * (function() { return _.toArray(arguments).slice(1); })(1, 2, 3, 4);\n     * // => [2, 3, 4]\n     */\n    function toArray(collection) {\n      if (collection && typeof collection.length == 'number') {\n        return slice(collection);\n      }\n      return values(collection);\n    }\n\n    /**\n     * Performs a deep comparison of each element in a `collection` to the given\n     * `properties` object, returning an array of all elements that have equivalent\n     * property values.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Object} props The object of property values to filter by.\n     * @returns {Array} Returns a new array of elements that have the given properties.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36, 'pets': ['hoppy'] },\n     *   { 'name': 'fred',   'age': 40, 'pets': ['baby puss', 'dino'] }\n     * ];\n     *\n     * _.where(characters, { 'age': 36 });\n     * // => [{ 'name': 'barney', 'age': 36, 'pets': ['hoppy'] }]\n     *\n     * _.where(characters, { 'pets': ['dino'] });\n     * // => [{ 'name': 'fred', 'age': 40, 'pets': ['baby puss', 'dino'] }]\n     */\n    var where = filter;\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are all falsey.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns a new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array excluding all values of the provided arrays using strict\n     * equality for comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to process.\n     * @param {...Array} [values] The arrays of values to exclude.\n     * @returns {Array} Returns a new array of filtered values.\n     * @example\n     *\n     * _.difference([1, 2, 3, 4, 5], [5, 2, 10]);\n     * // => [1, 3, 4]\n     */\n    function difference(array) {\n      return baseDifference(array, baseFlatten(arguments, true, true, 1));\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element that passes the callback check, instead of the element itself.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'age': 36, 'blocked': false },\n     *   { 'name': 'fred',    'age': 40, 'blocked': true },\n     *   { 'name': 'pebbles', 'age': 1,  'blocked': false }\n     * ];\n     *\n     * _.findIndex(characters, function(chr) {\n     *   return chr.age < 20;\n     * });\n     * // => 2\n     *\n     * // using \"_.where\" callback shorthand\n     * _.findIndex(characters, { 'age': 36 });\n     * // => 0\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.findIndex(characters, 'blocked');\n     * // => 1\n     */\n    function findIndex(array, callback, thisArg) {\n      var index = -1,\n          length = array ? array.length : 0;\n\n      callback = lodash.createCallback(callback, thisArg, 3);\n      while (++index < length) {\n        if (callback(array[index], index, array)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of a `collection` from right to left.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'age': 36, 'blocked': true },\n     *   { 'name': 'fred',    'age': 40, 'blocked': false },\n     *   { 'name': 'pebbles', 'age': 1,  'blocked': true }\n     * ];\n     *\n     * _.findLastIndex(characters, function(chr) {\n     *   return chr.age > 30;\n     * });\n     * // => 1\n     *\n     * // using \"_.where\" callback shorthand\n     * _.findLastIndex(characters, { 'age': 36 });\n     * // => 0\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.findLastIndex(characters, 'blocked');\n     * // => 2\n     */\n    function findLastIndex(array, callback, thisArg) {\n      var length = array ? array.length : 0;\n      callback = lodash.createCallback(callback, thisArg, 3);\n      while (length--) {\n        if (callback(array[length], length, array)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Gets the first element or first `n` elements of an array. If a callback\n     * is provided elements at the beginning of the array are returned as long\n     * as the callback returns truey. The callback is bound to `thisArg` and\n     * invoked with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias head, take\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|number|string} [callback] The function called\n     *  per element or the number of elements to return. If a property name or\n     *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the first element(s) of `array`.\n     * @example\n     *\n     * _.first([1, 2, 3]);\n     * // => 1\n     *\n     * _.first([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.first([1, 2, 3], function(num) {\n     *   return num < 3;\n     * });\n     * // => [1, 2]\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'blocked': true,  'employer': 'slate' },\n     *   { 'name': 'fred',    'blocked': false, 'employer': 'slate' },\n     *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.first(characters, 'blocked');\n     * // => [{ 'name': 'barney', 'blocked': true, 'employer': 'slate' }]\n     *\n     * // using \"_.where\" callback shorthand\n     * _.pluck(_.first(characters, { 'employer': 'slate' }), 'name');\n     * // => ['barney', 'fred']\n     */\n    function first(array, callback, thisArg) {\n      var n = 0,\n          length = array ? array.length : 0;\n\n      if (typeof callback != 'number' && callback != null) {\n        var index = -1;\n        callback = lodash.createCallback(callback, thisArg, 3);\n        while (++index < length && callback(array[index], index, array)) {\n          n++;\n        }\n      } else {\n        n = callback;\n        if (n == null || thisArg) {\n          return array ? array[0] : undefined;\n        }\n      }\n      return slice(array, 0, nativeMin(nativeMax(0, n), length));\n    }\n\n    /**\n     * Flattens a nested array (the nesting can be to any depth). If `isShallow`\n     * is truey, the array will only be flattened a single level. If a callback\n     * is provided each element of the array is passed through the callback before\n     * flattening. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isShallow=false] A flag to restrict flattening to a single level.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2], [3, [[4]]]]);\n     * // => [1, 2, 3, 4];\n     *\n     * _.flatten([1, [2], [3, [[4]]]], true);\n     * // => [1, 2, 3, [[4]]];\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 30, 'pets': ['hoppy'] },\n     *   { 'name': 'fred',   'age': 40, 'pets': ['baby puss', 'dino'] }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.flatten(characters, 'pets');\n     * // => ['hoppy', 'baby puss', 'dino']\n     */\n    function flatten(array, isShallow, callback, thisArg) {\n      // juggle arguments\n      if (typeof isShallow != 'boolean' && isShallow != null) {\n        thisArg = callback;\n        callback = (typeof isShallow != 'function' && thisArg && thisArg[isShallow] === array) ? null : isShallow;\n        isShallow = false;\n      }\n      if (callback != null) {\n        array = map(array, callback, thisArg);\n      }\n      return baseFlatten(array, isShallow);\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found using\n     * strict equality for comparisons, i.e. `===`. If the array is already sorted\n     * providing `true` for `fromIndex` will run a faster binary search.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=0] The index to search from or `true`\n     *  to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value or `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 3, 1, 2, 3], 2);\n     * // => 1\n     *\n     * _.indexOf([1, 2, 3, 1, 2, 3], 2, 3);\n     * // => 4\n     *\n     * _.indexOf([1, 1, 2, 2, 3, 3], 2, true);\n     * // => 2\n     */\n    function indexOf(array, value, fromIndex) {\n      if (typeof fromIndex == 'number') {\n        var length = array ? array.length : 0;\n        fromIndex = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex || 0);\n      } else if (fromIndex) {\n        var index = sortedIndex(array, value);\n        return array[index] === value ? index : -1;\n      }\n      return baseIndexOf(array, value, fromIndex);\n    }\n\n    /**\n     * Gets all but the last element or last `n` elements of an array. If a\n     * callback is provided elements at the end of the array are excluded from\n     * the result as long as the callback returns truey. The callback is bound\n     * to `thisArg` and invoked with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|number|string} [callback=1] The function called\n     *  per element or the number of elements to exclude. If a property name or\n     *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.initial([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.initial([1, 2, 3], function(num) {\n     *   return num > 1;\n     * });\n     * // => [1]\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'blocked': false, 'employer': 'slate' },\n     *   { 'name': 'fred',    'blocked': true,  'employer': 'slate' },\n     *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.initial(characters, 'blocked');\n     * // => [{ 'name': 'barney',  'blocked': false, 'employer': 'slate' }]\n     *\n     * // using \"_.where\" callback shorthand\n     * _.pluck(_.initial(characters, { 'employer': 'na' }), 'name');\n     * // => ['barney', 'fred']\n     */\n    function initial(array, callback, thisArg) {\n      var n = 0,\n          length = array ? array.length : 0;\n\n      if (typeof callback != 'number' && callback != null) {\n        var index = length;\n        callback = lodash.createCallback(callback, thisArg, 3);\n        while (index-- && callback(array[index], index, array)) {\n          n++;\n        }\n      } else {\n        n = (callback == null || thisArg) ? 1 : callback || n;\n      }\n      return slice(array, 0, nativeMin(nativeMax(0, length - n), length));\n    }\n\n    /**\n     * Creates an array of unique values present in all provided arrays using\n     * strict equality for comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {...Array} [array] The arrays to inspect.\n     * @returns {Array} Returns an array of shared values.\n     * @example\n     *\n     * _.intersection([1, 2, 3], [5, 2, 1, 4], [2, 1]);\n     * // => [1, 2]\n     */\n    function intersection() {\n      var args = [],\n          argsIndex = -1,\n          argsLength = arguments.length,\n          caches = getArray(),\n          indexOf = getIndexOf(),\n          trustIndexOf = indexOf === baseIndexOf,\n          seen = getArray();\n\n      while (++argsIndex < argsLength) {\n        var value = arguments[argsIndex];\n        if (isArray(value) || isArguments(value)) {\n          args.push(value);\n          caches.push(trustIndexOf && value.length >= largeArraySize &&\n            createCache(argsIndex ? args[argsIndex] : seen));\n        }\n      }\n      var array = args[0],\n          index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n      outer:\n      while (++index < length) {\n        var cache = caches[0];\n        value = array[index];\n\n        if ((cache ? cacheIndexOf(cache, value) : indexOf(seen, value)) < 0) {\n          argsIndex = argsLength;\n          (cache || seen).push(value);\n          while (--argsIndex) {\n            cache = caches[argsIndex];\n            if ((cache ? cacheIndexOf(cache, value) : indexOf(args[argsIndex], value)) < 0) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n      }\n      while (argsLength--) {\n        cache = caches[argsLength];\n        if (cache) {\n          releaseObject(cache);\n        }\n      }\n      releaseArray(caches);\n      releaseArray(seen);\n      return result;\n    }\n\n    /**\n     * Gets the last element or last `n` elements of an array. If a callback is\n     * provided elements at the end of the array are returned as long as the\n     * callback returns truey. The callback is bound to `thisArg` and invoked\n     * with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|number|string} [callback] The function called\n     *  per element or the number of elements to return. If a property name or\n     *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the last element(s) of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     *\n     * _.last([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.last([1, 2, 3], function(num) {\n     *   return num > 1;\n     * });\n     * // => [2, 3]\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'blocked': false, 'employer': 'slate' },\n     *   { 'name': 'fred',    'blocked': true,  'employer': 'slate' },\n     *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.pluck(_.last(characters, 'blocked'), 'name');\n     * // => ['fred', 'pebbles']\n     *\n     * // using \"_.where\" callback shorthand\n     * _.last(characters, { 'employer': 'na' });\n     * // => [{ 'name': 'pebbles', 'blocked': true, 'employer': 'na' }]\n     */\n    function last(array, callback, thisArg) {\n      var n = 0,\n          length = array ? array.length : 0;\n\n      if (typeof callback != 'number' && callback != null) {\n        var index = length;\n        callback = lodash.createCallback(callback, thisArg, 3);\n        while (index-- && callback(array[index], index, array)) {\n          n++;\n        }\n      } else {\n        n = callback;\n        if (n == null || thisArg) {\n          return array ? array[length - 1] : undefined;\n        }\n      }\n      return slice(array, nativeMax(0, length - n));\n    }\n\n    /**\n     * Gets the index at which the last occurrence of `value` is found using strict\n     * equality for comparisons, i.e. `===`. If `fromIndex` is negative, it is used\n     * as the offset from the end of the collection.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value or `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2);\n     * // => 4\n     *\n     * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2, 3);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var index = array ? array.length : 0;\n      if (typeof fromIndex == 'number') {\n        index = (fromIndex < 0 ? nativeMax(0, index + fromIndex) : nativeMin(fromIndex, index - 1)) + 1;\n      }\n      while (index--) {\n        if (array[index] === value) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Removes all provided values from the given array using strict equality for\n     * comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to modify.\n     * @param {...*} [value] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3, 1, 2, 3];\n     * _.pull(array, 2, 3);\n     * console.log(array);\n     * // => [1, 1]\n     */\n    function pull(array) {\n      var args = arguments,\n          argsIndex = 0,\n          argsLength = args.length,\n          length = array ? array.length : 0;\n\n      while (++argsIndex < argsLength) {\n        var index = -1,\n            value = args[argsIndex];\n        while (++index < length) {\n          if (array[index] === value) {\n            splice.call(array, index--, 1);\n            length--;\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to but not including `end`. If `start` is less than `stop` a\n     * zero-length range is created unless a negative `step` is specified.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns a new range array.\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    function range(start, end, step) {\n      start = +start || 0;\n      step = typeof step == 'number' ? step : (+step || 1);\n\n      if (end == null) {\n        end = start;\n        start = 0;\n      }\n      // use `Array(length)` so engines like Chakra and V8 avoid slower modes\n      // http://youtu.be/XAqIpGU8ZZk#t=17m25s\n      var index = -1,\n          length = nativeMax(0, ceil((end - start) / (step || 1))),\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * Removes all elements from an array that the callback returns truey for\n     * and returns an array of removed elements. The callback is bound to `thisArg`\n     * and invoked with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to modify.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4, 5, 6];\n     * var evens = _.remove(array, function(num) { return num % 2 == 0; });\n     *\n     * console.log(array);\n     * // => [1, 3, 5]\n     *\n     * console.log(evens);\n     * // => [2, 4, 6]\n     */\n    function remove(array, callback, thisArg) {\n      var index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n      callback = lodash.createCallback(callback, thisArg, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (callback(value, index, array)) {\n          result.push(value);\n          splice.call(array, index--, 1);\n          length--;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The opposite of `_.initial` this method gets all but the first element or\n     * first `n` elements of an array. If a callback function is provided elements\n     * at the beginning of the array are excluded from the result as long as the\n     * callback returns truey. The callback is bound to `thisArg` and invoked\n     * with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias drop, tail\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|number|string} [callback=1] The function called\n     *  per element or the number of elements to exclude. If a property name or\n     *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a slice of `array`.\n     * @example\n     *\n     * _.rest([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.rest([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.rest([1, 2, 3], function(num) {\n     *   return num < 3;\n     * });\n     * // => [3]\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'blocked': true,  'employer': 'slate' },\n     *   { 'name': 'fred',    'blocked': false,  'employer': 'slate' },\n     *   { 'name': 'pebbles', 'blocked': true, 'employer': 'na' }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.pluck(_.rest(characters, 'blocked'), 'name');\n     * // => ['fred', 'pebbles']\n     *\n     * // using \"_.where\" callback shorthand\n     * _.rest(characters, { 'employer': 'slate' });\n     * // => [{ 'name': 'pebbles', 'blocked': true, 'employer': 'na' }]\n     */\n    function rest(array, callback, thisArg) {\n      if (typeof callback != 'number' && callback != null) {\n        var n = 0,\n            index = -1,\n            length = array ? array.length : 0;\n\n        callback = lodash.createCallback(callback, thisArg, 3);\n        while (++index < length && callback(array[index], index, array)) {\n          n++;\n        }\n      } else {\n        n = (callback == null || thisArg) ? 1 : nativeMax(0, callback);\n      }\n      return slice(array, n);\n    }\n\n    /**\n     * Uses a binary search to determine the smallest index at which a value\n     * should be inserted into a given sorted array in order to maintain the sort\n     * order of the array. If a callback is provided it will be executed for\n     * `value` and each element of `array` to compute their sort ranking. The\n     * callback is bound to `thisArg` and invoked with one argument; (value).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([20, 30, 50], 40);\n     * // => 2\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.sortedIndex([{ 'x': 20 }, { 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n     * // => 2\n     *\n     * var dict = {\n     *   'wordToNumber': { 'twenty': 20, 'thirty': 30, 'fourty': 40, 'fifty': 50 }\n     * };\n     *\n     * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {\n     *   return dict.wordToNumber[word];\n     * });\n     * // => 2\n     *\n     * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {\n     *   return this.wordToNumber[word];\n     * }, dict);\n     * // => 2\n     */\n    function sortedIndex(array, value, callback, thisArg) {\n      var low = 0,\n          high = array ? array.length : low;\n\n      // explicitly reference `identity` for better inlining in Firefox\n      callback = callback ? lodash.createCallback(callback, thisArg, 1) : identity;\n      value = callback(value);\n\n      while (low < high) {\n        var mid = (low + high) >>> 1;\n        (callback(array[mid]) < value)\n          ? low = mid + 1\n          : high = mid;\n      }\n      return low;\n    }\n\n    /**\n     * Creates an array of unique values, in order, of the provided arrays using\n     * strict equality for comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {...Array} [array] The arrays to inspect.\n     * @returns {Array} Returns an array of combined values.\n     * @example\n     *\n     * _.union([1, 2, 3], [5, 2, 1, 4], [2, 1]);\n     * // => [1, 2, 3, 5, 4]\n     */\n    function union() {\n      return baseUniq(baseFlatten(arguments, true, true));\n    }\n\n    /**\n     * Creates a duplicate-value-free version of an array using strict equality\n     * for comparisons, i.e. `===`. If the array is sorted, providing\n     * `true` for `isSorted` will use a faster algorithm. If a callback is provided\n     * each element of `array` is passed through the callback before uniqueness\n     * is computed. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias unique\n     * @category Arrays\n     * @param {Array} array The array to process.\n     * @param {boolean} [isSorted=false] A flag to indicate that `array` is sorted.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a duplicate-value-free array.\n     * @example\n     *\n     * _.uniq([1, 2, 1, 3, 1]);\n     * // => [1, 2, 3]\n     *\n     * _.uniq([1, 1, 2, 2, 3], true);\n     * // => [1, 2, 3]\n     *\n     * _.uniq(['A', 'b', 'C', 'a', 'B', 'c'], function(letter) { return letter.toLowerCase(); });\n     * // => ['A', 'b', 'C']\n     *\n     * _.uniq([1, 2.5, 3, 1.5, 2, 3.5], function(num) { return this.floor(num); }, Math);\n     * // => [1, 2.5, 3]\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniq(array, isSorted, callback, thisArg) {\n      // juggle arguments\n      if (typeof isSorted != 'boolean' && isSorted != null) {\n        thisArg = callback;\n        callback = (typeof isSorted != 'function' && thisArg && thisArg[isSorted] === array) ? null : isSorted;\n        isSorted = false;\n      }\n      if (callback != null) {\n        callback = lodash.createCallback(callback, thisArg, 3);\n      }\n      return baseUniq(array, isSorted, callback);\n    }\n\n    /**\n     * Creates an array excluding all provided values using strict equality for\n     * comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to filter.\n     * @param {...*} [value] The values to exclude.\n     * @returns {Array} Returns a new array of filtered values.\n     * @example\n     *\n     * _.without([1, 2, 1, 0, 3, 1, 4], 0, 1);\n     * // => [2, 3, 4]\n     */\n    function without(array) {\n      return baseDifference(array, slice(arguments, 1));\n    }\n\n    /**\n     * Creates an array that is the symmetric difference of the provided arrays.\n     * See http://en.wikipedia.org/wiki/Symmetric_difference.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {...Array} [array] The arrays to inspect.\n     * @returns {Array} Returns an array of values.\n     * @example\n     *\n     * _.xor([1, 2, 3], [5, 2, 1, 4]);\n     * // => [3, 5, 4]\n     *\n     * _.xor([1, 2, 5], [2, 3, 5], [3, 4, 5]);\n     * // => [1, 4, 5]\n     */\n    function xor() {\n      var index = -1,\n          length = arguments.length;\n\n      while (++index < length) {\n        var array = arguments[index];\n        if (isArray(array) || isArguments(array)) {\n          var result = result\n            ? baseUniq(baseDifference(result, array).concat(baseDifference(array, result)))\n            : array;\n        }\n      }\n      return result || [];\n    }\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the first\n     * elements of the given arrays, the second of which contains the second\n     * elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @alias unzip\n     * @category Arrays\n     * @param {...Array} [array] Arrays to process.\n     * @returns {Array} Returns a new array of grouped elements.\n     * @example\n     *\n     * _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     */\n    function zip() {\n      var array = arguments.length > 1 ? arguments : arguments[0],\n          index = -1,\n          length = array ? max(pluck(array, 'length')) : 0,\n          result = Array(length < 0 ? 0 : length);\n\n      while (++index < length) {\n        result[index] = pluck(array, index);\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed from arrays of `keys` and `values`. Provide\n     * either a single two dimensional array, i.e. `[[key1, value1], [key2, value2]]`\n     * or two arrays, one of `keys` and one of corresponding `values`.\n     *\n     * @static\n     * @memberOf _\n     * @alias object\n     * @category Arrays\n     * @param {Array} keys The array of keys.\n     * @param {Array} [values=[]] The array of values.\n     * @returns {Object} Returns an object composed of the given keys and\n     *  corresponding values.\n     * @example\n     *\n     * _.zipObject(['fred', 'barney'], [30, 40]);\n     * // => { 'fred': 30, 'barney': 40 }\n     */\n    function zipObject(keys, values) {\n      var index = -1,\n          length = keys ? keys.length : 0,\n          result = {};\n\n      if (!values && length && !isArray(keys[0])) {\n        values = [];\n      }\n      while (++index < length) {\n        var key = keys[index];\n        if (values) {\n          result[key] = values[index];\n        } else if (key) {\n          result[key[0]] = key[1];\n        }\n      }\n      return result;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates a function that executes `func`, with  the `this` binding and\n     * arguments of the created function, only after being called `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {number} n The number of times the function must be called before\n     *  `func` is executed.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('Done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => logs 'Done saving!', after all saves have completed\n     */\n    function after(n, func) {\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that, when called, invokes `func` with the `this`\n     * binding of `thisArg` and prepends any additional `bind` arguments to those\n     * provided to the bound function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to bind.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {...*} [arg] Arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var func = function(greeting) {\n     *   return greeting + ' ' + this.name;\n     * };\n     *\n     * func = _.bind(func, { 'name': 'fred' }, 'hi');\n     * func();\n     * // => 'hi fred'\n     */\n    function bind(func, thisArg) {\n      return arguments.length > 2\n        ? createWrapper(func, 17, slice(arguments, 2), null, thisArg)\n        : createWrapper(func, 1, null, null, thisArg);\n    }\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method. Method names may be specified as individual arguments or as arrays\n     * of method names. If no method names are provided all the function properties\n     * of `object` will be bound.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...string} [methodName] The object method names to\n     *  bind, specified as individual method names or arrays of method names.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'onClick': function() { console.log('clicked ' + this.label); }\n     * };\n     *\n     * _.bindAll(view);\n     * jQuery('#docs').on('click', view.onClick);\n     * // => logs 'clicked docs', when the button is clicked\n     */\n    function bindAll(object) {\n      var funcs = arguments.length > 1 ? baseFlatten(arguments, true, false, 1) : functions(object),\n          index = -1,\n          length = funcs.length;\n\n      while (++index < length) {\n        var key = funcs[index];\n        object[key] = createWrapper(object[key], 1, null, null, object);\n      }\n      return object;\n    }\n\n    /**\n     * Creates a function that, when called, invokes the method at `object[key]`\n     * and prepends any additional `bindKey` arguments to those provided to the bound\n     * function. This method differs from `_.bind` by allowing bound functions to\n     * reference methods that will be redefined or don't yet exist.\n     * See http://michaux.ca/articles/lazy-function-definition-pattern.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Object} object The object the method belongs to.\n     * @param {string} key The key of the method.\n     * @param {...*} [arg] Arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'name': 'fred',\n     *   'greet': function(greeting) {\n     *     return greeting + ' ' + this.name;\n     *   }\n     * };\n     *\n     * var func = _.bindKey(object, 'greet', 'hi');\n     * func();\n     * // => 'hi fred'\n     *\n     * object.greet = function(greeting) {\n     *   return greeting + 'ya ' + this.name + '!';\n     * };\n     *\n     * func();\n     * // => 'hiya fred!'\n     */\n    function bindKey(object, key) {\n      return arguments.length > 2\n        ? createWrapper(key, 19, slice(arguments, 2), null, object)\n        : createWrapper(key, 3, null, null, object);\n    }\n\n    /**\n     * Creates a function that is the composition of the provided functions,\n     * where each function consumes the return value of the function that follows.\n     * For example, composing the functions `f()`, `g()`, and `h()` produces `f(g(h()))`.\n     * Each function is executed with the `this` binding of the composed function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {...Function} [func] Functions to compose.\n     * @returns {Function} Returns the new composed function.\n     * @example\n     *\n     * var realNameMap = {\n     *   'pebbles': 'penelope'\n     * };\n     *\n     * var format = function(name) {\n     *   name = realNameMap[name.toLowerCase()] || name;\n     *   return name.charAt(0).toUpperCase() + name.slice(1).toLowerCase();\n     * };\n     *\n     * var greet = function(formatted) {\n     *   return 'Hiya ' + formatted + '!';\n     * };\n     *\n     * var welcome = _.compose(greet, format);\n     * welcome('pebbles');\n     * // => 'Hiya Penelope!'\n     */\n    function compose() {\n      var funcs = arguments,\n          length = funcs.length;\n\n      while (length--) {\n        if (!isFunction(funcs[length])) {\n          throw new TypeError;\n        }\n      }\n      return function() {\n        var args = arguments,\n            length = funcs.length;\n\n        while (length--) {\n          args = [funcs[length].apply(this, args)];\n        }\n        return args[0];\n      };\n    }\n\n    /**\n     * Creates a function which accepts one or more arguments of `func` that when\n     * invoked either executes `func` returning its result, if all `func` arguments\n     * have been provided, or returns a function that accepts one or more of the\n     * remaining `func` arguments, and so on. The arity of `func` can be specified\n     * if `func.length` is not sufficient.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var curried = _.curry(function(a, b, c) {\n     *   console.log(a + b + c);\n     * });\n     *\n     * curried(1)(2)(3);\n     * // => 6\n     *\n     * curried(1, 2)(3);\n     * // => 6\n     *\n     * curried(1, 2, 3);\n     * // => 6\n     */\n    function curry(func, arity) {\n      arity = typeof arity == 'number' ? arity : (+arity || func.length);\n      return createWrapper(func, 4, null, null, null, arity);\n    }\n\n    /**\n     * Creates a function that will delay the execution of `func` until after\n     * `wait` milliseconds have elapsed since the last time it was invoked.\n     * Provide an options object to indicate that `func` should be invoked on\n     * the leading and/or trailing edge of the `wait` timeout. Subsequent calls\n     * to the debounced function will return the result of the last `func` call.\n     *\n     * Note: If `leading` and `trailing` options are `true` `func` will be called\n     * on the trailing edge of the timeout only if the the debounced function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to debounce.\n     * @param {number} wait The number of milliseconds to delay.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=false] Specify execution on the leading edge of the timeout.\n     * @param {number} [options.maxWait] The maximum time `func` is allowed to be delayed before it's called.\n     * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // avoid costly calculations while the window size is in flux\n     * var lazyLayout = _.debounce(calculateLayout, 150);\n     * jQuery(window).on('resize', lazyLayout);\n     *\n     * // execute `sendMail` when the click event is fired, debouncing subsequent calls\n     * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * });\n     *\n     * // ensure `batchLog` is executed once after 1 second of debounced calls\n     * var source = new EventSource('/stream');\n     * source.addEventListener('message', _.debounce(batchLog, 250, {\n     *   'maxWait': 1000\n     * }, false);\n     */\n    function debounce(func, wait, options) {\n      var args,\n          maxTimeoutId,\n          result,\n          stamp,\n          thisArg,\n          timeoutId,\n          trailingCall,\n          lastCalled = 0,\n          maxWait = false,\n          trailing = true;\n\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      wait = nativeMax(0, wait) || 0;\n      if (options === true) {\n        var leading = true;\n        trailing = false;\n      } else if (isObject(options)) {\n        leading = options.leading;\n        maxWait = 'maxWait' in options && (nativeMax(wait, options.maxWait) || 0);\n        trailing = 'trailing' in options ? options.trailing : trailing;\n      }\n      var delayed = function() {\n        var remaining = wait - (now() - stamp);\n        if (remaining <= 0) {\n          if (maxTimeoutId) {\n            clearTimeout(maxTimeoutId);\n          }\n          var isCalled = trailingCall;\n          maxTimeoutId = timeoutId = trailingCall = undefined;\n          if (isCalled) {\n            lastCalled = now();\n            result = func.apply(thisArg, args);\n            if (!timeoutId && !maxTimeoutId) {\n              args = thisArg = null;\n            }\n          }\n        } else {\n          timeoutId = setTimeout(delayed, remaining);\n        }\n      };\n\n      var maxDelayed = function() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n        if (trailing || (maxWait !== wait)) {\n          lastCalled = now();\n          result = func.apply(thisArg, args);\n          if (!timeoutId && !maxTimeoutId) {\n            args = thisArg = null;\n          }\n        }\n      };\n\n      return function() {\n        args = arguments;\n        stamp = now();\n        thisArg = this;\n        trailingCall = trailing && (timeoutId || !leading);\n\n        if (maxWait === false) {\n          var leadingCall = leading && !timeoutId;\n        } else {\n          if (!maxTimeoutId && !leading) {\n            lastCalled = stamp;\n          }\n          var remaining = maxWait - (stamp - lastCalled),\n              isCalled = remaining <= 0;\n\n          if (isCalled) {\n            if (maxTimeoutId) {\n              maxTimeoutId = clearTimeout(maxTimeoutId);\n            }\n            lastCalled = stamp;\n            result = func.apply(thisArg, args);\n          }\n          else if (!maxTimeoutId) {\n            maxTimeoutId = setTimeout(maxDelayed, remaining);\n          }\n        }\n        if (isCalled && timeoutId) {\n          timeoutId = clearTimeout(timeoutId);\n        }\n        else if (!timeoutId && wait !== maxWait) {\n          timeoutId = setTimeout(delayed, wait);\n        }\n        if (leadingCall) {\n          isCalled = true;\n          result = func.apply(thisArg, args);\n        }\n        if (isCalled && !timeoutId && !maxTimeoutId) {\n          args = thisArg = null;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Defers executing the `func` function until the current call stack has cleared.\n     * Additional arguments will be provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to defer.\n     * @param {...*} [arg] Arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) { console.log(text); }, 'deferred');\n     * // logs 'deferred' after one or more milliseconds\n     */\n    function defer(func) {\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      var args = slice(arguments, 1);\n      return setTimeout(function() { func.apply(undefined, args); }, 1);\n    }\n\n    /**\n     * Executes the `func` function after `wait` milliseconds. Additional arguments\n     * will be provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay execution.\n     * @param {...*} [arg] Arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) { console.log(text); }, 1000, 'later');\n     * // => logs 'later' after one second\n     */\n    function delay(func, wait) {\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      var args = slice(arguments, 2);\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided it will be used to determine the cache key for storing the result\n     * based on the arguments provided to the memoized function. By default, the\n     * first argument provided to the memoized function is used as the cache key.\n     * The `func` is executed with the `this` binding of the memoized function.\n     * The result cache is exposed as the `cache` property on the memoized function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] A function used to resolve the cache key.\n     * @returns {Function} Returns the new memoizing function.\n     * @example\n     *\n     * var fibonacci = _.memoize(function(n) {\n     *   return n < 2 ? n : fibonacci(n - 1) + fibonacci(n - 2);\n     * });\n     *\n     * fibonacci(9)\n     * // => 34\n     *\n     * var data = {\n     *   'fred': { 'name': 'fred', 'age': 40 },\n     *   'pebbles': { 'name': 'pebbles', 'age': 1 }\n     * };\n     *\n     * // modifying the result cache\n     * var get = _.memoize(function(name) { return data[name]; }, _.identity);\n     * get('pebbles');\n     * // => { 'name': 'pebbles', 'age': 1 }\n     *\n     * get.cache.pebbles.name = 'penelope';\n     * get('pebbles');\n     * // => { 'name': 'penelope', 'age': 1 }\n     */\n    function memoize(func, resolver) {\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      var memoized = function() {\n        var cache = memoized.cache,\n            key = resolver ? resolver.apply(this, arguments) : keyPrefix + arguments[0];\n\n        return hasOwnProperty.call(cache, key)\n          ? cache[key]\n          : (cache[key] = func.apply(this, arguments));\n      }\n      memoized.cache = {};\n      return memoized;\n    }\n\n    /**\n     * Creates a function that is restricted to execute `func` once. Repeat calls to\n     * the function will return the value of the first call. The `func` is executed\n     * with the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // `initialize` executes `createApplication` once\n     */\n    function once(func) {\n      var ran,\n          result;\n\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      return function() {\n        if (ran) {\n          return result;\n        }\n        ran = true;\n        result = func.apply(this, arguments);\n\n        // clear the `func` variable so the function may be garbage collected\n        func = null;\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that, when called, invokes `func` with any additional\n     * `partial` arguments prepended to those provided to the new function. This\n     * method is similar to `_.bind` except it does **not** alter the `this` binding.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [arg] Arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) { return greeting + ' ' + name; };\n     * var hi = _.partial(greet, 'hi');\n     * hi('fred');\n     * // => 'hi fred'\n     */\n    function partial(func) {\n      return createWrapper(func, 16, slice(arguments, 1));\n    }\n\n    /**\n     * This method is like `_.partial` except that `partial` arguments are\n     * appended to those provided to the new function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [arg] Arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var defaultsDeep = _.partialRight(_.merge, _.defaults);\n     *\n     * var options = {\n     *   'variable': 'data',\n     *   'imports': { 'jq': $ }\n     * };\n     *\n     * defaultsDeep(options, _.templateSettings);\n     *\n     * options.variable\n     * // => 'data'\n     *\n     * options.imports\n     * // => { '_': _, 'jq': $ }\n     */\n    function partialRight(func) {\n      return createWrapper(func, 32, null, slice(arguments, 1));\n    }\n\n    /**\n     * Creates a function that, when executed, will only call the `func` function\n     * at most once per every `wait` milliseconds. Provide an options object to\n     * indicate that `func` should be invoked on the leading and/or trailing edge\n     * of the `wait` timeout. Subsequent calls to the throttled function will\n     * return the result of the last `func` call.\n     *\n     * Note: If `leading` and `trailing` options are `true` `func` will be called\n     * on the trailing edge of the timeout only if the the throttled function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to throttle.\n     * @param {number} wait The number of milliseconds to throttle executions to.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=true] Specify execution on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // avoid excessively updating the position while scrolling\n     * var throttled = _.throttle(updatePosition, 100);\n     * jQuery(window).on('scroll', throttled);\n     *\n     * // execute `renewToken` when the click event is fired, but not more than once every 5 minutes\n     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n     *   'trailing': false\n     * }));\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      if (options === false) {\n        leading = false;\n      } else if (isObject(options)) {\n        leading = 'leading' in options ? options.leading : leading;\n        trailing = 'trailing' in options ? options.trailing : trailing;\n      }\n      debounceOptions.leading = leading;\n      debounceOptions.maxWait = wait;\n      debounceOptions.trailing = trailing;\n\n      return debounce(func, wait, debounceOptions);\n    }\n\n    /**\n     * Creates a function that provides `value` to the wrapper function as its\n     * first argument. Additional arguments provided to the function are appended\n     * to those provided to the wrapper function. The wrapper is executed with\n     * the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {*} value The value to wrap.\n     * @param {Function} wrapper The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('Fred, Wilma, & Pebbles');\n     * // => '<p>Fred, Wilma, &amp; Pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return createWrapper(wrapper, 16, [value]);\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var object = { 'name': 'fred' };\n     * var getter = _.constant(object);\n     * getter() === object;\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Produces a callback bound to an optional `thisArg`. If `func` is a property\n     * name the created callback will return the property value for a given element.\n     * If `func` is an object the created callback will return `true` for elements\n     * that contain the equivalent object properties, otherwise it will return `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {*} [func=identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of the created callback.\n     * @param {number} [argCount] The number of arguments the callback accepts.\n     * @returns {Function} Returns a callback function.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * // wrap to create custom callback shorthands\n     * _.createCallback = _.wrap(_.createCallback, function(func, callback, thisArg) {\n     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(callback);\n     *   return !match ? func(callback, thisArg) : function(object) {\n     *     return match[2] == 'gt' ? object[match[1]] > match[3] : object[match[1]] < match[3];\n     *   };\n     * });\n     *\n     * _.filter(characters, 'age__gt38');\n     * // => [{ 'name': 'fred', 'age': 40 }]\n     */\n    function createCallback(func, thisArg, argCount) {\n      var type = typeof func;\n      if (func == null || type == 'function') {\n        return baseCreateCallback(func, thisArg, argCount);\n      }\n      // handle \"_.pluck\" style callback shorthands\n      if (type != 'object') {\n        return property(func);\n      }\n      var props = keys(func),\n          key = props[0],\n          a = func[key];\n\n      // handle \"_.where\" style callback shorthands\n      if (props.length == 1 && a === a && !isObject(a)) {\n        // fast path the common case of providing an object with a single\n        // property containing a primitive value\n        return function(object) {\n          var b = object[key];\n          return a === b && (a !== 0 || (1 / a == 1 / b));\n        };\n      }\n      return function(object) {\n        var length = props.length,\n            result = false;\n\n        while (length--) {\n          if (!(result = baseIsEqual(object[props[length]], func[props[length]], null, true))) {\n            break;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Converts the characters `&`, `<`, `>`, `\"`, and `'` in `string` to their\n     * corresponding HTML entities.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} string The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('Fred, Wilma, & Pebbles');\n     * // => 'Fred, Wilma, &amp; Pebbles'\n     */\n    function escape(string) {\n      return string == null ? '' : String(string).replace(reUnescapedHtml, escapeHtmlChar);\n    }\n\n    /**\n     * This method returns the first argument provided to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'name': 'fred' };\n     * _.identity(object) === object;\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Adds function properties of a source object to the destination object.\n     * If `object` is a function methods will be added to its prototype as well.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {Function|Object} [object=lodash] object The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.chain=true] Specify whether the functions added are chainable.\n     * @example\n     *\n     * function capitalize(string) {\n     *   return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n     * }\n     *\n     * _.mixin({ 'capitalize': capitalize });\n     * _.capitalize('fred');\n     * // => 'Fred'\n     *\n     * _('fred').capitalize().value();\n     * // => 'Fred'\n     *\n     * _.mixin({ 'capitalize': capitalize }, { 'chain': false });\n     * _('fred').capitalize();\n     * // => 'Fred'\n     */\n    function mixin(object, source, options) {\n      var chain = true,\n          methodNames = source && functions(source);\n\n      if (!source || (!options && !methodNames.length)) {\n        if (options == null) {\n          options = source;\n        }\n        ctor = lodashWrapper;\n        source = object;\n        object = lodash;\n        methodNames = functions(source);\n      }\n      if (options === false) {\n        chain = false;\n      } else if (isObject(options) && 'chain' in options) {\n        chain = options.chain;\n      }\n      var ctor = object,\n          isFunc = isFunction(ctor);\n\n      forEach(methodNames, function(methodName) {\n        var func = object[methodName] = source[methodName];\n        if (isFunc) {\n          ctor.prototype[methodName] = function() {\n            var chainAll = this.__chain__,\n                value = this.__wrapped__,\n                args = [value];\n\n            push.apply(args, arguments);\n            var result = func.apply(object, args);\n            if (chain || chainAll) {\n              if (value === result && isObject(result)) {\n                return this;\n              }\n              result = new ctor(result);\n              result.__chain__ = chainAll;\n            }\n            return result;\n          };\n        }\n      });\n    }\n\n    /**\n     * Reverts the '_' variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      context._ = oldDash;\n      return this;\n    }\n\n    /**\n     * A no-operation function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @example\n     *\n     * var object = { 'name': 'fred' };\n     * _.noop(object) === undefined;\n     * // => true\n     */\n    function noop() {\n      // no operation performed\n    }\n\n    /**\n     * Gets the number of milliseconds that have elapsed since the Unix epoch\n     * (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @example\n     *\n     * var stamp = _.now();\n     * _.defer(function() { console.log(_.now() - stamp); });\n     * // => logs the number of milliseconds it took for the deferred function to be called\n     */\n    var now = isNative(now = Date.now) && now || function() {\n      return new Date().getTime();\n    };\n\n    /**\n     * Converts the given value into an integer of the specified radix.\n     * If `radix` is `undefined` or `0` a `radix` of `10` is used unless the\n     * `value` is a hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * Note: This method avoids differences in native ES3 and ES5 `parseInt`\n     * implementations. See http://es5.github.io/#E.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} value The value to parse.\n     * @param {number} [radix] The radix used to interpret the value to parse.\n     * @returns {number} Returns the new integer value.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     */\n    var parseInt = nativeParseInt(whitespace + '08') == 8 ? nativeParseInt : function(value, radix) {\n      // Firefox < 21 and Opera < 15 follow the ES3 specified implementation of `parseInt`\n      return nativeParseInt(isString(value) ? value.replace(reLeadingSpacesAndZeros, '') : value, radix || 0);\n    };\n\n    /**\n     * Creates a \"_.pluck\" style function, which returns the `key` value of a\n     * given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} key The name of the property to retrieve.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'fred',   'age': 40 },\n     *   { 'name': 'barney', 'age': 36 }\n     * ];\n     *\n     * var getName = _.property('name');\n     *\n     * _.map(characters, getName);\n     * // => ['barney', 'fred']\n     *\n     * _.sortBy(characters, getName);\n     * // => [{ 'name': 'barney', 'age': 36 }, { 'name': 'fred',   'age': 40 }]\n     */\n    function property(key) {\n      return function(object) {\n        return object[key];\n      };\n    }\n\n    /**\n     * Produces a random number between `min` and `max` (inclusive). If only one\n     * argument is provided a number between `0` and the given number will be\n     * returned. If `floating` is truey or either `min` or `max` are floats a\n     * floating-point number will be returned instead of an integer.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {number} [min=0] The minimum possible value.\n     * @param {number} [max=1] The maximum possible value.\n     * @param {boolean} [floating=false] Specify returning a floating-point number.\n     * @returns {number} Returns a random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(min, max, floating) {\n      var noMin = min == null,\n          noMax = max == null;\n\n      if (floating == null) {\n        if (typeof min == 'boolean' && noMax) {\n          floating = min;\n          min = 1;\n        }\n        else if (!noMax && typeof max == 'boolean') {\n          floating = max;\n          noMax = true;\n        }\n      }\n      if (noMin && noMax) {\n        max = 1;\n      }\n      min = +min || 0;\n      if (noMax) {\n        max = min;\n        min = 0;\n      } else {\n        max = +max || 0;\n      }\n      if (floating || min % 1 || max % 1) {\n        var rand = nativeRandom();\n        return nativeMin(min + (rand * (max - min + parseFloat('1e-' + ((rand +'').length - 1)))), max);\n      }\n      return baseRandom(min, max);\n    }\n\n    /**\n     * Resolves the value of property `key` on `object`. If `key` is a function\n     * it will be invoked with the `this` binding of `object` and its result returned,\n     * else the property value is returned. If `object` is falsey then `undefined`\n     * is returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {Object} object The object to inspect.\n     * @param {string} key The name of the property to resolve.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = {\n     *   'cheese': 'crumpets',\n     *   'stuff': function() {\n     *     return 'nonsense';\n     *   }\n     * };\n     *\n     * _.result(object, 'cheese');\n     * // => 'crumpets'\n     *\n     * _.result(object, 'stuff');\n     * // => 'nonsense'\n     */\n    function result(object, key) {\n      if (object) {\n        var value = object[key];\n        return isFunction(value) ? object[key]() : value;\n      }\n    }\n\n    /**\n     * A micro-templating method that handles arbitrary delimiters, preserves\n     * whitespace, and correctly escapes quotes within interpolated code.\n     *\n     * Note: In the development build, `_.template` utilizes sourceURLs for easier\n     * debugging. See http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl\n     *\n     * For more information on precompiling templates see:\n     * https://lodash.com/custom-builds\n     *\n     * For more information on Chrome extension sandboxes see:\n     * http://developer.chrome.com/stable/extensions/sandboxingEval.html\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} text The template text.\n     * @param {Object} data The data object used to populate the text.\n     * @param {Object} [options] The options object.\n     * @param {RegExp} [options.escape] The \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate] The \"evaluate\" delimiter.\n     * @param {Object} [options.imports] An object to import into the template as local variables.\n     * @param {RegExp} [options.interpolate] The \"interpolate\" delimiter.\n     * @param {string} [sourceURL] The sourceURL of the template's compiled source.\n     * @param {string} [variable] The data object variable name.\n     * @returns {Function|string} Returns a compiled function when no `data` object\n     *  is given, else it returns the interpolated text.\n     * @example\n     *\n     * // using the \"interpolate\" delimiter to create a compiled template\n     * var compiled = _.template('hello <%= name %>');\n     * compiled({ 'name': 'fred' });\n     * // => 'hello fred'\n     *\n     * // using the \"escape\" delimiter to escape HTML in data property values\n     * _.template('<b><%- value %></b>', { 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // using the \"evaluate\" delimiter to generate HTML\n     * var list = '<% _.forEach(people, function(name) { %><li><%- name %></li><% }); %>';\n     * _.template(list, { 'people': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the ES6 delimiter as an alternative to the default \"interpolate\" delimiter\n     * _.template('hello ${ name }', { 'name': 'pebbles' });\n     * // => 'hello pebbles'\n     *\n     * // using the internal `print` function in \"evaluate\" delimiters\n     * _.template('<% print(\"hello \" + name); %>!', { 'name': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // using a custom template delimiters\n     * _.templateSettings = {\n     *   'interpolate': /{{([\\s\\S]+?)}}/g\n     * };\n     *\n     * _.template('hello {{ name }}!', { 'name': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // using the `imports` option to import jQuery\n     * var list = '<% jq.each(people, function(name) { %><li><%- name %></li><% }); %>';\n     * _.template(list, { 'people': ['fred', 'barney'] }, { 'imports': { 'jq': jQuery } });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the `sourceURL` option to specify a custom sourceURL for the template\n     * var compiled = _.template('hello <%= name %>', null, { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n     *\n     * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n     * var compiled = _.template('hi <%= data.name %>!', null, { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     *   var __t, __p = '', __e = _.escape;\n     *   __p += 'hi ' + ((__t = ( data.name )) == null ? '' : __t) + '!';\n     *   return __p;\n     * }\n     *\n     * // using the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and a stack trace\n     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(text, data, options) {\n      // based on John Resig's `tmpl` implementation\n      // http://ejohn.org/blog/javascript-micro-templating/\n      // and Laura Doktorova's doT.js\n      // https://github.com/olado/doT\n      var settings = lodash.templateSettings;\n      text = String(text || '');\n\n      // avoid missing dependencies when `iteratorTemplate` is not defined\n      options = defaults({}, options, settings);\n\n      var imports = defaults({}, options.imports, settings.imports),\n          importsKeys = keys(imports),\n          importsValues = values(imports);\n\n      var isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // compile the regexp to match each delimiter\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      text.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // escape characters that cannot be included in string literals\n        source += text.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // replace delimiters with snippets\n        if (escapeValue) {\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // the JS engine embedded in Adobe products requires returning the `match`\n        // string in order to produce the correct `offset` value\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // if `variable` is not specified, wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain\n      var variable = options.variable,\n          hasVariable = variable;\n\n      if (!hasVariable) {\n        variable = 'obj';\n        source = 'with (' + variable + ') {\\n' + source + '\\n}\\n';\n      }\n      // cleanup code by stripping empty strings\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // frame code as the function body\n      source = 'function(' + variable + ') {\\n' +\n        (hasVariable ? '' : variable + ' || (' + variable + ' = {});\\n') +\n        \"var __t, __p = '', __e = _.escape\" +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      // Use a sourceURL for easier debugging.\n      // http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl\n      var sourceURL = '\\n/*\\n//# sourceURL=' + (options.sourceURL || '/lodash/template/source[' + (templateCounter++) + ']') + '\\n*/';\n\n      try {\n        var result = Function(importsKeys, 'return ' + source + sourceURL).apply(undefined, importsValues);\n      } catch(e) {\n        e.source = source;\n        throw e;\n      }\n      if (data) {\n        return result(data);\n      }\n      // provide the compiled function's source by its `toString` method, in\n      // supported environments, or the `source` property as a convenience for\n      // inlining compiled templates during the build process\n      result.source = source;\n      return result;\n    }\n\n    /**\n     * Executes the callback `n` times, returning an array of the results\n     * of each callback execution. The callback is bound to `thisArg` and invoked\n     * with one argument; (index).\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {number} n The number of times to execute the callback.\n     * @param {Function} callback The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns an array of the results of each `callback` execution.\n     * @example\n     *\n     * var diceRolls = _.times(3, _.partial(_.random, 1, 6));\n     * // => [3, 6, 4]\n     *\n     * _.times(3, function(n) { mage.castSpell(n); });\n     * // => calls `mage.castSpell(n)` three times, passing `n` of `0`, `1`, and `2` respectively\n     *\n     * _.times(3, function(n) { this.cast(n); }, mage);\n     * // => also calls `mage.castSpell(n)` three times\n     */\n    function times(n, callback, thisArg) {\n      n = (n = +n) > -1 ? n : 0;\n      var index = -1,\n          result = Array(n);\n\n      callback = baseCreateCallback(callback, thisArg, 1);\n      while (++index < n) {\n        result[index] = callback(index);\n      }\n      return result;\n    }\n\n    /**\n     * The inverse of `_.escape` this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to their\n     * corresponding characters.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} string The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('Fred, Barney &amp; Pebbles');\n     * // => 'Fred, Barney & Pebbles'\n     */\n    function unescape(string) {\n      return string == null ? '' : String(string).replace(reEscapedHtml, unescapeHtmlChar);\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is provided the ID will be appended to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} [prefix] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return String(prefix == null ? '' : prefix) + id;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object that wraps the given value with explicit\n     * method chaining enabled.\n     *\n     * @static\n     * @memberOf _\n     * @category Chaining\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'age': 36 },\n     *   { 'name': 'fred',    'age': 40 },\n     *   { 'name': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _.chain(characters)\n     *     .sortBy('age')\n     *     .map(function(chr) { return chr.name + ' is ' + chr.age; })\n     *     .first()\n     *     .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      value = new lodashWrapper(value);\n      value.__chain__ = true;\n      return value;\n    }\n\n    /**\n     * Invokes `interceptor` with the `value` as the first argument and then\n     * returns `value`. The purpose of this method is to \"tap into\" a method\n     * chain in order to perform operations on intermediate results within\n     * the chain.\n     *\n     * @static\n     * @memberOf _\n     * @category Chaining\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3, 4])\n     *  .tap(function(array) { array.pop(); })\n     *  .reverse()\n     *  .value();\n     * // => [3, 2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * Enables explicit method chaining on the wrapper object.\n     *\n     * @name chain\n     * @memberOf _\n     * @category Chaining\n     * @returns {*} Returns the wrapper object.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * // without explicit chaining\n     * _(characters).first();\n     * // => { 'name': 'barney', 'age': 36 }\n     *\n     * // with explicit chaining\n     * _(characters).chain()\n     *   .first()\n     *   .pick('age')\n     *   .value();\n     * // => { 'age': 36 }\n     */\n    function wrapperChain() {\n      this.__chain__ = true;\n      return this;\n    }\n\n    /**\n     * Produces the `toString` result of the wrapped value.\n     *\n     * @name toString\n     * @memberOf _\n     * @category Chaining\n     * @returns {string} Returns the string result.\n     * @example\n     *\n     * _([1, 2, 3]).toString();\n     * // => '1,2,3'\n     */\n    function wrapperToString() {\n      return String(this.__wrapped__);\n    }\n\n    /**\n     * Extracts the wrapped value.\n     *\n     * @name valueOf\n     * @memberOf _\n     * @alias value\n     * @category Chaining\n     * @returns {*} Returns the wrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).valueOf();\n     * // => [1, 2, 3]\n     */\n    function wrapperValueOf() {\n      return this.__wrapped__;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    // add functions that return wrapped values when chaining\n    lodash.after = after;\n    lodash.assign = assign;\n    lodash.at = at;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.chain = chain;\n    lodash.compact = compact;\n    lodash.compose = compose;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.createCallback = createCallback;\n    lodash.curry = curry;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.filter = filter;\n    lodash.flatten = flatten;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.functions = functions;\n    lodash.groupBy = groupBy;\n    lodash.indexBy = indexBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.invert = invert;\n    lodash.invoke = invoke;\n    lodash.keys = keys;\n    lodash.map = map;\n    lodash.mapValues = mapValues;\n    lodash.max = max;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.min = min;\n    lodash.omit = omit;\n    lodash.once = once;\n    lodash.pairs = pairs;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.pick = pick;\n    lodash.pluck = pluck;\n    lodash.property = property;\n    lodash.pull = pull;\n    lodash.range = range;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.shuffle = shuffle;\n    lodash.sortBy = sortBy;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.times = times;\n    lodash.toArray = toArray;\n    lodash.transform = transform;\n    lodash.union = union;\n    lodash.uniq = uniq;\n    lodash.values = values;\n    lodash.where = where;\n    lodash.without = without;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n\n    // add aliases\n    lodash.collect = map;\n    lodash.drop = rest;\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.extend = assign;\n    lodash.methods = functions;\n    lodash.object = zipObject;\n    lodash.select = filter;\n    lodash.tail = rest;\n    lodash.unique = uniq;\n    lodash.unzip = zip;\n\n    // add functions to `lodash.prototype`\n    mixin(lodash);\n\n    /*--------------------------------------------------------------------------*/\n\n    // add functions that return unwrapped values when chaining\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.contains = contains;\n    lodash.escape = escape;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.has = has;\n    lodash.identity = identity;\n    lodash.indexOf = indexOf;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isBoolean = isBoolean;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isNaN = isNaN;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isString = isString;\n    lodash.isUndefined = isUndefined;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.mixin = mixin;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.result = result;\n    lodash.runInContext = runInContext;\n    lodash.size = size;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.template = template;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n\n    // add aliases\n    lodash.all = every;\n    lodash.any = some;\n    lodash.detect = find;\n    lodash.findWhere = find;\n    lodash.foldl = reduce;\n    lodash.foldr = reduceRight;\n    lodash.include = contains;\n    lodash.inject = reduce;\n\n    mixin(function() {\n      var source = {}\n      forOwn(lodash, function(func, methodName) {\n        if (!lodash.prototype[methodName]) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }(), false);\n\n    /*--------------------------------------------------------------------------*/\n\n    // add functions capable of returning wrapped and unwrapped values when chaining\n    lodash.first = first;\n    lodash.last = last;\n    lodash.sample = sample;\n\n    // add aliases\n    lodash.take = first;\n    lodash.head = first;\n\n    forOwn(lodash, function(func, methodName) {\n      var callbackable = methodName !== 'sample';\n      if (!lodash.prototype[methodName]) {\n        lodash.prototype[methodName]= function(n, guard) {\n          var chainAll = this.__chain__,\n              result = func(this.__wrapped__, n, guard);\n\n          return !chainAll && (n == null || (guard && !(callbackable && typeof n == 'function')))\n            ? result\n            : new lodashWrapper(result, chainAll);\n        };\n      }\n    });\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type string\n     */\n    lodash.VERSION = '2.4.2';\n\n    // add \"Chaining\" functions to the wrapper\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.toString = wrapperToString;\n    lodash.prototype.value = wrapperValueOf;\n    lodash.prototype.valueOf = wrapperValueOf;\n\n    // add `Array` functions that return unwrapped values\n    forEach(['join', 'pop', 'shift'], function(methodName) {\n      var func = arrayRef[methodName];\n      lodash.prototype[methodName] = function() {\n        var chainAll = this.__chain__,\n            result = func.apply(this.__wrapped__, arguments);\n\n        return chainAll\n          ? new lodashWrapper(result, chainAll)\n          : result;\n      };\n    });\n\n    // add `Array` functions that return the existing wrapped value\n    forEach(['push', 'reverse', 'sort', 'unshift'], function(methodName) {\n      var func = arrayRef[methodName];\n      lodash.prototype[methodName] = function() {\n        func.apply(this.__wrapped__, arguments);\n        return this;\n      };\n    });\n\n    // add `Array` functions that return new wrapped values\n    forEach(['concat', 'slice', 'splice'], function(methodName) {\n      var func = arrayRef[methodName];\n      lodash.prototype[methodName] = function() {\n        return new lodashWrapper(func.apply(this.__wrapped__, arguments), this.__chain__);\n      };\n    });\n\n    return lodash;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // expose Lo-Dash\n  var _ = runInContext();\n\n  // some AMD build optimizers like r.js check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lo-Dash to the global object even when an AMD loader is present in\n    // case Lo-Dash is loaded with a RequireJS shim config.\n    // See http://requirejs.org/docs/api.html#config-shim\n    root._ = _;\n\n    // define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module\n    define(function() {\n      return _;\n    });\n  }\n  // check for `exports` after `define` in case a build optimizer adds an `exports` object\n  else if (freeExports && freeModule) {\n    // in Node.js or RingoJS\n    if (moduleExports) {\n      (freeModule.exports = _)._ = _;\n    }\n    // in Narwhal or Rhino -require\n    else {\n      freeExports._ = _;\n    }\n  }\n  else {\n    // in a browser or Rhino\n    root._ = _;\n  }\n}.call(this));\n",
    "var localforage = require('localforage');\nvar EventEmitter = require('events').EventEmitter;\nvar muteUI = require('./ui');\nvar extend = require('extend');\n\nvar dispatchChanged = function( emitter, mutedValue ) {\n\n\temitter.emit('change', mutedValue );\n\t\n\tif( mutedValue === true ) {\n\t\temitter.emit('mute');\n\t} else {\n\t\temitter.emit('unmute');\n\t}\n};\n\nvar updateFromLocalStorage = function( exports, emitter ) {\n\t\n\tlocalforage.getItem('poem-mute', function( err, value ) {\n\t\t\n\t\tvar currentMute = exports.muted();\n\n\t\tif( err || (value !== false && value !== true ) ) {\n\t\t\texports.muted( false );\n\t\t} else {\n\t\t \texports.muted( value );\n\t\t}\n\t\t\n\t}.bind(this));\n\t\n};\n\nvar keyboardShortcut = function( state, toggle, config ) {\n\t\n\tif( config.keyCode !== false ) {\n\t\t\n\t\twindow.addEventListener('keydown', function muteAudioByKeboard( e ) {\n\t\n\t\t\tif( e.keyCode !== config.keyCode ) return;\n\t\t\ttoggle();\n\t\n\t\t});\n\t}\n};\n\nvar getSetMuted = function( state, emitter ) {\n\treturn function( value ) {\n\t\t\n\t\tif( value === true || value === false ) {\n\t\t\tif( value !== state.muted ) {\n\t\t\t\t\n\t\t\t\tstate.muted = value;\n\t\t\t\tlocalforage.setItem( 'poem-mute', state.muted );\n\t\t\t\tdispatchChanged( emitter, state.muted );\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn state.muted;\n\t}\n};\n\nvar mute = function( properties ) {\n\t\n\tvar config = extend({\n\t\tmuted : false,\n\t\tkeyCode : 83\n\t});\n\t\n\tvar state = {\n\t\tmuted : config.muted\n\t};\n\t\n\tvar emitter = new EventEmitter();\n\tvar muted = getSetMuted( state, emitter );\n\tvar toggle = function() { muted( !muted() ); }\n\t\n\tkeyboardShortcut( state, toggle, config );\n\t\n\tvar exports = {\n\t\tmuted : muted,\n\t\ttoggle : toggle,\n\t\temitter : emitter,\n\t\tel : null\n\t};\n\n\tupdateFromLocalStorage( exports, emitter );\n\texports.el = muteUI( exports )\n\t\n\treturn exports;\n};\n\nmodule.exports = mute;\n",
    "// contains, add, remove, toggle\nvar indexof = require('indexof')\n\nmodule.exports = ClassList\n\nfunction ClassList(elem) {\n    var cl = elem.classList\n\n    if (cl) {\n        return cl\n    }\n\n    var classList = {\n        add: add\n        , remove: remove\n        , contains: contains\n        , toggle: toggle\n        , toString: $toString\n        , length: 0\n        , item: item\n    }\n\n    return classList\n\n    function add(token) {\n        var list = getTokens()\n        if (indexof(list, token) > -1) {\n            return\n        }\n        list.push(token)\n        setTokens(list)\n    }\n\n    function remove(token) {\n        var list = getTokens()\n            , index = indexof(list, token)\n\n        if (index === -1) {\n            return\n        }\n\n        list.splice(index, 1)\n        setTokens(list)\n    }\n\n    function contains(token) {\n        return indexof(getTokens(), token) > -1\n    }\n\n    function toggle(token) {\n        if (contains(token)) {\n            remove(token)\n            return false\n        } else {\n            add(token)\n            return true\n        }\n    }\n\n    function $toString() {\n        return elem.className\n    }\n\n    function item(index) {\n        var tokens = getTokens()\n        return tokens[index] || null\n    }\n\n    function getTokens() {\n        var className = elem.className\n\n        return filter(className.split(\" \"), isTruthy)\n    }\n\n    function setTokens(list) {\n        var length = list.length\n\n        elem.className = list.join(\" \")\n        classList.length = length\n\n        for (var i = 0; i < list.length; i++) {\n            classList[i] = list[i]\n        }\n\n        delete list[length]\n    }\n}\n\nfunction filter (arr, fn) {\n    var ret = []\n    for (var i = 0; i < arr.length; i++) {\n        if (fn(arr[i])) ret.push(arr[i])\n    }\n    return ret\n}\n\nfunction isTruthy(value) {\n    return !!value\n}\n",
    "\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};",
    "var hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar undefined;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\t'use strict';\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar has_own_constructor = hasOwn.call(obj, 'constructor');\n\tvar has_is_property_of_method = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !has_own_constructor && !has_is_property_of_method) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) {}\n\n\treturn key === undefined || hasOwn.call(obj, key);\n};\n\nmodule.exports = function extend() {\n\t'use strict';\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[0],\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t} else if ((typeof target !== 'object' && typeof target !== 'function') || target == null) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target === copy) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if (copy !== undefined) {\n\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n",
    "var inserted = {};\n\nmodule.exports = function (css, options) {\n    if (inserted[css]) return;\n    inserted[css] = true;\n    \n    var elem = document.createElement('style');\n    elem.setAttribute('type', 'text/css');\n\n    if ('textContent' in elem) {\n      elem.textContent = css;\n    } else {\n      elem.styleSheet.cssText = css;\n    }\n    \n    var head = document.getElementsByTagName('head')[0];\n    if (options && options.prepend) {\n        head.insertBefore(elem, head.childNodes[0]);\n    } else {\n        head.appendChild(elem);\n    }\n};\n",
    "\nvar ClassList = require(\"class-list\");\nvar insertCss = require('insert-css');\n\nvar _html = Buffer(\"PGEgaHJlZj0nI211dGUnIGlkPSdwb2VtLW11dGUnIGNsYXNzPSdwb2VtLW11dGUnIHRpdGxlPSdIaXQgUyBrZXkgdG8gbXV0ZSc+Cgk8c3ZnIGNsYXNzPSdwb2VtLW11dGUtc3ZnJyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJCSB2aWV3Qm94PSIwIDAgNjQwIDQxNC40IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA2NDAgNDE0LjQiIHhtbDpzcGFjZT0icHJlc2VydmUiPgoJPHBhdGggY2xhc3M9J3BvZW0tbXV0ZS1zcGVha2VyJwoJCWQ9Ik0yOTQuNCwzNzlsLTExMi41LTc4LjljLTMuOC0yLjctOC4zLTQuMS0xMy00LjFINzMuNkM2MS4xLDI5Niw1MSwyODUuOSw1MSwyNzMuNFYxNDIuNmMwLTEyLjUsMTAuMS0yMi42LDIyLjYtMjIuNmg5Ni4yCgkJYzQuNywwLDkuMi0xLjQsMTMuMS00LjFsMTExLjUtNzguN2MxNS0xMC42LDM1LjcsMC4xLDM1LjcsMTguNXYzMDQuOEMzMzAsMzc4LjgsMzA5LjQsMzg5LjUsMjk0LjQsMzc5eiIvPgoJPHBhdGggY2xhc3M9J3BvZW0tbXV0ZS14JwoJCWQ9Ik01NjUuMywyNjkuM2wtNTkuMS01OS4xbDU5LjEtNTkuMWM3LjEtNy4xLDcuMS0xOC43LDAtMjUuOGMtNy4xLTcuMS0xOC43LTcuMS0yNS44LDBsLTU5LjEsNTkuMWwtNTkuMS01OS4xCgkJYy03LjEtNy4xLTE4LjctNy4xLTI1LjgsMGwwLDBjLTcuMSw3LjEtNy4xLDE4LjcsMCwyNS44bDU5LjEsNTkuMWwtNTkuMSw1OS4xYy03LjEsNy4xLTcuMSwxOC43LDAsMjUuOGM3LjEsNy4xLDE4LjcsNy4xLDI1LjgsMAoJCWw1OS4xLTU5LjFsNTkuMSw1OS4xYzcuMSw3LjEsMTguNyw3LjEsMjUuOCwwdjBDNTcyLjQsMjg3LjksNTcyLjQsMjc2LjQsNTY1LjMsMjY5LjN6Ii8+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggY2xhc3M9J3BvZW0tbXV0ZS13YXZlJwoJCQkJZD0iTTM5NS4yLDMxNC4yYy02LjMsMC0xMi40LTMuNy0xNS4xLTkuOGMtMi44LTYuNS0xLjItMTMuNywzLjUtMTguNGMwLjUtMC42LDEtMS4yLDEuNi0xLjhjMi4yLTIuMiw0LjMtMy42LDYuMS00LjcKCQkJCWMxLTEuMSwyLTIuMiwzLTMuM2MxLjctMS44LDMuNC0zLjcsNS4zLTUuN2MxNi42LTE5LjksMjQuNC00Ni43LDIxLjYtNzMuN2MtMi44LTI2LjktMTYtNTEuMy0zNi4yLTY2LjljLTcuMi01LjYtOC41LTE1LjktMy0yMy4xCgkJCQljNS42LTcuMiwxNS45LTguNSwyMy4xLTNjMjcuMywyMS4xLDQ1LjEsNTMuNyw0OC44LDg5LjZjMy44LDM2LjEtNyw3Mi4yLTI5LjYsOTlsLTAuNCwwLjVsLTAuNSwwLjVjLTEuNiwxLjYtMy4xLDMuMi00LjcsNQoJCQkJYy0xLjgsMi0zLjcsNC4xLTUuOSw2LjNsLTEuOSwxLjlsLTIuNCwxLjJjMCwwLDAsMC0wLjEsMGMtMS40LDEuNy0zLjUsMy44LTYuOSw1LjJDMzk5LjcsMzEzLjgsMzk3LjUsMzE0LjIsMzk1LjIsMzE0LjJ6Ii8+CgkJPC9nPgoJCTxnPgoJCQk8cGF0aCBjbGFzcz0ncG9lbS1tdXRlLXdhdmUnCgkJCQlkPSJNNDM4LjYsMzU2LjJjLTYuMywwLTEyLjQtMy43LTE1LjEtOS44Yy0yLjktNi42LTEuMS0xNC4xLDMuOS0xOC44YzAuNS0wLjcsMS4yLTEuNiwyLjEtMi40YzMtMyw1LjktNC44LDguMy02LjIKCQkJCWMxLjgtMS45LDMuNi0zLjgsNS40LTUuOWMyLjQtMi43LDQuOS01LjUsNy44LTguNGMyNS43LTMwLjcsMzcuOS03Mi4xLDMzLjUtMTEzLjhjLTQuNC00MS41LTI0LjgtNzkuMS01NS45LTEwMy4yCgkJCQljLTcuMi01LjYtOC41LTE1LjktMy0yMy4xYzUuNi03LjIsMTUuOS04LjUsMjMuMS0zYzM4LjIsMjkuNiw2My4yLDc1LjQsNjguNiwxMjUuOGM1LjQsNTAuOC05LjgsMTAxLjUtNDEuNiwxMzkuMWwtMC40LDAuNQoJCQkJbC0wLjUsMC41Yy0yLjQsMi40LTQuNyw1LTcuMSw3LjZjLTIuNiwyLjktNS4yLDUuOC04LjMsOC45bC0xLjksMS45bC0yLjQsMS4yYy0wLjgsMC40LTEuNCwwLjctMS43LDAuOWMtMS4zLDEuOS0zLjgsNC44LTguMSw2LjYKCQkJCUM0NDMsMzU1LjcsNDQwLjgsMzU2LjIsNDM4LjYsMzU2LjJ6Ii8+CgkJPC9nPgoJCTxnPgoJCQk8cGF0aCBjbGFzcz0ncG9lbS1tdXRlLXdhdmUnCgkJCQlkPSJNNDgzLjYsMzk1LjZjLTYuMywwLTEyLjQtMy43LTE1LjEtOS44Yy0zLTYuNy0xLjEtMTQuNCw0LjItMTljMC42LTAuOSwxLjQtMS45LDIuNS0yLjljMy43LTMuNyw3LjMtNS45LDEwLjMtNy41CgkJCQljMi42LTIuNyw1LTUuNCw3LjYtOC4zYzMuMi0zLjUsNi40LTcuMSwxMC4xLTEwLjhjMzQuMy00MC44LDUwLjYtOTYsNDQuOC0xNTEuNmMtNS44LTU1LjItMzMtMTA1LjItNzQuNS0xMzcuMwoJCQkJYy03LjItNS42LTguNS0xNS45LTMtMjMuMWM1LjYtNy4yLDE1LjktOC41LDIzLjEtM2M0OC42LDM3LjYsODAuMyw5NS45LDg3LjEsMTYwYzYuOCw2NC43LTEyLjQsMTI5LjEtNTIuOCwxNzYuOWwtMC40LDAuNQoJCQkJbC0wLjUsMC41Yy0zLjMsMy4zLTYuMiw2LjYtOS40LDEwLjFjLTMuMywzLjctNi43LDcuNS0xMC42LDExLjNsLTEuOSwxLjlsLTIuNCwxLjJjLTEuOCwwLjktMi44LDEuNC0zLjYsMgoJCQkJYy0xLjMsMi0zLjksNS41LTguOSw3LjdDNDg4LjEsMzk1LjIsNDg1LjgsMzk1LjYsNDgzLjYsMzk1LjZ6Ii8+CgkJPC9nPgoJPC9nPgoJPC9zdmc+CjwvYT4=\",\"base64\");\nvar _css = Buffer(\"LnBvZW0tbXV0ZS1zdmcgewogICAgZmlsbDogI2ZmZjsKCW9wYWNpdHk6MC44Owp9Ci5wb2VtLW11dGUtbXV0ZWQgLnBvZW0tbXV0ZS13YXZlIHsKICAgIGRpc3BsYXk6IG5vbmU7Cn0KLnBvZW0tbXV0ZS11bm11dGVkIC5wb2VtLW11dGUteCB7CiAgICBkaXNwbGF5OiBub25lOwp9Ci5wb2VtLW11dGUteCB7CiAgICBmaWxsOiByZWQ7Cn0KLnBvZW0tbXV0ZS1zdmc6aG92ZXIgewogICAgb3BhY2l0eToxOwp9\",\"base64\");\nvar _cssInserted = false;\n\n\nfunction createElement( html, className ) {\n\tvar div = document.createElement('div');\n\tdiv.innerHTML = html;\n\treturn div.getElementsByClassName( className )[0]\n}\n\nmodule.exports = function muteEl( mute ) {\n\t\n\tvar el = createElement( _html, 'poem-mute' );\n\tvar elClass = ClassList( el );\n\t\n\tif( !_cssInserted ) {\n\t\tinsertCss( _css );\n\t\t_cssInserted = true;\n\t}\n\t\n\tvar updateClass = function() {\n\t\tif( mute.muted() ) {\n\t\t\telClass.remove('poem-mute-unmuted');\n\t\t\telClass.add('poem-mute-muted');\t\t\n\t\t} else {\n\t\t\telClass.remove('poem-mute-muted');\n\t\t\telClass.add('poem-mute-unmuted');\n\t\t}\n\t};\n\t\t\n\tmute.emitter.on( 'change', updateClass );\n\tupdateClass();\n\t\n\t\n\tel.addEventListener( 'click', function( e ) {\n\t\tmute.toggle();\n\t\tupdateClass();\n\t\t\n\t\te.preventDefault();\n\t\te.stopImmediatePropagation();\n\t}, true);\n\t\n\treturn el;\n};",
    "/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('is-array')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\nBuffer.poolSize = 8192 // not used by this implementation\n\nvar kMaxLength = 0x3fffffff\nvar rootParent = {}\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Note:\n *\n * - Implementation must support adding new properties to `Uint8Array` instances.\n *   Firefox 4-29 lacked support, fixed in Firefox 30+.\n *   See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *  - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *  - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *    incorrect length in some situations.\n *\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they will\n * get the Object implementation, which is slower but will work correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = (function () {\n  try {\n    var buf = new ArrayBuffer(0)\n    var arr = new Uint8Array(buf)\n    arr.foo = function () { return 42 }\n    return 42 === arr.foo() && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        new Uint8Array(1).subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n})()\n\n/**\n * Class: Buffer\n * =============\n *\n * The Buffer constructor returns instances of `Uint8Array` that are augmented\n * with function properties for all the node `Buffer` API functions. We use\n * `Uint8Array` so that square bracket notation works as expected -- it returns\n * a single octet.\n *\n * By augmenting the instances, we can avoid modifying the `Uint8Array`\n * prototype.\n */\nfunction Buffer (subject, encoding, noZero) {\n  if (!(this instanceof Buffer))\n    return new Buffer(subject, encoding, noZero)\n\n  var type = typeof subject\n\n  // Find the length\n  var length\n  if (type === 'number')\n    length = subject > 0 ? subject >>> 0 : 0\n  else if (type === 'string') {\n    length = Buffer.byteLength(subject, encoding)\n  } else if (type === 'object' && subject !== null) { // assume object is array-like\n    if (subject.type === 'Buffer' && isArray(subject.data))\n      subject = subject.data\n    length = +subject.length > 0 ? Math.floor(+subject.length) : 0\n  } else\n    throw new TypeError('must start with number, buffer, array or string')\n\n  if (length > kMaxLength)\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n      'size: 0x' + kMaxLength.toString(16) + ' bytes')\n\n  var buf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Preferred: Return an augmented `Uint8Array` instance for best performance\n    buf = Buffer._augment(new Uint8Array(length))\n  } else {\n    // Fallback: Return THIS instance of Buffer (created by `new`)\n    buf = this\n    buf.length = length\n    buf._isBuffer = true\n  }\n\n  var i\n  if (Buffer.TYPED_ARRAY_SUPPORT && typeof subject.byteLength === 'number') {\n    // Speed optimization -- use set if we're copying from a typed array\n    buf._set(subject)\n  } else if (isArrayish(subject)) {\n    // Treat array-ish objects as a byte array\n    if (Buffer.isBuffer(subject)) {\n      for (i = 0; i < length; i++)\n        buf[i] = subject.readUInt8(i)\n    } else {\n      for (i = 0; i < length; i++)\n        buf[i] = ((subject[i] % 256) + 256) % 256\n    }\n  } else if (type === 'string') {\n    buf.write(subject, 0, encoding)\n  } else if (type === 'number' && !Buffer.TYPED_ARRAY_SUPPORT && !noZero) {\n    for (i = 0; i < length; i++) {\n      buf[i] = 0\n    }\n  }\n\n  if (length > 0 && length <= Buffer.poolSize)\n    buf.parent = rootParent\n\n  return buf\n}\n\nfunction SlowBuffer(subject, encoding, noZero) {\n  if (!(this instanceof SlowBuffer))\n    return new SlowBuffer(subject, encoding, noZero)\n\n  var buf = new Buffer(subject, encoding, noZero)\n  delete buf.parent\n  return buf\n}\n\nBuffer.isBuffer = function (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b))\n    throw new TypeError('Arguments must be Buffers')\n\n  var x = a.length\n  var y = b.length\n  for (var i = 0, len = Math.min(x, y); i < len && a[i] === b[i]; i++) {}\n  if (i !== len) {\n    x = a[i]\n    y = b[i]\n  }\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'raw':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function (list, totalLength) {\n  if (!isArray(list)) throw new TypeError('Usage: Buffer.concat(list[, length])')\n\n  if (list.length === 0) {\n    return new Buffer(0)\n  } else if (list.length === 1) {\n    return list[0]\n  }\n\n  var i\n  if (totalLength === undefined) {\n    totalLength = 0\n    for (i = 0; i < list.length; i++) {\n      totalLength += list[i].length\n    }\n  }\n\n  var buf = new Buffer(totalLength)\n  var pos = 0\n  for (i = 0; i < list.length; i++) {\n    var item = list[i]\n    item.copy(buf, pos)\n    pos += item.length\n  }\n  return buf\n}\n\nBuffer.byteLength = function (str, encoding) {\n  var ret\n  str = str + ''\n  switch (encoding || 'utf8') {\n    case 'ascii':\n    case 'binary':\n    case 'raw':\n      ret = str.length\n      break\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      ret = str.length * 2\n      break\n    case 'hex':\n      ret = str.length >>> 1\n      break\n    case 'utf8':\n    case 'utf-8':\n      ret = utf8ToBytes(str).length\n      break\n    case 'base64':\n      ret = base64ToBytes(str).length\n      break\n    default:\n      ret = str.length\n  }\n  return ret\n}\n\n// pre-set for values that may exist in the future\nBuffer.prototype.length = undefined\nBuffer.prototype.parent = undefined\n\n// toString(encoding, start=0, end=buffer.length)\nBuffer.prototype.toString = function (encoding, start, end) {\n  var loweredCase = false\n\n  start = start >>> 0\n  end = end === undefined || end === Infinity ? this.length : end >>> 0\n\n  if (!encoding) encoding = 'utf8'\n  if (start < 0) start = 0\n  if (end > this.length) end = this.length\n  if (end <= start) return ''\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'binary':\n        return binarySlice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase)\n          throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.equals = function (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max)\n      str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  return Buffer.compare(this, b)\n}\n\n// `get` will be removed in Node 0.13+\nBuffer.prototype.get = function (offset) {\n  console.log('.get() is deprecated. Access using array indexes instead.')\n  return this.readUInt8(offset)\n}\n\n// `set` will be removed in Node 0.13+\nBuffer.prototype.set = function (v, offset) {\n  console.log('.set() is deprecated. Access using array indexes instead.')\n  return this.writeUInt8(v, offset)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new Error('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; i++) {\n    var byte = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(byte)) throw new Error('Invalid hex string')\n    buf[offset + i] = byte\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  var charsWritten = blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n  return charsWritten\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  var charsWritten = blitBuffer(asciiToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction binaryWrite (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  var charsWritten = blitBuffer(base64ToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction utf16leWrite (buf, string, offset, length) {\n  var charsWritten = blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length, 2)\n  return charsWritten\n}\n\nBuffer.prototype.write = function (string, offset, length, encoding) {\n  // Support both (string, offset, length, encoding)\n  // and the legacy (string, encoding, offset, length)\n  if (isFinite(offset)) {\n    if (!isFinite(length)) {\n      encoding = length\n      length = undefined\n    }\n  } else {  // legacy\n    var swap = encoding\n    encoding = offset\n    offset = length\n    length = swap\n  }\n\n  offset = Number(offset) || 0\n\n  if (length < 0 || offset < 0 || offset > this.length)\n    throw new RangeError('attempt to write outside buffer bounds');\n\n  var remaining = this.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n  encoding = String(encoding || 'utf8').toLowerCase()\n\n  var ret\n  switch (encoding) {\n    case 'hex':\n      ret = hexWrite(this, string, offset, length)\n      break\n    case 'utf8':\n    case 'utf-8':\n      ret = utf8Write(this, string, offset, length)\n      break\n    case 'ascii':\n      ret = asciiWrite(this, string, offset, length)\n      break\n    case 'binary':\n      ret = binaryWrite(this, string, offset, length)\n      break\n    case 'base64':\n      ret = base64Write(this, string, offset, length)\n      break\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      ret = utf16leWrite(this, string, offset, length)\n      break\n    default:\n      throw new TypeError('Unknown encoding: ' + encoding)\n  }\n  return ret\n}\n\nBuffer.prototype.toJSON = function () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  var res = ''\n  var tmp = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    if (buf[i] <= 0x7F) {\n      res += decodeUtf8Char(tmp) + String.fromCharCode(buf[i])\n      tmp = ''\n    } else {\n      tmp += '%' + buf[i].toString(16)\n    }\n  }\n\n  return res + decodeUtf8Char(tmp)\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction binarySlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; i++) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len;\n    if (start < 0)\n      start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0)\n      end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start)\n    end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = Buffer._augment(this.subarray(start, end))\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined, true)\n    for (var i = 0; i < sliceLen; i++) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  if (newBuf.length)\n    newBuf.parent = this.parent || this\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0)\n    throw new RangeError('offset is not uint')\n  if (offset + ext > length)\n    throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert)\n    checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100))\n    val += this[offset + i] * mul\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert)\n    checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100))\n    val += this[offset + --byteLength] * mul;\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n      ((this[offset + 1] << 16) |\n      (this[offset + 2] << 8) |\n      this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert)\n    checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100))\n    val += this[offset + i] * mul\n  mul *= 0x80\n\n  if (val >= mul)\n    val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert)\n    checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100))\n    val += this[offset + --i] * mul\n  mul *= 0x80\n\n  if (val >= mul)\n    val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80))\n    return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16) |\n      (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n      (this[offset + 1] << 16) |\n      (this[offset + 2] << 8) |\n      (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100))\n    this[offset + i] = (value / mul) >>> 0 & 0xFF\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100))\n    this[offset + i] = (value / mul) >>> 0 & 0xFF\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = value\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n  } else objectWriteUInt16(this, value, offset, true)\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = value\n  } else objectWriteUInt16(this, value, offset, false)\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = value\n  } else objectWriteUInt32(this, value, offset, true)\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = value\n  } else objectWriteUInt32(this, value, offset, false)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkInt(this,\n             value,\n             offset,\n             byteLength,\n             Math.pow(2, 8 * byteLength - 1) - 1,\n             -Math.pow(2, 8 * byteLength - 1))\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100))\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkInt(this,\n             value,\n             offset,\n             byteLength,\n             Math.pow(2, 8 * byteLength - 1) - 1,\n             -Math.pow(2, 8 * byteLength - 1))\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100))\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = value\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n  } else objectWriteUInt16(this, value, offset, true)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = value\n  } else objectWriteUInt16(this, value, offset, false)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else objectWriteUInt32(this, value, offset, true)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = value\n  } else objectWriteUInt32(this, value, offset, false)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n  if (offset < 0) throw new RangeError('index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert)\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert)\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function (target, target_start, start, end) {\n  var source = this\n\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (target_start >= target.length) target_start = target.length\n  if (!target_start) target_start = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || source.length === 0) return 0\n\n  // Fatal error conditions\n  if (target_start < 0)\n    throw new RangeError('targetStart out of bounds')\n  if (start < 0 || start >= source.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length)\n    end = this.length\n  if (target.length - target_start < end - start)\n    end = target.length - target_start + start\n\n  var len = end - start\n\n  if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < len; i++) {\n      target[i + target_start] = this[i + start]\n    }\n  } else {\n    target._set(this.subarray(start, start + len), target_start)\n  }\n\n  return len\n}\n\n// fill(value, start=0, end=buffer.length)\nBuffer.prototype.fill = function (value, start, end) {\n  if (!value) value = 0\n  if (!start) start = 0\n  if (!end) end = this.length\n\n  if (end < start) throw new RangeError('end < start')\n\n  // Fill 0 bytes; we're done\n  if (end === start) return\n  if (this.length === 0) return\n\n  if (start < 0 || start >= this.length) throw new RangeError('start out of bounds')\n  if (end < 0 || end > this.length) throw new RangeError('end out of bounds')\n\n  var i\n  if (typeof value === 'number') {\n    for (i = start; i < end; i++) {\n      this[i] = value\n    }\n  } else {\n    var bytes = utf8ToBytes(value.toString())\n    var len = bytes.length\n    for (i = start; i < end; i++) {\n      this[i] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n/**\n * Creates a new `ArrayBuffer` with the *copied* memory of the buffer instance.\n * Added in Node 0.12. Only available in browsers that support ArrayBuffer.\n */\nBuffer.prototype.toArrayBuffer = function () {\n  if (typeof Uint8Array !== 'undefined') {\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n      return (new Buffer(this)).buffer\n    } else {\n      var buf = new Uint8Array(this.length)\n      for (var i = 0, len = buf.length; i < len; i += 1) {\n        buf[i] = this[i]\n      }\n      return buf.buffer\n    }\n  } else {\n    throw new TypeError('Buffer.toArrayBuffer not supported in this browser')\n  }\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar BP = Buffer.prototype\n\n/**\n * Augment a Uint8Array *instance* (not the Uint8Array class!) with Buffer methods\n */\nBuffer._augment = function (arr) {\n  arr.constructor = Buffer\n  arr._isBuffer = true\n\n  // save reference to original Uint8Array get/set methods before overwriting\n  arr._get = arr.get\n  arr._set = arr.set\n\n  // deprecated, will be removed in node 0.13+\n  arr.get = BP.get\n  arr.set = BP.set\n\n  arr.write = BP.write\n  arr.toString = BP.toString\n  arr.toLocaleString = BP.toString\n  arr.toJSON = BP.toJSON\n  arr.equals = BP.equals\n  arr.compare = BP.compare\n  arr.copy = BP.copy\n  arr.slice = BP.slice\n  arr.readUIntLE = BP.readUIntLE\n  arr.readUIntBE = BP.readUIntBE\n  arr.readUInt8 = BP.readUInt8\n  arr.readUInt16LE = BP.readUInt16LE\n  arr.readUInt16BE = BP.readUInt16BE\n  arr.readUInt32LE = BP.readUInt32LE\n  arr.readUInt32BE = BP.readUInt32BE\n  arr.readIntLE = BP.readIntLE\n  arr.readIntBE = BP.readIntBE\n  arr.readInt8 = BP.readInt8\n  arr.readInt16LE = BP.readInt16LE\n  arr.readInt16BE = BP.readInt16BE\n  arr.readInt32LE = BP.readInt32LE\n  arr.readInt32BE = BP.readInt32BE\n  arr.readFloatLE = BP.readFloatLE\n  arr.readFloatBE = BP.readFloatBE\n  arr.readDoubleLE = BP.readDoubleLE\n  arr.readDoubleBE = BP.readDoubleBE\n  arr.writeUInt8 = BP.writeUInt8\n  arr.writeUIntLE = BP.writeUIntLE\n  arr.writeUIntBE = BP.writeUIntBE\n  arr.writeUInt16LE = BP.writeUInt16LE\n  arr.writeUInt16BE = BP.writeUInt16BE\n  arr.writeUInt32LE = BP.writeUInt32LE\n  arr.writeUInt32BE = BP.writeUInt32BE\n  arr.writeIntLE = BP.writeIntLE\n  arr.writeIntBE = BP.writeIntBE\n  arr.writeInt8 = BP.writeInt8\n  arr.writeInt16LE = BP.writeInt16LE\n  arr.writeInt16BE = BP.writeInt16BE\n  arr.writeInt32LE = BP.writeInt32LE\n  arr.writeInt32BE = BP.writeInt32BE\n  arr.writeFloatLE = BP.writeFloatLE\n  arr.writeFloatBE = BP.writeFloatBE\n  arr.writeDoubleLE = BP.writeDoubleLE\n  arr.writeDoubleBE = BP.writeDoubleBE\n  arr.fill = BP.fill\n  arr.inspect = BP.inspect\n  arr.toArrayBuffer = BP.toArrayBuffer\n\n  return arr\n}\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-z\\-]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction isArrayish (subject) {\n  return isArray(subject) || Buffer.isBuffer(subject) ||\n      subject && typeof subject === 'object' &&\n      typeof subject.length === 'number'\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes(string, units) {\n  var codePoint, length = string.length\n  var leadSurrogate = null\n  units = units || Infinity\n  var bytes = []\n  var i = 0\n\n  for (; i<length; i++) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n\n      // last char was a lead\n      if (leadSurrogate) {\n\n        // 2 leads in a row\n        if (codePoint < 0xDC00) {\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          leadSurrogate = codePoint\n          continue\n        }\n\n        // valid surrogate pair\n        else {\n          codePoint = leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00 | 0x10000\n          leadSurrogate = null\n        }\n      }\n\n      // no lead yet\n      else {\n\n        // unexpected trail\n        if (codePoint > 0xDBFF) {\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // unpaired lead\n        else if (i + 1 === length) {\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        else {\n          leadSurrogate = codePoint\n          continue\n        }\n      }\n    }\n\n    // valid bmp char, but last char was a lead\n    else if (leadSurrogate) {\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n      leadSurrogate = null\n    }\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    }\n    else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      );\n    }\n    else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      );\n    }\n    else if (codePoint < 0x200000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      );\n    }\n    else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length, unitSize) {\n  if (unitSize) length -= length % unitSize;\n  for (var i = 0; i < length; i++) {\n    if ((i + offset >= dst.length) || (i >= src.length))\n      break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction decodeUtf8Char (str) {\n  try {\n    return decodeURIComponent(str)\n  } catch (err) {\n    return String.fromCharCode(0xFFFD) // UTF 8 invalid char\n  }\n}\n",
    "var lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n;(function (exports) {\n\t'use strict';\n\n  var Arr = (typeof Uint8Array !== 'undefined')\n    ? Uint8Array\n    : Array\n\n\tvar PLUS   = '+'.charCodeAt(0)\n\tvar SLASH  = '/'.charCodeAt(0)\n\tvar NUMBER = '0'.charCodeAt(0)\n\tvar LOWER  = 'a'.charCodeAt(0)\n\tvar UPPER  = 'A'.charCodeAt(0)\n\tvar PLUS_URL_SAFE = '-'.charCodeAt(0)\n\tvar SLASH_URL_SAFE = '_'.charCodeAt(0)\n\n\tfunction decode (elt) {\n\t\tvar code = elt.charCodeAt(0)\n\t\tif (code === PLUS ||\n\t\t    code === PLUS_URL_SAFE)\n\t\t\treturn 62 // '+'\n\t\tif (code === SLASH ||\n\t\t    code === SLASH_URL_SAFE)\n\t\t\treturn 63 // '/'\n\t\tif (code < NUMBER)\n\t\t\treturn -1 //no match\n\t\tif (code < NUMBER + 10)\n\t\t\treturn code - NUMBER + 26 + 26\n\t\tif (code < UPPER + 26)\n\t\t\treturn code - UPPER\n\t\tif (code < LOWER + 26)\n\t\t\treturn code - LOWER + 26\n\t}\n\n\tfunction b64ToByteArray (b64) {\n\t\tvar i, j, l, tmp, placeHolders, arr\n\n\t\tif (b64.length % 4 > 0) {\n\t\t\tthrow new Error('Invalid string. Length must be a multiple of 4')\n\t\t}\n\n\t\t// the number of equal signs (place holders)\n\t\t// if there are two placeholders, than the two characters before it\n\t\t// represent one byte\n\t\t// if there is only one, then the three characters before it represent 2 bytes\n\t\t// this is just a cheap hack to not do indexOf twice\n\t\tvar len = b64.length\n\t\tplaceHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0\n\n\t\t// base64 is 4/3 + up to two characters of the original data\n\t\tarr = new Arr(b64.length * 3 / 4 - placeHolders)\n\n\t\t// if there are placeholders, only get up to the last complete 4 chars\n\t\tl = placeHolders > 0 ? b64.length - 4 : b64.length\n\n\t\tvar L = 0\n\n\t\tfunction push (v) {\n\t\t\tarr[L++] = v\n\t\t}\n\n\t\tfor (i = 0, j = 0; i < l; i += 4, j += 3) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))\n\t\t\tpush((tmp & 0xFF0000) >> 16)\n\t\t\tpush((tmp & 0xFF00) >> 8)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\tif (placeHolders === 2) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)\n\t\t\tpush(tmp & 0xFF)\n\t\t} else if (placeHolders === 1) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)\n\t\t\tpush((tmp >> 8) & 0xFF)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\treturn arr\n\t}\n\n\tfunction uint8ToBase64 (uint8) {\n\t\tvar i,\n\t\t\textraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes\n\t\t\toutput = \"\",\n\t\t\ttemp, length\n\n\t\tfunction encode (num) {\n\t\t\treturn lookup.charAt(num)\n\t\t}\n\n\t\tfunction tripletToBase64 (num) {\n\t\t\treturn encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)\n\t\t}\n\n\t\t// go through the array every three bytes, we'll deal with trailing stuff later\n\t\tfor (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {\n\t\t\ttemp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n\t\t\toutput += tripletToBase64(temp)\n\t\t}\n\n\t\t// pad the end with zeros, but make sure to not forget the extra bytes\n\t\tswitch (extraBytes) {\n\t\t\tcase 1:\n\t\t\t\ttemp = uint8[uint8.length - 1]\n\t\t\t\toutput += encode(temp >> 2)\n\t\t\t\toutput += encode((temp << 4) & 0x3F)\n\t\t\t\toutput += '=='\n\t\t\t\tbreak\n\t\t\tcase 2:\n\t\t\t\ttemp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])\n\t\t\t\toutput += encode(temp >> 10)\n\t\t\t\toutput += encode((temp >> 4) & 0x3F)\n\t\t\t\toutput += encode((temp << 2) & 0x3F)\n\t\t\t\toutput += '='\n\t\t\t\tbreak\n\t\t}\n\n\t\treturn output\n\t}\n\n\texports.toByteArray = b64ToByteArray\n\texports.fromByteArray = uint8ToBase64\n}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))\n",
    "exports.read = function(buffer, offset, isLE, mLen, nBytes) {\n  var e, m,\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      nBits = -7,\n      i = isLE ? (nBytes - 1) : 0,\n      d = isLE ? -1 : 1,\n      s = buffer[offset + i];\n\n  i += d;\n\n  e = s & ((1 << (-nBits)) - 1);\n  s >>= (-nBits);\n  nBits += eLen;\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n  m = e & ((1 << (-nBits)) - 1);\n  e >>= (-nBits);\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity);\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n};\n\nexports.write = function(buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c,\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0),\n      i = isLE ? 0 : (nBytes - 1),\n      d = isLE ? 1 : -1,\n      s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0;\n\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8);\n\n  e = (e << mLen) | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8);\n\n  buffer[offset + i - d] |= s * 128;\n};\n",
    "\n/**\n * isArray\n */\n\nvar isArray = Array.isArray;\n\n/**\n * toString\n */\n\nvar str = Object.prototype.toString;\n\n/**\n * Whether or not the given `val`\n * is an array.\n *\n * example:\n *\n *        isArray([]);\n *        // > true\n *        isArray(arguments);\n *        // > false\n *        isArray('');\n *        // > false\n *\n * @param {mixed} val\n * @return {bool}\n */\n\nmodule.exports = isArray || function (val) {\n  return !! val && '[object Array]' == str.call(val);\n};\n",
    "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n",
    "// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    draining = true;\n    var currentQueue;\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        var i = -1;\n        while (++i < len) {\n            currentQueue[i]();\n        }\n        len = queue.length;\n    }\n    draining = false;\n}\nprocess.nextTick = function (fun) {\n    queue.push(fun);\n    if (!draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n"
  ]
}